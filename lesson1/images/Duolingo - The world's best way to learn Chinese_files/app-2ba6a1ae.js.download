(self.webpackChunk=self.webpackChunk||[]).push([[2143],{33096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","course-card-container":"_3rrla","course-list":"_3EINK _3rrla","image-container":"iNDwf","_course-card-base":"zA0zE","_course-card":"_2s7-g zA0zE","course-card-white":"zAIdz _2s7-g zA0zE","course-card-transparent":"uS_Xr _2s7-g zA0zE","course-card-header":"OiLKR","badge-row":"_137vt",badge:"_3j5gj","hatching-badge":"_4_fyk _3j5gj","learning-badge-container":"rOB_o _3j5gj","learning-badge":"_2QAJe _6rxB4 _2jNpf","beta-badge":"_2UXQT _3j5gj","_language-name":"_25WYd","language-name-white":"_3ly0h _25WYd","language-name-transparent":"ybptu _25WYd","_learn-count":"_3G1xD","learn-count-white":"_1Dcvf _3G1xD","learn-count-transparent":"_3kfO4 _3G1xD"}},394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",_button:"_27Lhl","cta-button":"_3yQTJ _27Lhl",description:"_3D9Yz","dark-plus":"_2WxgN","dismiss-mobile":"_22TXY ZpZ4W","dismiss-mobile-dark-plus":"_1UkSX _2Xxi7","dismiss-desktop":"keNlq _27Lhl","dismiss-desktop-dark-plus":"_2SUW6 _2Zb01 _27Lhl",grid:"D2Can","has-description":"_2Bv54","has-dismiss":"_2q1yT","has-image":"_18Uy5","image-container":"ixpWY","left-bottom":"_3UxVy","right-top":"dqlNe",title:"_171ia"}},36843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",error:"_14ezr","invalid-form-fields":"_2pLas _14ezr","invalid-form-field":"_1G8OV _14ezr","general-error":"_38ciC _14ezr","debug-error-details":"ka4vU"}},82793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","_hoverable-cell":"HcCiJ","user-cell-minimal":"_1p4nk HcCiJ","user-popover":"_3fQZ_","user-popover-wrap":"_2nNOn","v-white":"_2W9Rv _1qqNj _2jNpf","user-item":"_1O5Vj","user-link":"OinNF _1Jk5X","logged-out-topbar-wrap":"_1UDxB","splash-topbar-wrap":"VIArj","logged-out-topbar":"_3shUr","logged-out-logo-container":"_31Zea","logged-out-logo":"_1Iy-H","right-header":"_2stpn","hidden-on-mobile":"_1Uyv-","ui-language-wrap":"oIYBe","ui-language":"_1nF80","ui-language-base":"_2KnEg","ui-language-text":"_1eWzQ _2KnEg","ui-language-text-gray":"_166Dl _2KnEg","ui-language-picker":"_2sAPv",_icon:"SzuBt",caret:"_1fl7C _1qqNj _2jNpf","caret-gray":"sqhET _9mYhl _2jNpf","get-started":"_23Rhv _2dZP2","login-button":"_3nprV _2dZP2","hidden-everywhere":"fwYNM","arrow-with-margin-gray":"p0JB5"}},44536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",right:"_2QjSA","account-link-container":"_24Po4","account-link-buttons-container":"_2yVVk","account-icon":"_16bPi","account-text":"_1UYxD","language-chooser-list":"_3thSj","_top-bar-container-base":"VJQfL _23rtc","topbar-container":"_1F_pn VJQfL _23rtc","topbar-container-control":"_2ZKdb VJQfL _23rtc","_top-bar-base":"vSmYc",topbar:"zjpsS vSmYc","topbar-control":"TUxJ9 vSmYc","_background-base":"LbDYs",_background:"I430y LbDYs","_background-control":"_1s70s LbDYs","background-general-control":"_3vq3V _1s70s LbDYs","background-primer-page-control":"_1D0ri _1s70s LbDYs","background-general":"_3q8F1 I430y LbDYs","background-primer-page":"_3UNNF I430y LbDYs","inner-container":"_3hl8U","button-group-container":"_1ntOW",title:"DYCFd",subtitle:"_3QCyr","top-left-button":"_1tAdQ _2kfEr _1nlVc _2fOC9 UCrz7 t5wFJ _2sPx0 _2jNpf _1G1lu","button-group-option":"_1niBE",left:"_3wdmr","continue-btn":"_3Zy4Q","hdyhas-continue-btn":"gJ3Z4",facebook:"KpM8t fb3uN",google:"_2Dar-","not-now":"_1Uc0E","paths-container":"lqlF7","path-title":"_2cltK","path-btn":"_1lHHm","placement-onboarding-icon":"zOays","placement-test-onboarding-icon":"_1fa9i","user-motivation-container":"_3lxh2","user-motivation-choice-container":"_1xvJh","user-motivation-choice-group":"_4g7CC",choice:"XH783",icon:"_3FavH",bottom:"_18aNm","progress-bar":"_1PPqZ",quit:"fCAG0 _2kfEr _1nlVc _2fOC9 UCrz7 t5wFJ _1DC8p _2jNpf"}},88528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210"}},47725:(e,t,n)=>{"use strict";n.d(t,{P:()=>c,Z:()=>u});var o=n(27378),i=n(4289),r=n(17060),s=n(51158),a=n(88868),l=n(785);class c extends o.Component{constructor(){super(...arguments),this.handleClick=e=>{var t;const{trackingScreen:n,trackingTarget:o}=this.props;"a"===(null===(t=e.target.tagName)||void 0===t?void 0:t.toLowerCase())&&(0,l.j)("click",{screen:n,target:o})}}render(){return o.createElement("span",{onClick:this.handleClick},this.props.children)}}const u=e=>{var t,{activeClassName:n,autoFocus:c,children:u,id:d,onClick:p,locationState:m,trackingScreen:g,trackingTarget:h}=e;const _=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["activeClassName","autoFocus","children","id","onClick","locationState","trackingScreen","trackingTarget"]),v=o.useRef(null);(0,r.Z)({disabled:!d,id:d,offset:-100});const f=e=>{g&&h&&(0,l.j)("click",{screen:g,target:h}),null==p||p(e)};if(o.useEffect((()=>{var e;c&&(null===(e=v.current)||void 0===e||e.focus())}),[c]),"target"in _&&_.target&&"_blank"===_.target.toLowerCase()&&(_.rel="rel"in _&&_.rel&&"noopener"!==_.rel.toLowerCase()?`${_.rel} noopener`:"noopener"),!(null===(t=_.href)||void 0===t?void 0:t.startsWith("#"))&&_.href&&(0,a.Iw)(_.href)){_.href.startsWith("http")&&console.warn("Routable URL includes a protocol and domain");const{hash:e,pathname:t,search:r}=_.href.startsWith("http")?new URL(_.href):new URL(_.href,window.location.origin);return _.to={hash:e,pathname:t,search:r,state:m},delete _.href,o.createElement(i.OL,Object.assign({},_,{activeClassName:n||"",onClick:f,ref:v}),u)}return void 0!==n&&(0,s.Kp)("activeClassName was set on a native anchor tag",{data:{href:_.href},once:!0}),o.createElement("a",Object.assign({},_,{onClick:f,ref:v,tabIndex:0}),u)}},43670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(60042),i=n.n(o),r=n(27378),s=n(4088),a=n(42659);var l=n(60610),c=n(785),u=n(66195);const d={large:63,medium:48,xlarge:77},p=e=>{var t,n;const{forceNoPicture:o=!1,size:p,useSize:m=!0,user:g}=e,h=(0,l.Fx)(a.dY),_=(0,l.Fx)(a.gg),v=g.id===h,f=`${e.picture||g.picture}${m?`/${p}`:""}`,y=null!==(t=e.displaySize)&&void 0!==t?t:d[p];return(0,u.z_)(f)||o||_?r.createElement(s.Z,{id:g.id,name:g.name,size:null!=y?y:p,style:v&&!o?"ghost":"colored",username:g.username}):r.createElement("img",{alt:null!==(n=g.name)&&void 0!==n?n:g.username,className:i()("_33LFc",c.qE),src:f,style:{height:y,width:y}})}},81928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(27378),i=n(47725),r=n(30033),s=n(785),a=n(2945);const l=({[r.m5]:e,children:t,className:n})=>{const l=(0,a.Gi)();return o.createElement(i.Z,Object.assign({className:n,href:l?`https://support.duolingo.com/hc/${l}`:"/help",onClick:()=>{(0,s.j)("help_center_tap",{})}},(0,r._q)(e)),t)}},19778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(60042),i=n.n(o),r=n(27378);var s=n(89454),a=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const l=({className:e,guaranteedSafeSrc:t,style:n})=>{const[o,l]=r.useState("");return r.useEffect((()=>{a(void 0,void 0,void 0,(function*(){l(yield(e=>a(void 0,void 0,void 0,(function*(){return(yield(new s.Sl).getText(e)).data.replace(/(<svg[^>]+)\sid=".*?"/,"$1")})))(t))}))}),[]),r.createElement("span",{className:i()("_286XF",e),dangerouslySetInnerHTML:{__html:o},style:n})}},22498:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=(0,n(1398).Z)((()=>Promise.all([n.e(3),n.e(5523),n.e(4332)]).then(n.bind(n,75778)).then((e=>({default:e.LottieAnimation})))))},54126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var o=n(60042),i=n.n(o),r=n(27378),s=n(83063),a=n(47725),l=n(19778),c=n(43539),u=n(20042),d=n(52263);const p={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",_wrap:"_2SJZg","size-default":"_3_UBz","size-compact":"EY75l","size-icon":"_31mcG",icon:"_2Gbos",text:"_1sq2h",wrap:"_2tJXd _2SJZg _2mU94","wrap-blue":"_2uyc5 _2SJZg _1vSRH","wrap-white":"_247QD _2SJZg _3qZKu"};var m=n(68903),g=n(13840),h=n(785);const _=({children:e,className:t,href:n,image:o,onClick:c,onDarkBackground:u,size:d="default",style:m="white"})=>r.createElement(a.Z,{className:i()((0,s.y)({variant:"blue"===m||u?"solid":"stroke"}),p["wrap"+("blue"===m?"-blue":u?"-white":"")],p[`size-${d}`],t),href:n,onClick:c},r.createElement(l.Z,{className:p.icon,guaranteedSafeSrc:o}),r.createElement("span",{className:p.text},e)),v=e=>{var{forceLanguage:t,type:n,via:o}=e,i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["forceLanguage","type","via"]);switch(r.useEffect((()=>{o&&(0,h.j)("web_to_app_store_load",{via:o})}),[]),n){case"apple":return r.createElement(_,Object.assign({image:u},i),"en"===t?r.createElement("span",null,r.createElement("span",{className:"subtext"},"Download on the"),"App Store"):"es"===t?r.createElement("span",null,r.createElement("span",{className:"subtext"},"Descárgala en el"),"App Store"):(0,g._i)(7893));case"china":return r.createElement(_,Object.assign({image:c},i),r.createElement("span",null,r.createElement("span",null,"下载请前往"),"360 手机助手"));case"google":return r.createElement(_,Object.assign({image:d},i),"en"===t?r.createElement("span",null,r.createElement("span",{className:"subtext"},"Get it on"),"Google Play"):"es"===t?r.createElement("span",null,r.createElement("span",{className:"subtext"},"Disponible en"),"Google Play"):(0,g._i)(9328));default:return(0,m.RJ)(n),null}}},56090:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n(60042),i=n.n(o),r=n(27378),s=n(50065),a=n(81734),l=n(47725),c=n(42659),u=n(33096),d=n(30033),p=n(26886),m=n(67173),g=n(13840),h=n(74245);const _=(0,s.$j)((e=>({config:(0,c.Mb)(e)})))((({className:e,config:t,course:n,headingTag:o="div",href:s,isLoggedIn:c=!1,learning:_=!1,onSelectCourse:v,theme:f="white"})=>{const{fromLanguageId:y,learningLanguageId:E,numLearners:b,numLearnersString:S,phase:w,progress:T}=n;let I;const k=(0,p.s7)(t,y,c,E,w)&&w===h.AP.Active?h.AP.Beta:w;switch(k){case h.AP.Active:I=(0,g._i)(8380,{progress:T});break;default:I=(0,g._i)(9517,{num_learners:b,num_learners_string:S})}let R=null;if(_)R=r.createElement("div",{className:u.Z["learning-badge-container"]},r.createElement("span",{className:u.Z["learning-badge"]}));else switch(k){case h.AP.Active:R=r.createElement("span",{className:u.Z["hatching-badge"]},(0,g._i)(20972));break;case h.AP.Beta:R=r.createElement("span",{className:u.Z["beta-badge"]},(0,g._i)(20274))}const C=o||"div",O=()=>r.createElement("div",{className:u.Z["image-container"]},r.createElement("div",{className:u.Z["badge-row"]},R),r.createElement("div",{className:u.Z["course-card-header"]},r.createElement(a.Z,{lang:E,size:88})),r.createElement(C,{className:u.Z[`language-name-${f}`]},(0,g._i)(154,{language_name:(0,h.vY)(E)})),r.createElement("div",{className:u.Z[`learn-count-${f}`]},I)),N=Object.assign({className:i()(u.Z[`course-card-${f}`],e),onClick:v},(0,d._q)(m.V.LanguageCard,`language-${E}`));return s?r.createElement(l.Z,Object.assign({},N,{href:s}),O()):r.createElement("button",Object.assign({},N),O())}))},57344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var o=n(60042),i=n.n(o),r=n(27378),s=n(95269),a=n(39675),l=n(60097),c=n(14349),u=n(43744),d=n(55193),p=n(28781),m=n(12378),g=n(86962),h=n(71945),_=n(7748),v=n(14446),f=n(28717),y=n(57693);var E=n(30033),b=n(67173),S=n(68903),w=n(13840);const T=(e,t,n)=>{switch(e){case"empty":switch(t){case"light":switch(n){case"light":return u;case"bold-light":return c;default:return d}case"dark":return s;default:return void(0,S.RJ)(t)}case"empty-final":switch(t){case"light":return l;case"dark":return a;default:return void(0,S.RJ)(t)}case"final":switch(n){case"dark":return g;case"bold-dark":return p;case"bold-light":return m;default:return h}case"gold":switch(n){case"dark":return f;case"bold-dark":return _;case"bold-light":return v;default:return y}default:return void(0,S.RJ)(e)}},I=r.forwardRef((({className:e,crownNumber:t,crownVariant:n,fillVariant:o="light",outlineVariant:s="bold-light",size:a,style:l},c)=>r.createElement("div",{className:i()("_2-dXY",e),style:l},r.createElement("img",{alt:(0,w.H8)(6199),className:"_18sNN",ref:c,src:T(n,o,s),style:a?{height:`${a}px`,width:`${a}px`}:void 0}),t?r.createElement("div",Object.assign({className:"GkDDe"},(0,E._q)(b.V.LevelCrown)),t):null)))},75025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(27378),i=n(97015);const r=({content:e,title:t,children:n})=>o.createElement(i.q,null,o.createElement("meta",{content:e,id:"meta-description",name:"description"}),o.createElement("meta",{content:e,name:"twitter:description"}),o.createElement("meta",{content:e,name:"og:description"}),t?o.createElement("title",null,t):null,n)},5137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var o=n(60042),i=n.n(o),r=n(27378),s=n(31542),a=n(80254),l=n(33389),c=n(22498),u=n(57344),d=n(41777);var p=n(60610);const m=()=>r.createElement("div",{className:"_1m7gz"}),g=({className:e,isDecayed:t})=>{const n=(0,p.Tb)(),[o,i]=r.useState(!1),[s,a]=r.useState(!1);return(0,p.Gj)((()=>{i(!t)}),[t]),r.createElement("div",{className:e},t?r.createElement(m,null):o&&!n?r.createElement(r.Suspense,{fallback:r.createElement(m,null)},r.createElement(c.Z,{className:s?void 0:"_3h2kX",fillMode:"forwards",isPlaying:!0,onDOMLoaded:()=>a(!0),onDestroy:()=>a(!1),path:d}),s?null:r.createElement(m,null)):null)};var h=n(39248),_=n(48453),v=n(9979);const f=e=>2*e*Math.PI,y=({cornerRadius:e,endAngle:t,radius:n,startAngle:o,width:i})=>{var r;return null!==(r=_.Z().cornerRadius(null!=e?e:0)({endAngle:t,innerRadius:n-i,outerRadius:n,startAngle:null!=o?o:0}))&&void 0!==r?r:""},E=r.memo((({animationDelay:e=0,animationDuration:t,backgroundColor:n,className:o,denominator:i,foregroundColor:s,numerator:l,style:c,tipColor:u})=>{const[d,p]=r.useState(i),[m,g]=r.useState(l),[h]=r.useState(a.EL("session/ProgressRing")),_=r.useRef(),E=r.useRef();r.useEffect((()=>{if(void 0!==t&&void 0!==_.current&&void 0!==E.current){let n=!1;const o=_.current,r=E.current;return(0,v.jt)({animationDelay:e,animationDuration:t,easingFunction:v.q8.Linear,onAnimate:e=>{n||(p(o+e*(i-o)),g(r+e*(l-r)))}}),()=>{n=!0}}p(i),g(l),_.current=i,E.current=l}),[e,t,i,l]);const b=m/d,S=u&&m>0?8/3:0,w=S/f(46),T=b+w>=1,I=(46,k=(b-4/f(46)-.25)*Math.PI*2,{x:46*Math.cos(k),y:46*Math.sin(k)});var k;return r.createElement("svg",{className:o,style:c,viewBox:"0 0 100 100"},r.createElement("defs",null,r.createElement("clipPath",{id:`clip-${h}`},r.createElement("path",{d:y({cornerRadius:4,endAngle:(b+2*w)*Math.PI*2,radius:50,width:8})}))),r.createElement("g",{transform:"translate(50, 50)"},r.createElement("path",{d:y({endAngle:2*Math.PI,radius:50,width:8}),fill:T?s:n}),u?r.createElement("circle",{clipPath:`url(#clip-${h})`,cx:I.x,cy:I.y,fill:u,r:4+S}):null,r.createElement("path",{d:y({cornerRadius:4,endAngle:b*Math.PI*2,radius:50,startAngle:T?(b-1+w)*Math.PI*2:0,width:8}),fill:s})))}));var b=n(64176),S=n(47754);const w={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",background:"#e5e5e5","crown-width-factor":"0.8",foreground:"#ffd900","foreground-final":"#a9a1ff",tip:"white","_absolute-fill":"_2qVNv",wrap:"_15U-t",circle:"_3Sv-w","color-gold":"_3dqWQ","color-starling":"_2rjLm","color-gray":"_1Nr_x","color-blue":"_1Pekr","color-green":"_3JzCh","color-purple":"_1xQ7h","color-red":"vIMmj","color-blueberry":"a-58R","color-kiwi":"_1OKiq","color-jelly":"_50MDd","color-raspberry":"_2tERm","color-pumpkin":"KC6xz",crack:"eU0Q4 _2qVNv",icon:"_17z4M _2qVNv","icon-hidden":"_35qQM _17z4M _2qVNv","icon-hoverable":"_2vb9l _17z4M _2qVNv","final-level-sparkles":"_34Snz _2qVNv","_mask-slide":"_1q6jQ","mask-slide":"CJBiX","mask-slide-in":"_3CsBl _1q6jQ","mask-slide-out":"_182e0 _1q6jQ",crown:"_1swBH","crown-container":"_17NNA","crown-container-transportable":"_1efMr","crown-scale":"TV5-h","crown-sparkles":"_5FEKN","crown-sparkles-container":"_3i__U _2qVNv","crown-sparkles-hidden":"_3w8yC _5FEKN","crown-sparkles-transported":"yLH6R _5FEKN","crown-transportable":"_11AYu _1swBH",transport:"_2QlTB","progress-ring":"_2rKNN _2qVNv","progress-ring-fade-in-out":"_3K20E _2rKNN _2qVNv _2Efkx","ring-pulse":"ZUQuz _2qVNv",throb:"Lg_aF",_throb:"_8qnge","particle-burst":"_2apBC _2qVNv","particle-0":"_3SvHg","_particle-burst-0":"_2kGXg","particle-1":"_294O9","_particle-burst-1":"_3OUyQ","particle-2":"_15Ug4","_particle-burst-2":"_3Vhe_","particle-3":"_2TrSK","_particle-burst-3":"_1vJP4","particle-4":"_9tODZ","_particle-burst-4":"_1ZXyC","particle-5":"hLe3S","_particle-burst-5":"_3wiDn","particle-6":"_2plck","_particle-burst-6":"_3_Sni"};var T=n(88528),I=n(50498),k=n(30033),R=n(67173),C=n(68903),O=n(88849),N=n(18313),P=n(17251);const L={1:n(89011),10:n(53961),11:n(79990),12:n(83320),13:n(59799),14:n(38354),15:n(36892),16:n(65386),17:n(66830),18:n(6112),19:n(61343),2:n(90136),20:n(96017),21:n(76483),22:n(60125),23:n(29065),24:n(50416),25:n(3139),26:n(23642),27:n(92327),28:n(33634),29:n(43876),3:n(81656),30:n(92419),31:n(25610),32:n(93884),33:n(82423),34:n(81907),35:n(48681),36:n(54030),37:n(18514),38:n(50674),39:n(69010),4:n(37141),40:n(53998),41:n(13035),42:n(23313),43:n(25183),44:n(90299),45:n(27307),46:n(40505),47:n(91869),48:n(21759),49:n(32212),5:n(24826),50:n(73402),51:n(62743),52:n(9209),53:n(64885),6:n(83800),63:n(65462),64:n(49718),65:n(7408),66:n(57075),69:n(86148),7:n(36599),8:n(82884),9:n(22570)};var A=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const D=parseInt(T.Z["z-index-topbar"],10)+1,x=parseFloat(w["crown-width-factor"]);var M,U;!function(e){e[e.Color=400]="Color",e[e.CrownSparkles=0]="CrownSparkles",e[e.CrownScale=0]="CrownScale",e[e.CrownTransport=0]="CrownTransport",e[e.ParticleBurst=0]="ParticleBurst",e[e.ProgressIncrease=0]="ProgressIncrease",e[e.ProgressIncreaseWithDelay=500]="ProgressIncreaseWithDelay",e[e.RingPulse=0]="RingPulse",e[e.Scroll=0]="Scroll"}(M||(M={})),function(e){e[e.Color=200]="Color",e[e.CrownSparkles=1216.6666666666665]="CrownSparkles",e[e.CrownScale=1200]="CrownScale",e[e.CrownTransport=600]="CrownTransport",e[e.ParticleBurst=1e3]="ParticleBurst",e[e.ProgressIncrease=300]="ProgressIncrease",e[e.ProgressIncreaseWithDelay=300]="ProgressIncreaseWithDelay",e[e.RingPulse=500]="RingPulse",e[e.Scroll=1e3]="Scroll"}(U||(U={}));const F=({skillColor:e})=>r.createElement("div",{className:w["particle-burst"]},a.DZ(7,(t=>r.createElement("div",{className:i()(w[`color-${e}`],w[`particle-${t}`]),key:`particle-${t}`})))),j=({animation:e,backgroundColor:t,currentAnimations:n,isFinalLevel:o,skillFraction:i})=>{const s={backgroundColor:w.background,className:w["progress-ring"],denominator:i.denominator,foregroundColor:w[o?"foreground-final":"foreground"],numerator:i.numerator,tipColor:null!=t?t:w.tip};if("SKILL_PROGRESS_PREVIEW"===(null==e?void 0:e.name)){const t=(0,P.up)(e.previewSnapshot);return r.createElement(r.Fragment,null,r.createElement(E,Object.assign({},s)),r.createElement(E,Object.assign({},s,{className:w["progress-ring-fade-in-out"],denominator:t.denominator,numerator:t.numerator})))}return n.includes("PROGRESS_FADE")?r.createElement(r.Fragment,null,r.createElement(E,Object.assign({},s)),r.createElement(l.Z,{animateOnMount:!0,duration:v.nN,isVisible:!1},r.createElement(E,Object.assign({},s,{denominator:1,numerator:1})))):n.includes("PROGRESS_INCREASE")?r.createElement(E,Object.assign({},s,{animationDelay:M.ProgressIncrease,animationDuration:U.ProgressIncrease})):n.includes("PROGRESS_INCREASE_WITH_DELAY")?r.createElement(E,Object.assign({},s,{animationDelay:M.ProgressIncreaseWithDelay,animationDuration:U.ProgressIncreaseWithDelay})):r.createElement(E,Object.assign({},s))},B=({active:e,animation:t,animateIcon:n,backgroundColor:o,crownsCountRef:l,hideProgress:d,inSessionEnd:m,isFinalLevel:_,onCurrentAnimationsChange:f,outlineVariant:y="bold-light",sectionStatus:E,skill:T,width:B})=>{var H;const G=(0,p.tX)(),V=(0,p.Tb)(),[Z,W]=r.useState(),[z,Y]=r.useState(),[$,K]=r.useState([]),[q,J]=r.useState(),[X,Q]=r.useState(!1),[ee,te]=r.useState(!!e),ne=t&&q?q:T,oe=(0,P.Re)(ne),ie=(0,P.S0)(ne),re=(0,P.up)(ne),se=r.useRef(null),ae=r.useRef(null),le=r.useRef(null),ce=()=>A(void 0,void 0,void 0,(function*(){if(le.current){const e=window.pageXOffset,t=window.pageYOffset+le.current.getBoundingClientRect().top-.3333333333333333*window.innerHeight;V?window.scrollTo(e,t):yield(0,O.G)({animationDelay:M.Scroll,animationDuration:U.Scroll,x:e,y:t})}}));r.useEffect((()=>{e&&!ee&&te(!0)}),[e,ee]),r.useEffect((()=>{null==f||f($)}),[$]),r.useEffect((()=>{switch(null==t?void 0:t.name){case"SCROLL_TO_SKILL":e=t,A(void 0,void 0,void 0,(function*(){K(["SCROLL"]),yield ce(),G({id:e.id,type:"DEQUEUE_ANIMATION"}),K([])}));break;case"SKILL_LEVEL_UP":(e=>{A(void 0,void 0,void 0,(function*(){var t,n,o;const{id:i,beforeSnapshot:r}=e;if(r.finishedLevels+1<T.finishedLevels)G({id:i,type:"DEQUEUE_ANIMATION"});else{switch(K([]),J(r),yield(0,v.Gg)(),e.location){case"sessionEnd":K(["PROGRESS_INCREASE_WITH_DELAY"]),J(Object.assign(Object.assign({},r),{finishedLessons:r.lessons})),yield(0,I._v)(M.ProgressIncreaseWithDelay+U.ProgressIncreaseWithDelay);break;case"skillTree":K(["SCROLL"]),yield ce(),K(["PROGRESS_INCREASE"]),J(Object.assign(Object.assign({},r),{finishedLessons:r.lessons})),yield(0,I._v)(M.ProgressIncrease+U.ProgressIncrease),K(["PROGRESS_FADE"]),yield(0,v.Gg)(),J(Object.assign(Object.assign({},r),{finishedLessons:T.finishedLessons})),yield(0,I._v)(v.nN)}if(K([]),J(T),V)K(["CROWNS_INCREMENT"]),yield(0,v.Gg)();else{W(null===(t=se.current)||void 0===t?void 0:t.getBoundingClientRect()),K(["CROWN_SCALE","CROWN_SPARKLES","ICON_COLOR"]),yield(0,I._v)(Math.max(M.Color+U.Color,M.CrownScale+U.CrownScale,M.CrownSparkles+U.CrownSparkles)),K(["CROWN_TRANSPORT_0"]),yield(0,v.Gg)();const i=null===(n=ae.current)||void 0===n?void 0:n.getBoundingClientRect(),r=null===(o=null==l?void 0:l.current)||void 0===o?void 0:o.getBoundingClientRect();i&&r&&Y(((e,t)=>{const n=e.height/(e.width/x),o=(1-x)/2,i=(1-n)/2,r=e.left-o*e.width/x,s=t.left-o*t.width/x,a=e.top-i*e.height/n;return`translateX(${s-r}px) translateY(${t.top-i*t.height/n-a}px) scale(${t.width/e.width})`})(i,r)),K(["CROWN_TRANSPORT_100"]),yield(0,I._v)(M.CrownTransport+U.CrownTransport),"sessionEnd"===e.location&&(K(["CROWN_TRANSPORT_SPARKLES","CROWNS_INCREMENT"]),yield(0,I._v)(M.CrownSparkles+U.CrownSparkles))}K([]),G({id:i,type:"DEQUEUE_ANIMATION"})}}))})(t);break;case"SKILL_PROGRESS":(e=>{A(void 0,void 0,void 0,(function*(){const{afterSnapshot:t,beforeSnapshot:n}=e;K([]),J(n),yield(0,v.Gg)(),K(["PROGRESS_INCREASE_WITH_DELAY"]),J(t),yield(0,I._v)(M.ProgressIncreaseWithDelay+U.ProgressIncreaseWithDelay),V||(K(["RING_PULSE"]),yield(0,I._v)(M.RingPulse+U.RingPulse)),K([]),G({id:e.id,type:"DEQUEUE_ANIMATION"})}))})(t);break;case"SKILL_REPAIR":(e=>{A(void 0,void 0,void 0,(function*(){K([]),J(Object.assign(Object.assign({},T),{decayed:!0})),yield(0,v.Gg)(),K(["PROGRESS_INCREASE_WITH_DELAY"]),J(T),yield(0,I._v)(M.ProgressIncreaseWithDelay+U.ProgressIncreaseWithDelay),K([]),G({id:e.id,type:"DEQUEUE_ANIMATION"})}))})(t);break;case"SKILL_UNLOCK":(e=>{A(void 0,void 0,void 0,(function*(){K([]),J(Object.assign(Object.assign({},T),{accessible:!1,finishedLessons:0,finishedLevels:0})),yield(0,I._v)(500),J(T),V||(K(["PARTICLE_BURST"]),yield(0,I._v)(M.ParticleBurst+U.ParticleBurst),K([])),G({id:e.id,type:"DEQUEUE_ANIMATION"})}))})(t)}var e}),[t]);const ue=(()=>{if($.includes("ICON_COLOR")){const e=Object.assign(Object.assign({},ne),{finishedLevels:ne.finishedLevels-1});return r.createElement("div",{className:i()(w[`color-${(0,P.S0)(e)}`],w.icon,w["mask-slide-out"])},r.createElement(h.Z,{iconId:T.iconId,skillStatus:(0,P.Re)(e)}))}return null})(),de=!V&&n&&!t&&ne.accessible&&ie!==P.fQ.Gold&&ie!==P.fQ.Starling&&ee,pe=r.createElement("div",{className:i()(w[`color-${ie}`],w["icon"+(t||m||de?"":"-hoverable")],$.includes("ICON_COLOR")?w["mask-slide-in"]:void 0)},r.createElement(h.Z,{iconId:T.iconId,skillStatus:oe})),[me,ge]=r.useState(!1),[he,_e]=r.useState(!1),ve=!V&&!de&&oe===P.sJ.FINALIZED&&!ne.decayed,fe=ve&&he;return r.useEffect((()=>{if(fe){const e=setTimeout((()=>{fe&&ge(!0)}),3e3*Math.random());return()=>clearTimeout(e)}}),[fe]),r.createElement("div",{className:i()(w.wrap,{[w.throb]:$.includes("PARTICLE_BURST")}),ref:le},d?null:r.createElement(j,{animation:t,backgroundColor:o,currentAnimations:$,isFinalLevel:null!=_?_:T.hasFinalLevel&&oe>=P.sJ.GILDED,skillFraction:re}),r.createElement("div",Object.assign({className:w.circle},(0,k._q)(R.V.SkillIcon)),de?r.createElement(r.Suspense,{fallback:pe},r.createElement(c.Z,{className:i()(w[`color-${ie}`],w["icon"+(X?"":"-hidden")]),isPlaying:!!e,loop:!0,onDOMLoaded:()=>Q(!0),onDestroy:()=>Q(!1),path:null!==(H=L[T.iconId])&&void 0!==H?H:""}),X?null:pe):r.createElement(r.Fragment,null,ue,pe,ve?r.createElement(r.Suspense,{fallback:null},r.createElement(c.Z,{className:w["final-level-sparkles"],isPlaying:me,loop:!0,onDOMLoaded:()=>_e(!0),onDestroy:()=>_e(!1),path:S})):null),r.createElement(g,{className:w.crack,isDecayed:!!ne.decayed}),$.includes("RING_PULSE")?r.createElement("svg",{className:w["ring-pulse"],viewBox:"0 0 100 100"},r.createElement("circle",{cx:"50",cy:"50",fill:"transparent",r:"48.75",stroke:"currentColor",strokeWidth:"2.5"})):null,$.includes("PARTICLE_BURST")?r.createElement(F,{skillColor:ie}):null),d?null:(()=>{const e=oe===P.sJ.FINALIZED,n=(()=>{switch(E){case N.HI.Locked:return"empty";case N.HI.Unlocked:return e?"final":ne.finishedLevels>0?"gold":"empty";default:throw(0,C.RJ)(E),Error(`Unexpected value for sectionStatus: ${E}`)}})(),o=Z?Object.assign(Object.assign({},a.ei(Z,"height","left","top","width")),{position:"fixed"}):void 0;return r.createElement(r.Fragment,null,r.createElement("div",{className:i()(w["crown-container"],{[w["crown-scale"]]:$.includes("CROWN_SCALE")}),ref:se},r.createElement(u.Z,{className:w.crown,crownNumber:e?void 0:ne.finishedLevels,crownVariant:n,outlineVariant:y,ref:ae,style:{fontSize:.14*B}})),"SKILL_LEVEL_UP"===(null==t?void 0:t.name)?(0,s.createPortal)(r.createElement("div",{className:w["crown-container-transportable"],style:Object.assign(Object.assign({},o),{transform:z,zIndex:D})},$.includes("CROWN_TRANSPORT_0")||$.includes("CROWN_TRANSPORT_100")?r.createElement(u.Z,{className:w["crown-transportable"],crownVariant:n,outlineVariant:y}):null,r.createElement("div",{className:i()(w["crown-sparkles-container"],{[w["crown-scale"]]:$.includes("CROWN_SCALE")})},r.createElement(r.Suspense,{fallback:null},r.createElement(c.Z,{className:w["crown-sparkles"+($.includes("CROWN_TRANSPORT_SPARKLES")?"-transported":$.includes("CROWN_SPARKLES")?"":"-hidden")],isPlaying:$.includes("CROWN_SPARKLES")||$.includes("CROWN_TRANSPORT_SPARKLES"),path:b})))),document.getElementById("overlays")):null)})())}},39248:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(27378),i=n(91783),r=n(92947),s=n(64756),a=n(85171),l=n(96772),c=n(68903),u=n(17251);const d=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,63,64,65,66,69],p=({className:e,iconId:t,skillStatus:n})=>{const p=(()=>{switch(n){case u.sJ.GILDED:return s;case u.sJ.FINALIZED:return r;case u.sJ.LOCKED:return a;case u.sJ.UNLOCKED:return l;default:throw(0,c.RJ)(n),Error(`Unexpected skillStatus: ${n}`)}})();return o.createElement(i.Z,{className:e,index:d.indexOf(t),itemHeight:135,length:d.length,src:p,width:135})}},54452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{APP_HOME_DEEP_LINK:()=>b,default:()=>S,isOnExperimentalMobileEmailVerificationPage:()=>E});var o=n(60042),i=n.n(o),r=n(27378),s=n(50065),a=n(69635),l=n(83063),c=n(47725),u=n(62827),d=n(94144);const p={"expanded-height":"_2l3RY","main-container":"_1QVD8","centered-image":"_9Fl1R",success:"muLbj",fail:"_1fX8Z",message:"_3fXhI","centered-text":"Iy-ZR","cta-box":"_6Zbky",cta:"_1Romf"};var m,g=n(89454),h=n(53229),_=n(13840),v=n(74597),f=n(16086);!function(e){e[e.VERIFYING=0]="VERIFYING",e[e.SUCCEEDED=1]="SUCCEEDED",e[e.FAILED=2]="FAILED"}(m||(m={}));class y extends r.Component{constructor(){super(...arguments),this.state={pageState:m.VERIFYING},this.renderVerifyingState=()=>r.createElement(u.Z,{className:p["expanded-height"]},r.createElement("img",{className:p["centered-image"],src:"https://d35aaqx5ub95lt.cloudfront.net/images/duo-spinner@2x.gif"})),this.renderSucceededState=()=>{const e=E(this.props.location);return r.createElement(r.Fragment,null,r.createElement(u.Z,{className:p[e?"main-container":"expanded-height"]},r.createElement("div",{className:p["centered-text"]},e?r.createElement("img",{alt:"",src:"https://d35aaqx5ub95lt.cloudfront.net/images/duo-email.svg"}):null,r.createElement("span",{className:p.success},(0,_._i)(22104)),r.createElement("span",{className:p.message},(0,_._i)(23690)))),e?r.createElement("div",{className:p["cta-box"]},r.createElement(c.Z,{className:i()((0,l.y)({color:"macaw",variant:"solid"}),p.cta),href:b,trackingScreen:"verification_page",trackingTarget:"mobile_app_open_or_install"},(0,_._i)(32344))):null)},this.renderFailedState=()=>r.createElement(u.Z,{className:p["expanded-height"]},r.createElement("div",{className:p["centered-text"]},r.createElement("span",{className:p.fail},(0,_._i)(21553)),r.createElement("span",{className:p.message},(0,_._i)(11554))))}componentDidMount(){return e=this,t=void 0,o=function*(){const{dispatch:e,history:t,match:{params:n},location:o}=this.props;let i,r,s=!1;try{i=(0,f.Jb)()}catch(e){i=void 0}if(r=parseInt((0,h.vl)(o.search).userId||"",10),!r&&i)r=i;else if(!r)return void this.setState({pageState:m.FAILED});i===r&&(s=!0);let a=!1;try{(yield g.Vi.emailVerificationUpdate(r,n.token)).success?(s||this.setState({pageState:m.SUCCEEDED}),a=!0):this.setState({pageState:m.FAILED})}catch(e){this.setState({pageState:m.FAILED})}if(s){const n=e((0,d.eY)());a&&(yield n,t.push("/"))}},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,n,o}render(){const{pageState:e}=this.state;switch(e){case m.SUCCEEDED:return this.renderSucceededState();case m.FAILED:return this.renderFailedState();case m.VERIFYING:default:return this.renderVerifyingState()}}}const E=e=>{const t=(0,h.vl)(e.search);return"verify_email"===t.target&&"2021-11"===t.version&&v.Z.hasMobileApp&&!(0,f.Pc)()},b=v.Z.android?"https://app.adjust.com/z5vyqb?deep_link=duolingo%3A%2F%2Fhome":"https://af4a.adj.st/home?adj_t=r4yebem&adj_redirect_ios=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fduolingo-language-lessons%2Fid570060128&adj_redirect_android=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.duolingo",S=(0,a.EN)((0,s.$j)()(y))},51900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(60042),i=n.n(o),r=n(27378),s=n(24448);const a={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",overlay:"_36g-h","overlay-drawer-on-modal":"_1Z19a"};const l=e=>{var{className:t,isDrawerOnModalOverlay:n}=e,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["className","isDrawerOnModalOverlay"]);return r.createElement(s.Z,Object.assign({className:i()(a["overlay"+(n?"-drawer-on-modal":"")],t)},o))}},94434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n(60042),i=n.n(o),r=n(27378),s=n(47725),a=n(48982);var l=n(30033),c=n(80388),u=n(67173),d=n(13840),p=n(74245),m=n(785),g=n(3800);const h=({children:e,href:t,linkClass:n,onClick:o,target:a})=>r.createElement("li",{className:"_1KXNm"},r.createElement(s.Z,{className:i()("_3KnwL _3yAjN",n),href:t,onClick:o,target:a},e)),_=({dividerStyle:e,linkStyle:t})=>r.createElement(r.Fragment,null,g.h?null:r.createElement("div",{className:"_3ky4c"},r.createElement("hr",{className:i()("_2tnT1",e)}),r.createElement("div",Object.assign({className:"_3dgVT"},(0,l._q)(u.V.FooterLinks)),r.createElement("ul",{className:"R1UFe"},r.createElement(h,{href:"/info",linkClass:t},(0,d._i)(7957)),"en"===p.h9?r.createElement(h,{href:"https://blog.duolingo.com",linkClass:t},(0,d._i)(14615)):null,r.createElement(h,{href:"https://schools.duolingo.com",linkClass:t},(0,d._i)(3984)),r.createElement(h,{href:"/mobile",linkClass:t},(0,d._i)(18971)),r.createElement(h,{href:"/efficacy",linkClass:t,onClick:()=>(0,m.j)("web_footer_efficacy_cta",{})},(0,d._i)(30464)),r.createElement(h,{href:"/help",linkClass:t},(0,d._i)(2922)),r.createElement(h,{href:"/guidelines",linkClass:t},(0,d._i)(16027)),r.createElement(h,{href:"https://careers.duolingo.com",linkClass:t},(0,d._i)(5919)),r.createElement(h,{href:"https://investors.duolingo.com",linkClass:t},(0,d._i)(30108)),r.createElement(h,{href:"/terms",linkClass:t},(0,d._i)(22838)),r.createElement(h,{href:"/privacy",linkClass:t},(0,d._i)(19704))))),(0,c.J9)()?r.createElement(a.dw,null):null)},45834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(60042),i=n.n(o),r=n(27378),s=n(83063);var a=n(13840),l=n(35160),c=n(785);class u extends r.Component{constructor(){super(...arguments),this.handleLogin=()=>{const{dispatch:e,redirectPath:t,trackingScreen:n,via:o}=this.props;(0,c.j)("click",{screen:n,target:"login"}),e({options:{allowLanguagelessUser:!0,isSignIn:!0,name:l.tl.SignInUp,redirectPath:t,removeFooter:!0,via:o},type:"TOGGLE_MODAL"})}}render(){const{buttonClassName:e,className:t,text:n}=this.props;return r.createElement("div",{className:i()("_1R3fw",t)},r.createElement(s.Z,{className:i()("_1dzAz _2pIQ_",e),id:"sign-in-btn",onClick:this.handleLogin,variant:"solid"},(0,a._i)(n||9109)))}}},62827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(60042),i=n.n(o),r=n(27378),s=n(94434);const a=({children:e,className:t,includeFooterLinks:n=!0})=>r.createElement(r.Fragment,null,r.createElement("div",{className:i()(t,"_2PVaI")},e),n?r.createElement(s.Z,null):null)},76864:(e,t,n)=>{"use strict";n.d(t,{hr:()=>W,NA:()=>V,aT:()=>Z});var o=n(60042),i=n.n(o),r=n(27378),s=n(69635),a=n(56e3),l=n(83063),c=n(47725),u=n(43670),d=n(81928),p=n(45834),m=n(80254),g=n(81734);const h={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","single-column":"WU2c8","ui-language-item":"_1L4sH","double-column":"_2bJUZ","ui-language-flag":"_24Zlo"};var _=n(74245),v=n(785),f=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const y=(0,_.Ho)(),E=m.XP(y),b=({className:e,singleColumn:t,trackingScreen:n,via:o})=>r.createElement("ul",{className:i()(e,h[(t?"single":"double")+"-column"])},E.map((e=>{const{pathname:t,search:i,hash:s}=window.location,a=`//${"zh"===e?"zh-CN":e}.duolingo.com${t}${i}${s}`;return r.createElement("li",{className:h["ui-language-item"],key:e},r.createElement(c.Z,{href:a,onClick:()=>{var t;t=e,f(void 0,void 0,void 0,(function*(){"splash"!==n&&"course_picker"!==n&&"courses_page"!==n&&"course_splash"!==n||(yield(0,v.j)("language_selector_tap",{fromLanguage:_.h9,toLanguage:t,via:o}))})),f(void 0,void 0,void 0,(function*(){"splash"===n&&(yield(0,v.j)("splash_tap",{target:"switch_language"}))}))}},r.createElement(g.Z,{className:h["ui-language-flag"],lang:e,size:24}),r.createElement("span",{className:h["ui-language-label"]},(0,_.lx)(e))))})));var S=n(87539);var w=n(35160);const T=()=>r.createElement(S.Z,{className:"_1d09m",modalName:w.tl.PickUiLanguage},(()=>r.createElement(b,{className:"QKKr1",singleColumn:!0})));var I=n(83537);const k="_2-EEb",R="_2EUSW _1Jk5X";var C=n(88528),O=n(53229),N=n(13840),P=n(64865),L=n(74597);class A extends r.Component{constructor(){super(...arguments),this.state={displayPopover:!1},this.handleUiLanguageChange=()=>{"splash"===this.props.trackingScreen&&(0,v.j)("splash_tap",{target:"hamburger_switch_language"}),this.props.dispatch({options:{name:w.tl.PickUiLanguage},type:"TOGGLE_MODAL"})}}componentDidMount(){(0,P.VF)({via:"mobile_menu"})&&(0,v.j)("web_to_app_store_load",{via:"mobile_menu"})}render(){const{via:e}=(0,O.vl)(),t=(0,P.VF)({via:"share_profile"===e?"share_profile":"mobile_menu"}),n=r.createElement(I.Z,{className:"IqgUt",onToggle:()=>this.setState((e=>({displayPopover:!e.displayPopover})),(()=>{if(this.state.displayPopover)switch(this.props.trackingScreen){case"splash":(0,v.j)("splash_tap",{target:"hamburger"});break;case"course_picker":(0,v.j)("course_picker_tap",{target:"hamburger",via:"onboarding"})}}))});return r.createElement("div",{className:"kbGl0"},n,this.state.displayPopover?r.createElement(a.Z,{direction:"down",offset:-40,onClick:()=>this.setState({displayPopover:!1}),onRequestClose:()=>this.setState({displayPopover:!1}),zIndex:parseInt(C.Z["z-index-popover"],10)},r.createElement("ul",null,r.createElement("li",{className:k},r.createElement(c.Z,{className:R,href:"/log-in",onClick:()=>{"splash"===this.props.trackingScreen&&(0,v.j)("splash_tap",{target:"hamburger_login"})}},(0,N._i)(1032))),r.createElement("li",{className:k},r.createElement(c.Z,{className:R,href:"/register",onClick:()=>{(0,v.j)("click",{which:"topbar get started"}),"splash"===this.props.trackingScreen&&(0,v.j)("splash_tap",{target:"hamburger_get_started"})}},(0,N._i)(18550))),t?r.createElement("li",{className:k},r.createElement(c.Z,{className:R,href:t,onClick:()=>{(0,v.j)("web_to_app_store_tap",{target:L.Z.ios?"apple":"google_or_China",via:"mobile_menu"})}},(0,N._i)(17779))):null,r.createElement("li",{className:k},r.createElement("button",{className:"MpS4m _1Jk5X",onClick:this.handleUiLanguageChange},(0,N._i)(18889)," ",(0,N._i)(154,{language_name:(0,_.vY)(_.h9)}))))):null,r.createElement(T,null))}}const D=A;var x=n(44629),M=n(94144),U=n(87122),F=n(82793),j=n(30033),B=n(67173),H=n(80321),G=n(20028);class V extends r.Component{constructor(){super(...arguments),this.state={showPopover:!1},this.popoverRef=r.createRef()}render(){const{config:e,dispatch:t,items:n,user:o,via:i}=this.props,{showPopover:s}=this.state;return r.createElement(x.Z,{className:F.Z["user-cell-minimal"],isOpen:s,onClose:()=>this.setState({showPopover:!1}),onOpen:()=>this.setState({showPopover:!0}),onToggle:()=>this.setState((e=>({showPopover:!e.showPopover}))),popoverState:{direction:"down",ref:this.popoverRef}},r.createElement("div",{className:F.Z["user-popover-wrap"]},r.createElement(u.Z,{displaySize:40,size:"medium",user:o}),s?r.createElement(a.Z,{direction:"down",innerClassName:F.Z["user-popover"],offset:-30,onRequestClose:()=>this.setState({showPopover:!1}),ref:this.popoverRef,zIndex:100},r.createElement("ul",null,(0,G.pN)(o)?r.createElement("li",{className:F.Z["user-item"]},r.createElement("span",{className:F.Z["user-link"],onClick:()=>{(0,v.j)("create_profile_button_tap",{source:"user_dropdown"}),t({options:{isSignIn:!1,name:w.tl.SignInUp,via:i},type:"TOGGLE_MODAL"})}},(0,N._i)(10954))):r.createElement("li",{className:F.Z["user-item"]},r.createElement(c.Z,Object.assign({},(0,j._q)(B.V.UserProfile),{className:F.Z["user-link"],href:`/profile/${o.username}`}),(0,N._i)(18538))),r.createElement("li",{className:F.Z["user-item"]},r.createElement(c.Z,Object.assign({},(0,j._q)(B.V.SoundSettings),{className:F.Z["user-link"],href:"/settings"}),(0,N._i)(185))),(0,H.n2)(o,n,e)?r.createElement("li",{className:F.Z["user-item"]},r.createElement("span",{className:F.Z["user-link"],onClick:()=>{(0,H.Zb)(t,"dropdown"),t({timestamp:Date.now(),type:"RESET_INVITE_BANNER_DISMISSALS"})}},(0,N._i)(14147))):null,r.createElement("li",{className:F.Z["user-item"]},r.createElement(d.Z,{className:F.Z["user-link"]},(0,N._i)(2922))),(0,G.B8)(o)?r.createElement("li",{className:F.Z["user-item"]},r.createElement(c.Z,{className:F.Z["user-link"],href:"/admin_tools"},(0,N._i)(24305))):null,(0,G.pN)(o)?r.createElement("li",{className:F.Z["user-item"]},r.createElement("span",{className:F.Z["user-link"],onClick:()=>t({options:{isSignIn:!0,name:w.tl.SignInUp,via:i},type:"TOGGLE_MODAL"})},(0,N._i)(1032))):r.createElement("li",{className:F.Z["user-item"]},r.createElement("span",{className:F.Z["user-link"],onClick:()=>t((0,M.kS)())},(0,N._i)(11491))))):null))}}const Z=({className:e,style:t,trackingScreen:n})=>{const o=r.useRef(null),[s,l]=r.useState(!1),c="splash"===n?"splash":"course_picker"===n?"splash_course_picker":"courses_page"===n?"courses_logged_out_top_bar":"course_splash"===n?"course_splash":void 0;return r.createElement(x.Z,{className:i()(F.Z["ui-language-wrap"],e),isOpen:s,onClose:()=>l(!1),onOpen:()=>l(!0),onToggle:()=>l(!s),popoverState:{direction:"down",ref:o}},r.createElement("div",{className:F.Z["ui-language"]},r.createElement("div",{className:F.Z["ui-language-text"+(t?`-${t}`:"")]},(0,N._i)(18889)," ",r.createElement("span",null,(0,N._i)(154,{language_name:(0,_.vY)(_.h9)})),r.createElement("span",{className:F.Z["caret"+(t?`-${t}`:"")]})),s?r.createElement(a.Z,{direction:"down",innerClassName:F.Z["ui-language-picker"],offset:-120,onRequestClose:()=>()=>l(!1),ref:o,zIndex:parseInt(C.Z["z-index-popover"],10)},r.createElement(b,{singleColumn:!1,trackingScreen:n,via:c})):null))},W=({dispatch:e,simple:t,trackingScreen:n})=>{const o=(0,s.TH)();return r.createElement("div",Object.assign({className:i()(F.Z["logged-out-topbar-wrap"],{[F.Z["splash-topbar-wrap"]]:t})},(0,j._q)("logged-out-topbar")),r.createElement("div",{className:F.Z["logged-out-topbar"]},r.createElement(c.Z,{className:F.Z["logged-out-logo-container"],href:"/",onClick:()=>(0,v.j)("topbar_logo_tapped",{})},r.createElement("img",{alt:(0,N.H8)(23227),className:F.Z["logged-out-logo"],height:"36px",src:U,width:"153px"})),r.createElement("div",{className:F.Z["right-header"]},r.createElement(Z,{className:F.Z["hidden-on-mobile"],trackingScreen:n}),r.createElement(p.Z,{buttonClassName:F.Z["login-button"],className:F.Z["hidden-on-mobile"],dispatch:e,redirectPath:"/join-beta"===o.pathname||"/stories"===o.pathname?o.pathname:void 0,trackingScreen:n,via:"stories"}),t?null:r.createElement(c.Z,{className:i()((0,l.y)({color:"owl",variant:"solid"}),F.Z["get-started"]),href:"/register",onClick:()=>(0,v.j)("click",{which:"topbar get started"})},(0,N._i)(18550)),r.createElement(D,{dispatch:e,trackingScreen:n}))))}},44451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(27378),i=n(42659);var r=n(60610),s=n(785);const a=e=>{var t,n,a,l;const c=(0,r.Fx)(i.Mb),u=(0,r.Fx)(i.Lm),d=null!==(n=null===(t=c.featureFlags)||void 0===t?void 0:t.web_frame_metrics_sampling_rate)&&void 0!==n?n:0,p=null!==(l=null===(a=c.featureFlags)||void 0===a?void 0:a.web_frame_metrics_slow_frame_threshold)&&void 0!==l?l:Math.ceil(1e3/60);o.useEffect((()=>{if(u&&Math.random()<d){const t=new class{constructor(e,{resetEvery:t,slowFrameThreshold:n}){this.isObserving=!1,this.slowFrames=0,this.slowFramesDuration=0,this.totalDuration=0,this.totalFrames=0,this.disconnect=()=>{this.isObserving=!1},this.flush=()=>{this.report(),this.reset()},this.observe=()=>{this.isObserving=!0,this.lastFrame=void 0,this.requestFrame()},this.frame=e=>{var t;const n=this.lastFrame?Math.min(e-this.lastFrame,1e4):void 0;this.lastFrame=e,void 0!==n&&(this.slowestFrame=Math.max(null!==(t=this.slowestFrame)&&void 0!==t?t:0,n),this.totalDuration+=n,this.totalFrames++,n>=this.slowFrameThreshold&&(this.slowFrames++,this.slowFramesDuration+=n),void 0!==this.resetEvery&&this.totalDuration>=this.resetEvery&&this.flush()),this.requestFrame()},this.report=()=>{void 0!==this.slowestFrame&&this.callback({slowFrames:this.slowFrames,slowFramesDuration:this.slowFramesDuration,slowestFrame:this.slowestFrame,totalDuration:this.totalDuration,totalFrames:this.totalFrames})},this.requestFrame=()=>{this.isObserving&&requestAnimationFrame(this.frame)},this.reset=()=>{this.lastFrame=void 0,this.slowFrames=0,this.slowFramesDuration=0,this.slowestFrame=void 0,this.totalDuration=0,this.totalFrames=0},this.callback=e,this.resetEvery=t,this.slowFrameThreshold=n}}((t=>{e?(0,s.j)("app_performance_frames",{sampling_rate:d,slow_frame_count:t.slowFrames,slow_frame_duration_total:Math.round(t.slowFramesDuration),slow_frame_max_duration:t.slowestFrame>=p?Math.round(t.slowestFrame):void 0,slow_frame_session_duration:Math.round(t.totalDuration),slow_frame_session_name:e,slow_frame_threshold:p,total_frame_count:t.totalFrames}):(0,s.j)("app_performance_frames_aggregated",{sampling_rate:d,slow_frame_count_agg:t.slowFrames,slow_frame_duration_total_agg:Math.round(t.slowFramesDuration),slow_frame_max_duration_agg:t.slowestFrame>=p?Math.round(t.slowestFrame):void 0,slow_frame_session_duration_agg:Math.round(t.totalDuration),slow_frame_threshold:p,total_frame_count_agg:t.totalFrames})}),{resetEvery:36e5,slowFrameThreshold:p}),n=()=>{"hidden"===document.visibilityState?(t.disconnect(),t.flush()):t.observe()};return document.addEventListener("visibilitychange",n),n(),()=>{document.removeEventListener("visibilitychange",n),t.disconnect(),t.flush()}}}),[])}},17060:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(27378);let i=!1;const r=({disabled:e,id:t,offset:n=0}={})=>{o.useEffect((()=>{if(!e&&!i&&window.location.hash.length>1){const e=window.location.hash.slice(1);if(t&&e!==t)return;const o=document.getElementById(e);o&&(window.scrollTo(0,window.pageYOffset+o.getBoundingClientRect().top+n),i=!0)}}),[])}},87539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n(60042),i=n.n(o),r=n(27378),s=n(31542),a=n(64426),l=n(94856),c=n(33389),u=n(42659);const d={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","style-gray":"_77Bg3","style-plus":"JMaEo","style-white":"_3lUbm",_content:"_13Rl7",content:"_1hEOp _13Rl7","content-fullscreen":"SBf4a _13Rl7",close:"FrL-W"};var p=n(9979),m=n(50498),g=n(30033),h=n(67173),_=n(68903),v=n(60610),f=n(26506),y=n(35160);const E=({children:e,className:t,fullscreen:n,hideClose:o,isVisible:s,onDismiss:y,restoreScrollPosition:E})=>{const b=(0,v.Fx)(u.Sg),S=(0,v.Fx)((e=>e.ui.modalShouldWaitForOverlay)),[w,T]=r.useState(s?"visible":"invisible"),I=r.useRef(null);return(0,l.Z)({disabled:"visible"!==w||b||n,onClick:y,ref:I}),(0,v.HF)("visible"===w,E),r.useEffect((()=>{let e=!1;return t=void 0,o=void 0,r=s?function*(){switch(w){case"before-fade-in":yield(0,p.Gg)(),e||T("overlay");break;case"fading-out":T("overlay");break;case"invisible":T("before-fade-in");break;case"overlay":!n&&S&&(yield(0,m._v)(p.nN)),e||T("visible");break;case"visible":break;default:(0,_.RJ)(w)}}:function*(){switch(w){case"before-fade-in":T("invisible");break;case"fading-out":yield(0,m._v)(p.nN),e||T("invisible");break;case"invisible":break;case"overlay":case"visible":T("fading-out");break;default:(0,_.RJ)(w)}},new((i=void 0)||(i=Promise))((function(e,n){function s(e){try{l(r.next(e))}catch(e){n(e)}}function a(e){try{l(r.throw(e))}catch(e){n(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((r=r.apply(t,o||[])).next())})),()=>{e=!0};var t,o,i,r}),[n,s,w]),r.useEffect((()=>{if(!b&&"visible"===w){const e=e=>{"Escape"===e.key&&y()};return f.U.disableListeners(),f._.disableListeners(),document.addEventListener("keydown",e),()=>{f.U.enableListeners(),f._.enableListeners(),document.removeEventListener("keydown",e)}}}),[b,y,w]),"invisible"===w?null:r.createElement(a.ZP,{autoFocus:!1,whiteList:e=>{var t,n;return null!==(n=null===(t=document.getElementById("overlays"))||void 0===t?void 0:t.contains(e))&&void 0!==n&&n}},r.createElement(c.Z,{isVisible:"visible"===w},r.createElement("div",{className:i()(d["content"+(n?"-fullscreen":"")],t),ref:I},o?null:r.createElement("div",Object.assign({},(0,g._q)(h.V.CloseButton),{className:d.close,onClick:y}),r.createElement("img",{src:"https://d35aaqx5ub95lt.cloudfront.net/images/x.svg"})),e)))},b=({children:e,className:t,customStyle:n=y.Wy.White,hideClose:o,modalName:a,onDismiss:l})=>{var c;const u=(0,v.tX)(),p=(0,v.Fx)((e=>e.ui.isModalReallyOpen)),m=(0,v.Fx)((e=>e.ui.modal)),g=(0,v.CC)(),[h,_]=r.useState(),f=void 0!==h&&(0,y.rm)(h.name),b=(null==m?void 0:m.name)===a;b&&m!==h&&_(m),r.useLayoutEffect((()=>(u({name:a,type:"MODAL_MOUNTED"}),()=>{u({name:a,type:"MODAL_UNMOUNTED"})})),[]),r.useEffect((()=>{if(b)return p||u({type:"MODAL_OPENED"}),()=>{var e;void 0===(null===(e=g.getState().ui.modal)||void 0===e?void 0:e.name)&&u({type:"MODAL_CLOSED"})}}),[b]);const S=l&&h?()=>l({modalOptions:h}):()=>u({options:void 0,type:"TOGGLE_MODAL"});return(0,s.createPortal)(r.createElement(E,{className:i()(d[n],t),fullscreen:f,hideClose:!!o,isVisible:b,onDismiss:S,restoreScrollPosition:null===(c=null==h?void 0:h.restoreScrollPosition)||void 0===c||c},h?e({modalOptions:h,onDismiss:S}):null),document.getElementById("overlays"))}},4243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(60042),i=n.n(o),r=n(27378),s=n(83063),a=n(86522),l=n(42659),c=n(394),u=n(30033),d=n(67173),p=n(60610);const m=({ctaContent:e,description:t,disabled:n,dismissContent:o,dismissDisabled:m,image:g,onCtaClick:h,onDismiss:_,style:v,submitting:f,title:y})=>{const E=(0,p.Fx)(l.$4);return r.createElement("div",{className:i()(c.Z.grid,v?c.Z[v]:void 0,{[c.Z["has-description"]]:t,[c.Z["has-dismiss"]]:o,[c.Z["has-image"]]:g})},g?r.createElement("div",{className:c.Z["image-container"]},g):null,r.createElement("span",{className:c.Z.title},y),t?r.createElement("span",{className:c.Z.description},t):null,r.createElement("div",{className:c.Z["right-top"]},r.createElement(a.Z,{customStyle:c.Z["cta-button"],disabled:n,onClick:h,style:v,submitting:f},e)),o?r.createElement("div",{className:c.Z["left-bottom"]},r.createElement(s.Z,Object.assign({className:c.Z[`dismiss-${E?"desktop":"mobile"}${"dark-plus"===v?`-${v}`:""}`],disabled:null!=m?m:n||f,onClick:_,unstyledDisabled:!0,variant:E?"stroke":"text"},(0,u._q)(d.V.NotificationDrawerNoThanksButton)),o)):null)}},83120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(27378);var i=n(60610);const r=({children:e})=>{const t=(0,i.Fx)((e=>e.ui.viewportHeight)),n=(0,i.Fx)((e=>e.ui.viewportWidth)),[r,s]=o.useState(),a=o.useRef(null);return o.useLayoutEffect((()=>{a.current&&s(a.current.getBoundingClientRect().width)}),[t,n]),o.createElement("div",{className:"_1qefU",ref:a},r?e({width:r}):null)}},86522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(60042),i=n.n(o),r=n(27378),s=n(83063);const a={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","button-red":"_3UWae NAidc","button-plus":"_2slxu SD9wr","button-dark-plus":"_2Jnzz jn69D","button-stroked":"AD177 _3Byo7","standard-layout":"_2qoRw"};var l=n(30033),c=n(67173);const u=({children:e,customStyle:t,disabled:n,onClick:o,style:u,submitting:d})=>r.createElement(s.Z,Object.assign({className:i()(u?a[`button-${u}`]:void 0,null!=t?t:a["standard-layout"]),disabled:n,onClick:o,submitting:d,variant:"stroked"===u?"stroke":"solid"},(0,l._q)(c.V.NotificationButton)),e)},31507:(e,t,n)=>{"use strict";n.d(t,{z:()=>d,Z:()=>p});var o=n(60042),i=n.n(o),r=n(27378),s=n(31542),a=n(64426),l=n(75631);var c=n(60610),u=n(26506);const d=400,p=({children:e,className:t,disableTypeToSelect:n=!0,isVisible:o,onDismiss:d,onEnter:p,submitting:m})=>{const g=r.useRef(),h=r.useRef();return g.current=d,h.current=p,r.useEffect((()=>{if(o){const e=e=>{var t,n;"Enter"===e.key?null===(t=h.current)||void 0===t||t.call(h):"Escape"===e.key&&(null===(n=g.current)||void 0===n||n.call(g))};return u.U.disableListeners(),n&&u._.disableListeners(),document.addEventListener("keydown",e),()=>{u.U.enableListeners(),n&&u._.enableListeners(),document.removeEventListener("keydown",e)}}}),[n,o]),(0,c.HF)(o,!0),(0,s.createPortal)(r.createElement(a.ZP,{disabled:!o},r.createElement(l.Z,{animateOnMount:o,className:i()("_1szh4",t),isVisible:o,onDismiss:m?void 0:d},r.createElement("div",{className:"_1yodw"},e))),document.getElementById("overlays"))}},80150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(27378),i=n(31507),r=n(50498),s=n(60610);const a=e=>{const t=(0,s.tX)(),n=(0,s.Fx)((e=>e.ui.drawer)),[a]=o.useState(n);return{fadeOut:()=>{return e=void 0,n=void 0,s=function*(){t({options:void 0,type:"TOGGLE_DRAWER"}),yield(0,r._v)(i.z)},new((o=void 0)||(o=Promise))((function(t,i){function r(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,a)}l((s=s.apply(e,n||[])).next())}));var e,n,o,s},isVisible:(null==n?void 0:n.name)===e,options:a}}},83537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(60042),i=n.n(o),r=n(27378);const s=r.forwardRef(((e,t)=>{var{children:n,className:o,onToggle:s,tabIndex:a}=e,l=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["children","className","onToggle","tabIndex"]);return r.createElement("div",Object.assign({className:i()("_2eeKH",o),onClick:s,onKeyDown:e=>{["Enter"," "].includes(e.key)&&(s(),e.preventDefault())},onMouseUp:e=>{e.stopPropagation()},ref:t,tabIndex:null!=a?a:0},l),n)}))},29531:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,f:()=>c});var o=n(27378),i=n(84932),r=n(88528);const s="bottom",a=parseFloat(r.Z["juicy-length"]),l=e=>[{name:"arrow",options:{element:e,padding:parseFloat(r.Z["margin-popover-stem"])}},{name:"flip",options:{padding:a}},{name:"offset",options:{offset:[0,parseFloat(r.Z["margin-popover"])]}},{name:"preventOverflow",options:{padding:a}}],c=(e={})=>{var t,n,{modifiers:r=[]}=e,a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["modifiers"]);const[c,u]=o.useState(null),[d,p]=o.useState(null),[m,g]=o.useState(null),h=(0,i.D)(d,m,Object.assign({modifiers:[...l(null!=c?c:void 0),...r]},a));return{currentPlacement:null!==(n=null===(t=h.state)||void 0===t?void 0:t.placement)&&void 0!==n?n:s,props:h,setArrowRef:u,setElementRef:p,setPopoverRef:g}}},44629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(60042),i=n.n(o),r=n(27378),s=n(56e3),a=n(29531);const l={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",_after:"_15ywt",wrap:"_34k_q","wrap-open-down":"fYaYB _15ywt _34k_q","wrap-open-left":"_1j0Jz _15ywt _34k_q","wrap-open-right":"JF6Vl _15ywt _34k_q","wrap-open-up":"_14-op _15ywt _34k_q"};const c=e=>null!==e&&"direction"in e,u=r.forwardRef(((e,t)=>{var n,{children:o,className:u,customOffset:d,isOpen:p,onClose:m,onOpen:g,onToggle:h,popoverState:_,tabIndex:v}=e,f=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["children","className","customOffset","isOpen","onClose","onOpen","onToggle","popoverState","tabIndex"]);const y=c(_)?_.direction:(0,s.h)(null!==(n=null==_?void 0:_.placement)&&void 0!==n?n:a.R),E=()=>c(_)?_.ref.current:null==_?void 0:_.elements.popper;return r.createElement("div",Object.assign({className:i()(l["wrap"+(p?`-open-${y}`:"")],u),onClick:e=>{var t;(null===(t=E())||void 0===t?void 0:t.contains(e.target))||h()},onKeyDown:e=>{["Enter"," "].includes(e.key)&&(h(),e.preventDefault())},onMouseEnter:g,onMouseLeave:m,onMouseUp:e=>{e.stopPropagation()},onTouchEnd:e=>{var t;(null===(t=E())||void 0===t?void 0:t.contains(e.target))||(e.preventDefault(),h())},ref:t,style:void 0!==d&&d>=0?{"--offset":`${d}px`}:void 0,tabIndex:null!=v?v:0},f),o)}))},52761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(27378),i=n(56e3),r=n(29531),s=n(13840);const a=e=>"placement"in e,l=o.forwardRef(((e,t)=>{var n,l,{dir:c,popperProps:u,style:d}=e,p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["dir","popperProps","style"]);let m=(0,i.h)(a(u)?u.placement:null!==(l=null===(n=u.state)||void 0===n?void 0:n.placement)&&void 0!==l?l:r.R);const g="left"===m?90:"right"===m?-90:"up"===m?180:0,h=Object.assign({margin:0},a(u)?u.arrowProps.style:u.styles.arrow);h.transform&&(h.transform=`${h.transform} rotate(${g}deg)`);const _=Object.assign(Object.assign({margin:0},a(u)?u.style:u.styles.popper),d);return s.lw&&("left"===m?m="right":"right"===m&&(m="left")),o.createElement(i.Z,Object.assign({},p,{direction:m,manualPositioning:!0,ref:t,stemContainerStyle:h,style:_}))}))},40851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var o=n(60042),i=n.n(o),r=n(27378),s=n(80254),a=n(81734),l=n(47725);const c="TNj94";var u=n(26886),d=n(13840),p=n(74245);const m=["en","es","fr","de","it","pt","nl-NL","ja"];class g extends r.Component{constructor(){super(...arguments),this.translateXLookupTable=[],this.updateTranslateXLookupTable=(e,t)=>{e&&(this.translateXLookupTable[t]=e.clientWidth+(this.translateXLookupTable[t-1]||0))},this.lookupTranslateXValue=()=>this.translateXLookupTable[this.props.slideIndex-1]||0}render(){const{disabled:e,learningLanguageIds:t,onCarouselItemClick:n,onLeftArrowClick:o,onRightArrowClick:i,trackingScreen:g}=this.props,h=m.filter((e=>t.includes(e))),_=s.jj([...h,...t]);return r.createElement("nav",{className:"fh7hk"},r.createElement("svg",{className:"_2tzcF _1-WUC",fill:"none",onClick:o,viewBox:"0 0 16 16"},r.createElement("path",{d:"M10 2L4 8L10 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),r.createElement("div",{className:"kuc9r"},r.createElement("ul",{className:"_1NFpv",style:{transform:`translateX(-${this.lookupTranslateXValue()}px)`}},_.map(((t,o)=>{return r.createElement("li",{className:"_3G2L1",key:t,ref:e=>this.updateTranslateXLookupTable(e,o)},(i=r.createElement(r.Fragment,null,r.createElement(a.Z,{className:"_1v6Jc",lang:t,size:36}),r.createElement("span",{className:"w9lql"},(0,d._i)(154,{language_name:(0,p.vY)(t)}))),e?r.createElement("span",{className:c},i):r.createElement(l.Z,{className:c,href:(0,u.og)(t),onClick:n,trackingScreen:g,trackingTarget:"flag"},i)));var i})))),r.createElement("svg",{className:"_2tbJx _1-WUC",fill:"none",onClick:i,viewBox:"0 0 16 16"},r.createElement("path",{d:"M6 2L12 8L6 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})))}}const h=parseInt("7",10),_=(0,p.Ho)();class v extends r.Component{constructor(){super(...arguments),this.state={slideIndex:0},this.handleLeftArrowClick=()=>{var e,t;0===this.state.slideIndex?this.setState({slideIndex:(null!==(t=null===(e=_[p.h9])||void 0===e?void 0:e.length)&&void 0!==t?t:0)-h}):this.setState({slideIndex:Math.max(0,this.state.slideIndex-2)})},this.handleRightArrowClick=()=>{var e,t,n,o;this.state.slideIndex===(null!==(t=null===(e=_[p.h9])||void 0===e?void 0:e.length)&&void 0!==t?t:0)-h?this.setState({slideIndex:0}):this.setState({slideIndex:Math.min((null!==(o=null===(n=_[p.h9])||void 0===n?void 0:n.length)&&void 0!==o?o:0)-h,this.state.slideIndex+2)})}}render(){var e;const{className:t,disabled:n,onCarouselItemClick:o,trackingScreen:s}=this.props,{slideIndex:a}=this.state;return r.createElement("div",{className:i()("_2QTTU",t)},r.createElement(g,{disabled:n,learningLanguageIds:null!==(e=_[p.h9])&&void 0!==e?e:[],onCarouselItemClick:o,onLeftArrowClick:this.handleLeftArrowClick,onRightArrowClick:this.handleRightArrowClick,slideIndex:a,trackingScreen:s}))}}},48982:(e,t,n)=>{"use strict";n.d(t,{dw:()=>T,Ml:()=>w,YM:()=>S});var o=n(27378),i=n(80254),r=n(47725),s=n(81928),a=n(84199);const l={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","site-map-wrap":"_2-Hvl","site-map":"_1KUWD","column-header":"SP0EV",column:"_3wvOu",spacer:"_2vpsV","footer-language-wrap":"_3OyZb","footer-site-language-header":"_2QXQh","footer-ui-language-item":"_2FFXE","footer-ui-language-link":"_1Iqi7","footer-icplicense-wrap":"_2BYVA","footer-icplicense-header":"_3BM0q"};var c=n(30033),u=n(80388),d=n(59273),p=n(67173),m=n(13840),g=n(74245),h=n(64865),_=n(95975),v=n(419),f=n(785);const y=(0,g.Ho)(),E=i.XP(y),b=(0,v.Q)(window.duo.uiLanguage),S=()=>{let e;switch(window.duo.uiLanguage){case"zh-CN":e="zs";break;case"zh-TW":e="zt";break;default:e=(0,g.D3)(g.h9)}const t=(window.duo.detUiLanguages||[]).includes(e)?e:"",n="en"===e;return o.useEffect((()=>{(0,f.j)("web_to_app_store_load",{via:"site_map"})}),[]),o.createElement("div",{className:l["site-map-wrap"]},o.createElement("div",{className:l["site-map"]},o.createElement("div",{className:l.column},o.createElement("div",{className:l["column-header"]},(0,m._i)(29912)),o.createElement("ul",null,o.createElement("li",null,o.createElement(r.Z,Object.assign({},(0,c._q)(p.V.CoursesLink),{href:"/courses"}),(0,m._i)(20631))),o.createElement("li",null,o.createElement(r.Z,{href:"/info"},(0,m._i)(17103))),o.createElement("li",null,o.createElement(r.Z,{href:"/approach"},(0,m._i)(6695))),o.createElement("li",null,o.createElement(r.Z,{href:"/efficacy"},(0,m._i)(29913))),o.createElement("li",null,o.createElement(r.Z,{href:"/team"},(0,m._i)(11435))),o.createElement("li",null,o.createElement(r.Z,{href:"https://research.duolingo.com"},(0,m._i)(6746))),o.createElement("li",null,o.createElement(r.Z,{href:"https://incubator.duolingo.com/"},(0,m._i)(7551))),o.createElement("li",null,o.createElement(r.Z,{href:"https://careers.duolingo.com"},(0,m._i)(5919))),o.createElement("li",null,o.createElement(r.Z,{href:"https://design.duolingo.com"},(0,m._i)(29914))),o.createElement("li",null,o.createElement(r.Z,{href:"https://press.duolingo.com"},(0,m._i)(18072))),o.createElement("li",null,o.createElement(r.Z,{href:"https://investors.duolingo.com"},(0,m._i)(30107))),o.createElement("li",null,o.createElement(r.Z,{href:"/contact"},(0,m._i)(23037))))),o.createElement("div",{className:l.column},o.createElement("div",{className:l["column-header"]},(0,m._i)(17225)),o.createElement("ul",null,o.createElement("li",null,o.createElement(r.Z,{href:"/"},(0,m._i)(23227))),(0,u.J9)()?null:o.createElement("li",null,o.createElement(r.Z,{href:"https://schools.duolingo.com"},(0,m._i)(13199))),o.createElement("li",null,o.createElement(r.Z,{href:`https://englishtest.duolingo.com/${t}`},"Duolingo English Test")),"en"===g.h9?o.createElement(o.Fragment,null,o.createElement("li",null,o.createElement(r.Z,{href:"https://www.duolingo.com/abc"},"Duolingo ABC")),o.createElement("li",null,o.createElement(r.Z,{href:"https://events.duolingo.com"},"Duolingo Events"))):null,o.createElement("li",null,o.createElement(r.Z,{href:_.$},(0,m._i)(3735))),o.createElement("li",null,o.createElement(r.Z,{href:"/stories"},(0,m._i)(19593))),(0,d.gQ)("forceShowBusinessPage")?o.createElement("li",null,o.createElement(r.Z,{href:"/business"},"Duolingo for Business")):null,o.createElement("li",null,o.createElement(r.Z,{href:"https://www.duolingo.com/dictionary"},(0,m._i)(4114))))),o.createElement("div",{className:l.column},o.createElement("div",{className:l["column-header"]},(0,m._i)(18971)),o.createElement("ul",null,o.createElement("li",null,o.createElement(r.Z,{href:(0,h.Ir)({via:"site_map"}),onClick:()=>{(0,f.j)("web_to_app_store_tap",{target:"google_or_China",via:"site_map"})}},(0,m._i)(7946))),o.createElement("li",null,o.createElement(r.Z,{href:(0,h.fy)({via:"site_map"}),onClick:()=>{(0,f.j)("web_to_app_store_tap",{target:"apple",via:"site_map"})}},(0,m._i)(24192))),"en"===g.h9?o.createElement("li",null,o.createElement(r.Z,{href:"https://apps.apple.com/app/duolingo-abc-learn-to-read/id1440502568?pt=1374442&ct=Site%20map&mt=8"},"Duolingo ABC (iOS)")):null)),o.createElement("div",{className:l.column},o.createElement("div",{className:l["column-header"]},(0,m._i)(29915)),o.createElement("ul",null,o.createElement("li",null,o.createElement(s.Z,Object.assign({},(0,c._q)(p.V.FaqLink)),(0,m._i)(12338))),(0,u.J9)()?null:o.createElement("li",null,o.createElement(r.Z,{href:"https://duolingoschools.zendesk.com/hc/en-us"},(0,m._i)(6932))),o.createElement("li",null,o.createElement(r.Z,{href:"https://englishtest.duolingo.com/faq"},(0,m._i)(20482,{test_name:"Duolingo English Test"}))),o.createElement("li",null,o.createElement(r.Z,{href:"https://status.duolingo.com/"},(0,m._i)(12464))))),o.createElement("div",{className:l.column},o.createElement("div",{className:l["column-header"]},(0,m._i)(29916)),o.createElement("ul",null,o.createElement("li",null,o.createElement(r.Z,{href:"/guidelines"},(0,m._i)(29917))),o.createElement("li",null,o.createElement(r.Z,{href:"/terms"},(0,m._i)(22838))),o.createElement("li",null,o.createElement(r.Z,{href:"/privacy"},(0,m._i)(19704))),n?o.createElement("li",null,o.createElement(r.Z,{href:"/privacy#california"},'Respecting your "do not sell my personal information " rights')):null),o.createElement("div",{className:l.spacer}),o.createElement("div",{className:l["column-header"]},(0,m._i)(16166)),o.createElement("ul",null,o.createElement("li",null,o.createElement(r.Z,{href:"https://blog.duolingo.com"},(0,m._i)(14615))),(0,u.J9)()?null:o.createElement(o.Fragment,null,o.createElement("li",null,o.createElement(r.Z,{href:b.instagram.link},(0,m._i)(616))),o.createElement("li",null,o.createElement(r.Z,{href:b.facebook.link},(0,m._i)(17511))),o.createElement("li",null,o.createElement(r.Z,{href:b.twitter.link},(0,m._i)(5061))),o.createElement("li",null,o.createElement(r.Z,{href:"https://www.youtube.com/user/duolingo"},"YouTube")))))))},w=()=>o.createElement("div",{className:l["footer-language-wrap"]},o.createElement("div",{className:l["footer-site-language-header"]},(0,m._i)(18889)),o.createElement("ul",{className:l["footer-ui-language-list"]},E.map((e=>o.createElement("li",{className:l["footer-ui-language-item"],key:e},o.createElement(r.Z,{className:l["footer-ui-language-link"],href:`//${(0,g.D3)(e)}.duolingo.com`},(0,g.lx)(e))))))),T=()=>o.createElement("div",{className:l["footer-icplicense-wrap"]},o.createElement("div",{className:l["footer-icplicense-header"]},o.createElement(r.Z,{href:"http://beian.miit.gov.cn"},"京ICP备14061397号-1"),o.createElement("span",null," • "),o.createElement("img",{src:a}),o.createElement(r.Z,{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502039019"},"京公网安备 11010502039019 号")))},14649:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,_:()=>d});var o=n(84389),i=n(89454),r=n(785),s=n(66195),a=n(16086),l=n(20028),c=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const u=()=>e=>c(void 0,void 0,void 0,(function*(){try{const t=yield i.Vi.userAchievements((0,a.Jb)());e({achievements:t._achievements,type:"UPDATE_USER_ACHIEVEMENTS"})}catch(e){(0,r.DT)("load_user_achievements_failed","Failed to load user achievements",e)}e(d())})),d=()=>(e,t)=>c(void 0,void 0,void 0,(function*(){const n=t(),{config:a,user:c,user:{fromLanguage:u,learningLanguage:d}}=n;if((0,o.mh)(a)&&d)try{const t=yield i.I7.getAchievementsV3(c.id,u,d,(0,l.jq)(c),(0,s.rt)(c),(0,l.dE)(c),c.hasPlus);t.length>0?e({achievements:t,type:"UPDATE_USER_ACHIEVEMENTS_V3"}):(0,o.jO)(c.id,a)}catch(e){(0,r.DT)("load_v3_user_achievements_failed","Failed to load V3 user achievements",e)}}))},50791:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var o=n(89454),i=n(785);const r=()=>e=>{return t=void 0,n=void 0,s=function*(){try{e({config:yield o.Vi.getConfig(),type:"UPDATE_CONFIG"})}catch(e){(0,i.DT)("load_config_failed","Failed to load config",e)}},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}l((s=s.apply(t,n||[])).next())}));var t,n,r,s}},14092:(e,t,n)=>{"use strict";n.d(t,{F:()=>a,Z:()=>l});var o=n(89454),i=n(74245),r=n(785),s=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const a=(e,t,n,a)=>s(void 0,void 0,void 0,(function*(){yield o._s.courseSubscribe(t,n,a);const s=(0,i.D3)(null!=n?n:i.h9);(0,r.j)("course subscribe",{from_language:s,learning_language:(0,i.D3)(t),logged_in:e})})),l=(e,t,n)=>s(void 0,void 0,void 0,(function*(){yield o._s.courseUnsubscribe(e,t,n)}))},61544:(e,t,n)=>{"use strict";n.d(t,{TF:()=>a,Ek:()=>l,HQ:()=>c,oh:()=>u,tD:()=>d,Fn:()=>p,w7:()=>m});var o=n(42659),i=n(89454),r=n(66195),s=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const a=()=>(e,t)=>s(void 0,void 0,void 0,(function*(){const n=(0,o.np)(t());if(!(0,r.rt)(n))return;const s=(0,o.Mb)(t()),[a,l,c]=yield Promise.all([i.i_.getKudosFeed(n.fromLanguage,s),i.i_.getKudosAssets(s),i.i_.getKudosDrawer(n.fromLanguage,s)]);e({feedRedesign:a,type:"SET_KUDOS_FEED"}),e({assets:l,type:"SET_KUDOS_ASSETS"}),e({drawer:c,type:"SET_KUDOS_DRAWER"})})),l=(e,t)=>n=>s(void 0,void 0,void 0,(function*(){yield i.i_.updateKudos(e,!1,t),yield n(a())})),c=(e,t,n)=>o=>s(void 0,void 0,void 0,(function*(){yield i.i_.sendKudos(e,t,n),yield o(a())})),u=e=>t=>s(void 0,void 0,void 0,(function*(){yield i.i_.unsendKudos(e),yield t(a())})),d=(e,t)=>n=>s(void 0,void 0,void 0,(function*(){const o=yield i.i_.getFriendRecommendations(e,t);n({recommendationInfo:o,type:"SET_FOLLOW_SUGGESTIONS"})})),p=(e,t)=>n=>s(void 0,void 0,void 0,(function*(){const{filteredIds:o,rotatedIds:r}=yield i.i_.updateFriendRecommendations(e,t);n({filteredIds:o,rotatedIds:r,type:"UPDATE_FOLLOW_SUGGESTIONS"})})),m=(e,t)=>n=>s(void 0,void 0,void 0,(function*(){yield i.i_.deleteFriendRecommendation(e,t),n({deletedId:t,type:"DELETE_FOLLOW_SUGGESTION"})}))},9249:(e,t,n)=>{"use strict";n.d(t,{ke:()=>l,ZK:()=>c,xD:()=>u,w4:()=>d});var o=n(14649),i=n(42659),r=n(89454),s=n(785),a=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const l=()=>e=>a(void 0,void 0,void 0,(function*(){try{e({items:yield r.Vi.getShopItems(),type:"SET_SHOP_ITEMS"})}catch(e){(0,s.DT)("load_shop_items_failed","Failed to load shop items",e)}})),c=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=t.shop.misc.streak_freeze;if(n)try{yield e(u(n,"item_offer",!0)),e({gift:"streakFreeze",type:"RECEIVE_GIFT"})}catch(e){(0,s.DT)("streak_freeze_gifting_failed","Failed to gift the user a streak freeze",e)}})),u=(e,t,n=!1,l=1)=>(c,u)=>a(void 0,void 0,void 0,(function*(){const a=(0,i.iH)(u()),d=n?{isFree:!0}:{};c({status:"START",type:"PURCHASE_ITEM"});try{const[i]=(yield Promise.all(new Array(l).fill(null).map((()=>r.Vi.purchaseUserShopItem(e.id,Object.assign({learningLanguage:a},d)))))).map((e=>e.item));(0,s.j)("purchase_item",Object.assign({item_name:e.id,num_purchased:l,purchased_via:t},n?{is_free:!0}:{})),c(Object.assign({item:i,purchaseQuantity:l,status:"SUCCESS",type:"PURCHASE_ITEM"},"bonus_skill"===e.type?{bonusSkillId:e.skillId}:{})),c(o.M())}catch(e){(0,s.DT)("purchase_failed","Failed to purchase item",e),c({status:"FAIL",type:"PURCHASE_ITEM"})}})),d=e=>t=>a(void 0,void 0,void 0,(function*(){try{const n=yield r.Vi.getUserShopItem(e);t({item:n,type:"REFRESH_USER_ITEM"})}catch(e){(0,s.DT)("load_user_shop_item_failed","Failed to get user item",e)}}))},44483:(e,t,n)=>{"use strict";n.d(t,{v:()=>l,s:()=>c});var o=n(42659),i=n(83936),r=n(89454),s=n(66195),a=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const l=()=>(e,t)=>a(void 0,void 0,void 0,(function*(){const n=(0,o.np)(t());if(!(0,s.rt)(n))return;const a=0===(0,i._C)(t()),l=yield r.dQ.get(r.dQ.LEAGUES_ID,n.id,a);e({alias:"leagues",leaderboard:l,type:"UPDATE_LEADERBOARD"})})),c=()=>(e,t)=>a(void 0,void 0,void 0,(function*(){const n=(0,o.np)(t());(0,s.rt)(n)&&(yield r.dQ.patch(r.dQ.LEAGUES_ID,n.id),yield e(l()))}))},45788:(e,t,n)=>{"use strict";n.d(t,{e:()=>l,Gs:()=>c,$0:()=>u,az:()=>d});var o=n(89454),i=n(45076),r=n(6986),s=n(785),a=n(20028);const l=e=>t=>{return n=void 0,r=void 0,a=function*(){t({notificationType:e,timestamp:Date.now(),type:"DISMISS_PERSISTENT_NOTIFICATION"});const n=(()=>{switch(e){case"WEB_TO_APP_CONVERSION_AGGRESSIVE":return"WEB_TO_APP_CONVERSION";default:return e}})();(0,i.Qp)(n)&&(yield o.d0.dismissNotification(n))},new((s=void 0)||(s=Promise))((function(e,t){function o(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(o,i)}l((a=a.apply(n,r||[])).next())}));var n,r,s,a},c=(e,t)=>(n,r)=>{n({isHomeBanner:t,notificationType:e,timestamp:Date.now(),type:"PERSISTENT_NOTIFICATION_SHOWN"});const a=i.bu[e];if(a){if((0,s.j)("home_message_shown",{message_name:a}),!t||r().uiPersisted.homeBannerShown.count>=3)try{o.zi.ackHomeMessage(a)}catch(e){(0,s.DT)("ack_message_failed","Failed to acknowledge home message",e)}}else"DOGFOODING"===e&&(0,s.j)("home_message_shown",{message_name:"adminBetaNag"})},u=e=>(t,n)=>{const o=n().user,i=!("username"in o)&&"username"in e&&(!("id"in e)||o.id===e.id);(0,r.yI)(n().config,(0,a.jq)(e),i)&&t({notificationType:"MARKETING_OPT_IN",type:"CREATE_PERSISTENT_NOTIFICATION"})},d=e=>(t,n)=>{n().ui.canShowHomeNotification||t({notificationType:"STREAK_REPAIRED",type:"CAN_SHOW_HOME_NOTIFICATION"}),t({length:e,type:"CREATE_STREAK_REPAIRED_NOTIFICATION"})}},7924:(e,t,n)=>{"use strict";n.d(t,{nn:()=>c,VE:()=>u,vS:()=>d,zB:()=>p});var o=n(80254),i=n(9249),r=n(42659),s=n(89454),a=n(785),l=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const c=(e,t)=>n=>l(void 0,void 0,void 0,(function*(){try{const o=yield s.bu.joinClassroom(e);(0,a.j)("add_observer",{from_settings:t,with_classroom:!0}),n({classroom:o,type:"JOIN_CLASSROOM"}),n(i.ke()),t||n({notificationType:"SCHOOLS_JOINED_CLASSROOM",observerName:o.observer_name,type:"CREATE_PERSISTENT_NOTIFICATION"})}catch(e){(0,a.DT)("join_classroom_failed","Failed to add teacher",e)}})),u=e=>t=>l(void 0,void 0,void 0,(function*(){try{yield s.bu.leaveClassroom(e),(0,a.j)("remove_observer",{}),t({classroomId:e,type:"LEAVE_CLASSROOM"})}catch(e){(0,a.DT)("leave_classroom_failed","Failed to leave classroom",e)}})),d=()=>e=>l(void 0,void 0,void 0,(function*(){var t;const n=yield s.bu.getUserAssignments(),i=n.next_skill;let r=(null!==(t=n.assignments)&&void 0!==t?t:[]).map((e=>{const{status:t,skill_id:n,lessons_completed:o,num_lessons:i,xp_gained:r}=e,s=n?o:r,a="completed"===t;return Object.assign(Object.assign({},e),{complete:a,num_completed:a?i:s})}));const a=o.ZP.groupBy(r,(e=>e.complete?"complete":e.overdue?"overdue":"current"));r=[...o.ZP.sortBy(a.current,(e=>e.due_date_ord)),...o.ZP.sortBy(a.overdue,(e=>-e.due_date_ord)),...o.ZP.sortBy(a.complete,(e=>e.completion_date_ord))],e({assignments:r,nextSkill:i,type:"UPDATE_ASSIGNMENTS"})})),p=()=>(e,t)=>l(void 0,void 0,void 0,(function*(){const n=(0,r.np)(t());try{const t=yield s.bu.getUserClassroomContestState(n.id);if(yield s.dQ.patch(s.dQ.SCHOOLS_CLASSROOM_LEADERBOARD_ID,n.id),!t[0])return;e({classroomContest:t[0],type:"UPDATE_CLASSROOM_CONTEST"})}catch(e){(0,a.DT)("update_classroom_contest_failed","Failed to update Schools classroom contests",e)}}))},26174:(e,t,n)=>{"use strict";n.d(t,{g:()=>d,i:()=>p});var o=n(42659),i=n(89454),r=n(21061),s=n(17251),a=n(8718),l=n(785),c=n(20028),u=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const d=()=>(e,t)=>u(void 0,void 0,void 0,(function*(){var n;const u=t(),d=(0,o.np)(u),p=(0,o.Oz)(u),m=d.learningLanguage,g=null!==(n=null==p?void 0:p.fromLanguage)&&void 0!==n?n:(0,a.c6)(),h=d.privacySettings.includes("DISABLE_MATURE_WORDS"),_=(0,o.oe)(u),v=p.crowns===(0,s.vu)(p.skills,_),f=(0,c.d1)(d)?"schools":v?"all":"crowns";let y;try{y=yield i.Mw.getListingUpdate(m,g,h,p.crowns,f)}catch(e){return void(0,l.DT)("stories_listing_update","Failed to fetch listing update",e)}const E=(0,r.Zo)();if(y.newStoryIds.length>0&&y.timeOfUpdate){const t=y.timeOfUpdate,n=y.newStoryIds.map((e=>({storyId:e,unlockedTimeInEpochSeconds:t})));e({newlyPublishedUpdate:{courseId:p.id,lastCheckedTime:E,showRedDot:!0,timeOfUpdate:y.timeOfUpdate},type:"stories/SET_NEWLY_PUBLISHED_UPDATE"}),e({isNewlyPublishedUpdate:!0,type:"stories/SET_UNVISITED_STORIES",unvisitedStories:n}),e({mostRecentlyUnlockedStory:n[0],type:"stories/SET_MOST_RECENTLY_UNLOCKED_STORY"})}else e({newlyPublishedUpdate:{courseId:p.id,lastCheckedTime:E,showRedDot:!1,timeOfUpdate:void 0},type:"stories/SET_NEWLY_PUBLISHED_UPDATE"})})),p=()=>(e,t)=>u(void 0,void 0,void 0,(function*(){var n;const r=t(),s=(0,o.np)(r),c=(0,o.Oz)(r),u=s.learningLanguage,d=null!==(n=null==c?void 0:c.fromLanguage)&&void 0!==n?n:(0,a.c6)();try{e({config:yield i.Mw.getConfig(u,d),type:"stories/SET_CONFIG"})}catch(e){(0,l.DT)("load_stories_config_failed","Failed to load Stories config",e)}}))},94144:(e,t,n)=>{"use strict";n.d(t,{eY:()=>P,DZ:()=>L,rf:()=>A,zv:()=>D,kS:()=>x,jK:()=>M,Kb:()=>U,TS:()=>F,oQ:()=>j});var o=n(80254),i=n(14649),r=n(50791),s=n(61544),a=n(9249),l=n(44483),c=n(45788),u=n(7924),d=n(42659),p=n(83936),m=n(51827),g=n(89454),h=n(70326),_=n(11202),v=n(54412),f=n(21061),y=n(59273),E=n(50548),b=n(74245),S=n(71371),w=n(88787),T=n(51158),I=n(88868),k=n(11908),R=n(785),C=n(16086),O=n(20028),N=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const P=(e,t,n)=>(d,p)=>N(void 0,void 0,void 0,(function*(){try{let h;try{h=yield g.Vi.userInfo((0,C.Jb)()),null==n||n(h),(0,R.XZ)(h.id),(0,m.N1)(h)}catch(t){if(e)return void(0,R.hK)();throw t}d(c.$0(h)),h.learningLanguage||(0,I.v$)(window.location.pathname)||(yield(0,I.Zs)("/welcome",!0)),b.h9!==h.fromLanguage&&(yield(0,I.Zs)(t)),(0,O.Sk)(h)&&(0,y.R)(),d({type:"UPDATE_USER",user:h}),document.hidden||"/reset_password"===window.location.pathname||((0,R.j)("user_active",{product:"learning_app"}),(0,R.Bf)({activity_trigger:"user_model_update"})),d({achievements:h._achievements,type:"UPDATE_USER_ACHIEVEMENTS"});const E=p().notifications;let S=o.ZP.isEmpty(E);if(!S){const e=h.webNotificationIds||[],t=o.ZP.pluck(o.ZP.values(E),"id");S=!!o.ZP.difference(e,t).length}if(S||(0,R.j)("notification_bell_load",{has_unread_notifications:!1}),S&&N(void 0,void 0,void 0,(function*(){try{const e=(yield g.d0.getNotifications()).map((e=>Object.assign(Object.assign({},e),{id:`ev_${e.id}`,pretty_datetime:e.pretty_datetime.trim()})));(0,R.j)("notification_bell_load",{has_unread_notifications:o.ZP.where(e,{unseen:!0}).length>0}),d({notifications:o.ZP.indexBy(e,"id"),type:"SET_NOTIFICATIONS"})}catch(e){(0,R.DT)("load_user_notifications_failed","Failed to load web notifications",e)}})),N(void 0,void 0,void 0,(function*(){try{const e=yield g.Vi.getUserInventory(),t=o.ZP.indexBy(e,"itemName");d({inventory:t,type:"UPDATE_INVENTORY"})}catch(e){(0,R.DT)("load_user_inventory_failed","Failed to load user inventory",e)}})),d(a.ke()),h.trackingProperties.has_observer&&(N(void 0,void 0,void 0,(function*(){try{const e=yield g.bu.getUserClassrooms();d({classrooms:e,type:"UPDATE_CLASSROOMS"})}catch(e){(0,R.DT)("load_user_classrooms_failed","Failed to load classrooms",e)}})),d(u.vS()),d(u.zB())),"true"!==(0,v.ej)(v.Vj.Impersonate)){const e=(0,f.NP)();h.timezone!==e&&(console.log(`Changing time zone from ${h.timezone} to ${e}`),d(L({timezone:e})))}if(["fromLanguage","learningLanguage"].forEach((e=>{const t=h[e],n=`${k.Qt.LanguageTokens}.${t}`;(0,k.No)(n)||N(void 0,void 0,void 0,(function*(){try{(0,k.LS)(n,yield g._s.getLanguageTokens(t))}catch(e){(0,R.DT)("load_user_language_tokens_failed","Failed to load language tokens",e)}}))})),(0,_.gE)())try{const e=yield g.bG.requestGradingConfig();(0,_.tc)(e)}catch(e){(0,R.DT)("load_user_grading_config_failed","Failed to download client-side grading config.",e)}d(r.i()),d(l.v()),d(s.TF()),d(s.tD(h.id,h.currentCourse.fromLanguage)),d(i._())}catch(e){(0,R.DT)("load_user_failed","Failed to load user",e)}(0,R.hK)()})),L=(e,t=!0)=>n=>N(void 0,void 0,void 0,(function*(){const i=Object.assign({trackingProperties:!0},e);delete i.currentPassword,"facebookToken"in e&&(i.email=!0,i.facebookId=!0,i.name=!0,delete i.facebookToken),"googleToken"in e&&(i.email=!0,i.googleId=!0,i.name=!0,delete i.googleToken),e.learningLanguage&&(i.courses=!0,i.currentCourse=!0),"password"in e&&(i.name=!0,i.username=!0,delete i.password),"timezone"in e&&(i.timezoneOffset=!0),"age"in e&&(i.adsConfig=!0,i.privacySettings=!0,delete i.age);const r=o.ZP.keys(i).sort();if(e.picture instanceof File){try{yield g.d0.uploadAvatar(e.picture),(0,R.j)("profile_picture_activity_result",{is_success:!0})}catch(e){(0,R.j)("profile_picture_activity_result",{is_success:!1})}delete e.picture}try{const t=yield g.Vi.userUpdate((0,C.Jb)(),Object.assign(Object.assign({},e),{picture:e.picture}),r);n(c.$0(t)),"age"in e&&n(a.ke()),n({type:"UPDATE_USER",user:Object.assign(Object.assign({},o.ZP.object(r.map((e=>[e,null])))),t)}),e.privacySettings&&(0,R.j)("privacy_settings_update",{forum_enabled:!e.privacySettings.includes("DISABLE_DISCUSSIONS"),public_profile:!e.privacySettings.includes("DISABLE_STREAM")})}catch(e){throw console.error("Failed to update user",e),t?e.response?(0,h.lV)(e.response.data.details):{}:e}})),A=e=>(t,n)=>N(void 0,void 0,void 0,(function*(){const o=(0,d.np)(n()).blockedUserIds||[];o.includes(e)||(yield g.i_.block(e),t({type:"UPDATE_USER",user:{blockedUserIds:[e,...o]}}))})),D=e=>(t,n)=>N(void 0,void 0,void 0,(function*(){const o=(0,d.np)(n()).blockedUserIds||[];o.includes(e)&&(yield g.i_.unblock(e),t({type:"UPDATE_USER",user:{blockedUserIds:o.filter((t=>t!==e))}}))})),x=(e="/")=>(t,n)=>N(void 0,void 0,void 0,(function*(){yield(0,R.j)("sign_out",{},!1),t({type:"LOGOUT"}),(0,O.Sk)((0,d.np)(n()))||(0,k.cl)(k.Qt.LoggedOutExperiments),(0,k.cl)(k.Qt.AchievementsMigrationTimestamp);try{yield(0,w.r1)()}catch(e){(0,T.Kp)("Failed to unsubscribe from push notifications",{ex:e})}yield g.d0.logout(e)})),M=()=>e=>N(void 0,void 0,void 0,(function*(){yield g.d0.deactivate(),e({type:"RESET_STATE"}),yield(0,I.Zs)("/")})),U=(e,t)=>n=>N(void 0,void 0,void 0,(function*(){try{yield n(((e,t)=>n=>N(void 0,void 0,void 0,(function*(){yield(0,h.pK)(e,t),yield n(P()),(0,R.j)("welcome",{})})))(e,t)),t&&t!==b.h9?((0,v.d8)(v.Vj.ShouldTrackWelcome,"true"),yield(0,I.Zs)("/welcome")):E.m.push("/welcome")}catch(e){}})),F=({courseId:e,fromLanguage:t,learningLanguage:n,redirectToHome:o=!0,resetScrollPosition:i})=>(r,s)=>N(void 0,void 0,void 0,(function*(){const a="/learn"===window.location.pathname&&(0,p.N9)(s())({fromLanguageId:t,learningLanguageId:n});a&&S.Z.start("language_switch");const l={courseId:e,fromLanguage:t,learningLanguage:n},c={from_language:t,learning_language:n};e&&(c.course_id=e),(0,R.j)("switch_language",c),s().ui.canShowHomeNotification||r({notificationType:"NEW_TREE_CHANGE_V2",type:"CAN_SHOW_HOME_NOTIFICATION"}),o&&"/learn"!==window.location.pathname&&E.m.push("/learn");try{const e=yield g.Vi.userUpdate((0,C.Jb)(),l,["courses","currentCourse","fromLanguage","learningLanguage"]);r({type:"UPDATE_USER",user:e}),(0,d.np)(s()).trackingProperties.has_observer&&(yield r(u.vS())),i&&window.scrollTo(0,0),t!==b.h9&&(yield(0,I.Zs)()),a&&S.Z.finish("language_switch")}catch(e){(0,R.DT)("switch_course_failed","Failed to switch course",e)}})),j=(e,t,n,o,i)=>r=>{const s=(0,f.HR)(300);r(void 0===n?{mistakeCountInfo:void 0,type:"SET_MISTAKE_COUNT"}:{mistakeCountInfo:{courseId:e,expirationTime:s,includeListening:o,includeSpeaking:i,mistakeCount:n},type:"SET_MISTAKE_COUNT"}),r(B(e,t,s,o,i))},B=(e,t,n,o,i)=>r=>N(void 0,void 0,void 0,(function*(){const s=yield g.wO.getMistakeCount(e,t,o,i);r({mistakeCountInfo:{courseId:e,expirationTime:n+1,includeListening:o,includeSpeaking:i,mistakeCount:s},type:"SET_MISTAKE_COUNT"})}))},42659:(e,t,n)=>{"use strict";n.d(t,{Ec:()=>i,jv:()=>r,Mb:()=>s,dE:()=>a,Rv:()=>l,Ye:()=>c,Sg:()=>u,mk:()=>d,SJ:()=>p,YW:()=>m,bE:()=>g,Xr:()=>h,__:()=>_,Ss:()=>f,iH:()=>y,hp:()=>E,yV:()=>b,Ch:()=>S,tw:()=>w,lA:()=>T,Lv:()=>I,WN:()=>k,oe:()=>R,Bs:()=>C,wW:()=>O,np:()=>P,is:()=>L,hy:()=>A,iM:()=>D,MY:()=>x,Oz:()=>M,B8:()=>U,$4:()=>F,vw:()=>j,Lm:()=>B,Fp:()=>H,NT:()=>G,nS:()=>V,Fl:()=>Z,Y4:()=>W,r8:()=>z,aQ:()=>Y,dY:()=>$,gg:()=>K,bW:()=>q,Y2:()=>J,Cm:()=>X,yk:()=>Q,gl:()=>ee});var o=n(80406);const i=e=>e.animations,r=e=>e.browserSettings,s=e=>e.config,a=e=>e.courses,l=e=>e.user.fromLanguage,c=e=>e.ui.homeNotification,u=e=>void 0!==e.ui.drawer&&void 0!==e.ui.modal,d=e=>void 0!==e.ui.drawer||void 0!==e.ui.modal,p=e=>void 0!==e.ui.modal,m=e=>e.ui.online,g=e=>e.ui.isShopItemsFresh,h=e=>e.ui.isUserModelFresh,_=e=>e.items,v=e=>e.profile,f=e=>e.leaderboards.leagues,y=e=>e.user.learningLanguage,E=({},e)=>e.location,b=e=>e.notifications,S=e=>e.paymentMethods,w=e=>e.ui.persistentNotifications,T=e=>e.player,I=e=>e.referralStats,k=e=>e.ui.scrollToStoriesCarousel,R=e=>e.skills,C=e=>e.student,O=e=>e.subscriptions,N=e=>e.ui,P=e=>e.user,L=o.P1(T,(e=>e.session)),A=o.P1(T,L,((e,t)=>t&&(e.currentIndex===t.challenges.length-1||e.endedEarly||t.heartsLeft<(e.sessionParams.isFinalLevel?1:0)))),D=o.P1(L,(e=>{var t;return null!==(t=null==e?void 0:e.challenges.filter((e=>{var t;return null===(t=e.gradingResult)||void 0===t?void 0:t.correct})))&&void 0!==t?t:[]})),x=o.P1(T,L,((e,t)=>null==t?void 0:t.challenges[e.currentIndex])),M=o.P1(a,P,((e,t)=>t.currentCourseId?e[t.currentCourseId]:void 0)),U=o.P1((e=>e.courseHistories),M,((e,t)=>e[t.id])),F=o.P1(N,(e=>e.viewportWidth>=700)),j=o.P1(N,(e=>!!e.purchasingItem)),B=o.P1(P,(e=>!!e.id)),H=o.P1(N,(e=>e.popoverId)),G=o.P1(v,(e=>e.user)),V=o.P1(v,(e=>e.followers)),Z=o.P1(v,(e=>e.following)),W=o.P1(v,(e=>e.socialProfile)),z=o.P1(v,(e=>e.achievements)),Y=o.P1(v,(e=>e.xpEvents)),$=o.P1(P,(e=>e.id)),K=o.P1(s,(e=>{var t,n,o,i;return"CN"===e.ipCountry&&null!==(n=null===(t=e.featureFlags)||void 0===t?void 0:t.disable_avatars_cn)&&void 0!==n&&n||null!==(i=null===(o=e.featureFlags)||void 0===o?void 0:o.disable_avatars_global)&&void 0!==i&&i})),q=o.P1(U,(e=>e.numSessionsWithMistakes)),J=o.P1(_,(e=>e.inventory.premium_subscription)),X=o.P1(J,(e=>null==e?void 0:e.subscriptionInfo)),Q=o.P1(_,(e=>e.inventory.immersive_subscription)),ee=o.P1(T,(e=>{var t,n;return null!==(n=null===(t=e.sessionParams)||void 0===t?void 0:t.isGrammarSkill)&&void 0!==n&&n}))},83936:(e,t,n)=>{"use strict";n.d(t,{f:()=>b,RB:()=>S,Y_:()=>w,ef:()=>T,du:()=>I,QK:()=>k,Qo:()=>R,K_:()=>C,QQ:()=>O,_C:()=>N,nS:()=>P,y1:()=>L,w0:()=>A,E6:()=>D,N9:()=>x,WM:()=>M,T:()=>U,A5:()=>F,Rq:()=>j,wc:()=>B,yj:()=>H});var o=n(80406),i=n(80254),r=n(42659),s=n(51827),a=n(40387),l=n(95332),c=n(16970),u=n(59273),d=n(51748),p=n(68903),m=n(74245),g=n(85381),h=n(51158),_=n(18313),v=n(87477),f=n(68564),y=n(16086),E=n(20028);const b=o.P1(r.Oz,r.oe,((e,t)=>{if(void 0!==(null==e?void 0:e.path)){let t=0;return e.path.forEach((e=>{e.levels.forEach((e=>{"passed"===e.state&&(t+=1)}))})),t}if(!e||!t)return;let n=-1;const o=e.skills;return o?(o.forEach((e=>{let o=!1;t[e[0]].bonus||(e.forEach((e=>{t[e].accessible||(o=!0)})),o||++n)})),n):void 0})),S=o.P1(r.np,r.Oz,r.oe,r.hp,((e,t,n,o)=>{if(!n||!o)return;const r=o.pathname;if(!r.startsWith("/skill/"))return;const s=r.split("/"),a=s[2],l=s[3],c=encodeURIComponent(l),u=decodeURIComponent(l),d=e.fromLanguage,p=(0,m.Py)(a),g=t?t.skills.flat():void 0,_=i.VO(n).find((e=>{let t;try{t=decodeURIComponent(e.urlName)}catch(e){}const n=t===u,o=e.urlName===l||e.urlName===c||e.urlName===u;return void 0===t?(console.error("Unable to decode skill urlName"),(0,h.um)("Unable to decode skill urlName",{data:{urlName:e.urlName},sample:.01})):!n&&o&&(console.error("Decoded skill name did not match when it should have",t),(0,h.um)("Decoded skill name did not match when it should have",{data:{urlName:e.urlName},sample:.01})),(n||o)&&e.fromLanguage===d&&e.learningLanguage===p&&(!g||g.includes(e.id))}));return _?n[_.id]:void 0})),w=o.P1(r.jv,r.MY,r.$4,r.gl,r.is,((e,t,n,o,i)=>t&&i?(0,l.eK)({browserSettings:e,challenge:t,isDesktop:n,isGrammar:o,session:i}):{canToggleTyping:!1,isToggledToTyping:!1})),T=o.P1(r.__,(e=>{var t;return null===(t=e.inventory.premium_subscription)||void 0===t?void 0:t.familyPlanInfo})),I=o.P1(r.__,r.Mb,s.NX),k=o.P1(r.__,(e=>(0,s.RZ)(e))),R=o.P1(r.__,(e=>(0,s._H)(e))),C=o.P1(r.Mb,r.__,((e,t)=>(0,y.Pc)()?(0,s.BY)(t):e.ipCountry?(0,g.kk)(e.ipCountry):void 0)),O=o.P1(r.Oz,r.oe,((e,t)=>(0,_.cp)({course:e,skills:t}))),N=o.P1(r.Ss,(e=>void 0===e?void 0:e.numSessionsRemainingToUnlock)),P=o.P1(r.Ss,(e=>void 0!==(null==e?void 0:e.ended)&&e.ended.length>0?e.ended:void 0)),L=o.P1(k,(e=>!1!==e)),A=o.P1(r.Ec,(e=>{var t;return null!==(t=e.animations)&&void 0!==t?t:[]})),D=o.P1(A,(e=>e.some((e=>"SKILL_UNLOCK"===e.name)))),x=o.P1(r.np,r.dE,((e,t)=>{const n=(e.courses||[]).map((e=>t[e])).map((e=>`${e.learningLanguage}_${e.fromLanguage}`));return e=>n.includes(`${e.learningLanguageId}_${e.fromLanguageId}`)})),M=o.P1(r.Mb,(e=>e.clientExperiments)),U=o.P1(r.Ye,(e=>["PROGRESS_QUIZ_WIDGET","WEB_LEADERBOARDS_INTRODUCTION"].includes(e))),F=o.P1(r.np,r.Lm,I,k,((e,t,n,o)=>{if(!t||(0,E.pN)(e))return"eligibleFreeTrial";if(e.hasPlus)return"alreadyHasPlus";switch(n){case!0:return o?"eligibleFreeTrial":"eligible";case!1:return"ineligible";case void 0:return;default:return void(0,p.RJ)(n)}})),j=o.P1(r.lA,r.hy,((e,t)=>{if(!e.session)return;if(e.sessionParams.isFinalLevel){const[t,n]=(0,v.Dk)(e);return![v.cS.PartialXpDuo,v.cS.PartialXpDuoSliding].includes(e.status)&&void 0!==t&&t<e.challengeIdSections.length-1&&n===e.challengeIdSections[t].length-1?"partialXpDuo":void 0}const n=[v.cS.CoachDuo,v.cS.CoachDuoSliding,v.cS.SmartTip,v.cS.SmartTipBlaming,v.cS.SmartTipSliding,v.cS.HardModeDuo,v.cS.HardModeDuoSliding];let o=n.indexOf(e.status)<n.indexOf(v.cS.CoachDuo)&&e.coachDuo.model&&(!t||e.coachDuo.model.showReason===d.w.PerfectLesson);const i=n.indexOf(e.status)<n.indexOf(v.cS.SmartTip)&&e.smartTipToShow&&!t,r=n.indexOf(e.status)<n.indexOf(v.cS.HardModeDuo)&&((0,u.gQ)("hardModeDuo")||(0,a.IF)(e)||(0,c.Yt)(e));return o&&!i&&r&&(o=!1),o?"coachDuo":i?"smartTip":r?"hardModeDuo":void 0})),B=o.P1(r.np,r.jv,((e,t)=>e.enableSpeaker&&t.listenDisabledUntil)),H=o.P1(r.np,r.jv,((e,t)=>e.enableMicrophone&&f.c&&t.speakDisabledUntil))},86233:(e,t,n)=>{"use strict";n.d(t,{nn:()=>l,A9:()=>c,qW:()=>u,iH:()=>d,pl:()=>p,Jz:()=>m,RR:()=>g,Uy:()=>h,jf:()=>_,VR:()=>v,$2:()=>f,jH:()=>y,Vm:()=>E,Bw:()=>b,nO:()=>S,wB:()=>w,lN:()=>T,yL:()=>I,Un:()=>k,s8:()=>R,Dk:()=>C,ml:()=>O,Ib:()=>N,yo:()=>P,uR:()=>L,WT:()=>A});var o=n(80406),i=n(8718),r=n(18513),s=n(43094),a=n(20028);const l=e=>e.storiesPersisted,c=e=>e.stories,u=e=>l(e).config,d=o.P1(c,(e=>e.learningLanguage)),p=o.P1(c,(e=>e.trackingProperties)),m=o.P1(c,(e=>{var t,n;return null!==(n=null===(t=e.storySession)||void 0===t?void 0:t.speakCount)&&void 0!==n?n:0})),g=o.P1(c,(e=>{var t;return null===(t=e.storySession)||void 0===t?void 0:t.challengeSession})),h=o.P1(c,(e=>e.storySession)),_=o.P1(c,(e=>-1!==e.speakingDisabledLineIndex)),v=o.P1(c,(e=>{var t;const n=e.storyElements,o=null===(t=e.storySession)||void 0===t?void 0:t.furthestPosition.elementIndex;return n&&o?n[o]:void 0})),f=o.P1(c,(e=>{var t;return null===(t=e.storySession)||void 0===t?void 0:t.furthestPosition})),y=o.P1(c,(e=>{var t;return null===(t=e.storySession)||void 0===t?void 0:t.status})),E=o.P1(l,(e=>e.unvisitedStories)),b=o.P1(l,(e=>e.mostRecentlyUnlockedStory)),S=o.P1(l,(e=>e.newlyPublishedUpdate)),w=o.P1(l,(e=>e.carousel)),T=o.P1(c,(e=>{var t;const n=e.storyListing;if(void 0===n)return;let o=!1;const i=n.sets.map((e=>{const t=e.every((e=>e.completed));return{complete:t,firstIncompleteSet:!t&&!o&&(o=!0),locked:e.every((e=>e.setLocked)),stories:e}}));return{crownGating:n.crownGating,storySets:i,unorderedStories:null!==(t=n.unpublishedStories)&&void 0!==t?t:[]}})),I=o.P1(c,(e=>(0,i.C7)(e.storyElements))),k=o.P1(c,(e=>void 0!==e.storyListing&&e.storyListing.sets.length>0&&e.storyListing.sets.every((e=>e.every((e=>"GILDED"===e.state)))))),R=o.P1((e=>e.user),c,((e,t)=>{var n;return!(0,a.pN)(e)||!!(null===(n=t.storyListing)||void 0===n?void 0:n.sets.every((e=>e.every((e=>"GILDED"!==e.state)))))})),C=o.P1(c,(e=>{var t,n;const o=null===(t=e.storySession)||void 0===t?void 0:t.selectedPosition,i=e.storyElements,r=void 0!==(null===(n=e.storySession)||void 0===n?void 0:n.freeformChallengeSubmittedResponse);return o&&i?(0,s.lo)(i,o.elementIndex,r):0})),O=o.P1(c,(e=>{var t;return e.storyElements&&(null===(t=e.storySession)||void 0===t?void 0:t.furthestPosition)&&(0,s.O$)(e.storyElements,e.storySession.furthestPosition.elementIndex)})),N=o.P1(O,c,((e,t)=>{var n;return e?null===(n=null==t?void 0:t.storyElements)||void 0===n?void 0:n[e]:void 0})),P=o.P1((e=>e.stories.storyElements),(e=>{var t;return null===(t=e.stories.storySession)||void 0===t?void 0:t.furthestPosition}),(e=>{var t;return null===(t=e.stories.storySession)||void 0===t?void 0:t.selectedPosition}),(e=>{var t;return null===(t=e.stories.storySession)||void 0===t?void 0:t.challengeSession}),(e=>{var t;return null===(t=e.stories.storySession)||void 0===t?void 0:t.status}),(e=>{var t,n;return"in-progress"===(null===(t=e.stories.storySession)||void 0===t?void 0:t.storyCompleteRequestStatus)||"in-progress"===(null===(n=e.stories.storySession)||void 0===n?void 0:n.grammarCorrectionRequestStatus)}),(e=>{var t;return null===(t=e.stories.storySession)||void 0===t?void 0:t.onboardingStep}),(e=>e.stories.audio.playError),((e,t,n,o,r,a,l,c)=>{var u;if(c)return!0;if(a)return!1;if("completed"===r)return!1;if("story-end"===r)return!0;if(void 0===t||void 0===e||void 0===n)return!1;if("tap-translation-hint"===l)return!1;if(null==o?void 0:o.completed)return!0;if("type-text"===(null==o?void 0:o.type)&&!o.completed&&o.answer.length>0)return!0;if("freeform-writing"===(null==o?void 0:o.type)&&!o.completed&&o.fetchedCorrection)return!0;if(o&&!o.completed)return!1;const d=e[t.elementIndex],p=null===(u=(0,i.z_)(d))||void 0===u?void 0:u.text.length;if("DUO_POPUP"===d.type)return!0;const m=!!(void 0===p||void 0!==t.textIndex&&t.textIndex>=p-1),g=e[t.elementIndex+1],h=!(0,i.z$)(g)&&"CHALLENGE_PROMPT"!==d.type,_=(0,s.lo)(e,t.elementIndex,!0),v=e[_],f="LINE"===v.type?v.line.content.text.length:0,y="LINE"===e[t.elementIndex].type?t:{elementIndex:_,textIndex:f-1};return(0,s.Nh)(n,y)||m&&h})),L=o.P1((e=>{var t;return null===(t=e.stories.storySession)||void 0===t?void 0:t.challengeSession}),(e=>"freeform-writing"===(null==e?void 0:e.type)&&!e.completed&&(0,r.Bv)(e))),A=o.P1(h,(e=>{var t;return null===(t=null==e?void 0:e.visibleStoryEndSections)||void 0===t?void 0:t.slice(-1)[0]}))},7601:(e,t,n)=>{"use strict";n(95830);var o=n(67899),i=n(39852),r=n(74971),s=(n(91575),n(27378)),a=n(31542),l=n(50065),c=n(69635),u=n(99369),d=n(80254),p=n(84389);const m=(0,u.from)({status:"disabled"}),g=(0,u.from)({coachEnabled:!0,completeReverseTranslationTypingEnabled:!1,listenDisabledUntil:0,prefersReducedMotion:!1,speakDisabledUntil:0,transliterationsSettings:{"ja<en":{enabled:!0,type:"romaji"}},typingEnabled:!1}),h={activeAlphabetName:void 0,changedCharacters:void 0,characterChart:void 0,fromLanguage:void 0,learningLanguage:void 0,stagedCharacterChart:void 0},_=JSON.parse('{"ageRestrictionLimit":13,"clientExperiments":{},"courses":{"ar":["en","fr","de","sv"],"cs":["en"],"de":["en","es","fr"],"el":["en"],"en":["es","fr","de","it","pt","nl-NL","ga","da","sv","tr","eo","no-BO","uk","ru","pl","cy"],"es":["en","fr","pt","de","it","ca"],"fr":["de","en","es","it"],"hi":["en"],"hu":["en"],"id":["en"],"it":["fr","en"],"ja":["en"],"ko":["en"],"nl-NL":["en"],"pl":["en"],"pt":["de","en","es","fr"],"ro":["en"],"ru":["en","de","fr","es"],"tr":["en","de"],"uk":["en"],"vi":["en"],"zh":["en"]},"dictionaryHost":"d2.duolingo.com","featureFlags":{},"speechHost":"speech.duolingo.com"}');var v=n(59273),f=n(21061),y=n(68903);const E=({history:e,updateTimestamp:t,values:n})=>e.filter((e=>t<e.expirationTimestamp)).filter((e=>!(0,y.cY)(n,e.value))),b=(0,f.dz)({days:28}),S=({challenges:e,history:t,updateTimestamp:n})=>{const o=e.filter((e=>void 0!==e.challengeGeneratorIdentifier)).map((e=>({generatorIdentifier:e.challengeGeneratorIdentifier})));return(({history:e,ttl:t,unique:n,updateTimestamp:o,values:i})=>{let r=[...e,...i.map((e=>({expirationTimestamp:o+t,value:e})))].filter((e=>o<e.expirationTimestamp));if(n){const e=[];r.sort(((e,t)=>t.expirationTimestamp-e.expirationTimestamp)).forEach((t=>{(0,y.cY)(e.map((e=>e.value)),t.value)||e.push(t)})),r=e}return r.sort(((e,t)=>e.expirationTimestamp-t.expirationTimestamp))})({history:t,ttl:b,unique:!0,updateTimestamp:n,values:o})},w=({challenges:e,history:t,updateTimestamp:n})=>{const o=e.filter((e=>void 0!==e.challengeGeneratorIdentifier)).map((e=>({generatorIdentifier:e.challengeGeneratorIdentifier})));return E({history:t,updateTimestamp:n,values:o})};var T=n(11811);const I=(e=(0,u.from)({globalPlacementSessionStarts:0,globalPracticeSessionEnds:0,globalPracticeSessionStarts:0,mistakeHistory:[],numSessionsWithMistakes:0}),t)=>{var n,o;switch(t.type){case"QUIT_SESSION":{const{sessionParams:{generatorIdentifiersOfRecentMistakes:n},session:o,session:{challenges:i,startTime:r}}=t;return o.type===T.FF.Lesson&&(e=(0,u.set)(e,"mistakeHistory",S({challenges:i.filter((e=>{var t;return!1===(null===(t=e.gradingResult)||void 0===t?void 0:t.correct)})),history:e.mistakeHistory,updateTimestamp:r}))),n&&(e=(0,u.set)(e,"mistakeHistory",w({challenges:i.filter((e=>{var t;return!0===(null===(t=e.gradingResult)||void 0===t?void 0:t.correct)})),history:e.mistakeHistory,updateTimestamp:r}))),e}case"START_SESSION":{const{sessionParams:{generatorIdentifiersOfRecentMistakes:o},session:i,startTime:r}=t;return i.type===T.FF.GlobalPractice&&(e=(0,u.set)(e,"globalPracticeSessionStarts",e.globalPracticeSessionStarts+1)),i.type===T.FF.PlacementTest&&(e=(0,u.set)(e,"globalPlacementSessionStarts",(null!==(n=e.globalPlacementSessionStarts)&&void 0!==n?n:0)+1)),o&&(e=(0,u.set)(e,"mistakeHistory",(({challenges:e,generatorIdentifiers:t,history:n,updateTimestamp:o})=>{const i=e.filter((e=>void 0!==e.challengeGeneratorIdentifier)).map((e=>e.challengeGeneratorIdentifier)),r=t.filter((e=>!(0,y.cY)(i,e))).map((e=>({generatorIdentifier:e})));return E({history:n,updateTimestamp:o,values:r})})({challenges:i.challenges,generatorIdentifiers:o,history:e.mistakeHistory,updateTimestamp:r}))),e}case"SUBMITTED_SESSION":{const{requestSession:n,requestSession:{challenges:i,endTime:r},sessionParams:{generatorIdentifiersOfRecentMistakes:s}}=t;if(n.type===T.FF.GlobalPractice&&(e=(0,u.set)(e,"globalPracticeSessionEnds",e.globalPracticeSessionEnds+1)),n.type===T.FF.Lesson){const t=i.filter((e=>!1===e.correct));t.length>0&&(e=(0,u.set)(e,"numSessionsWithMistakes",(null!==(o=e.numSessionsWithMistakes)&&void 0!==o?o:0)+1)),e=(0,u.set)(e,"mistakeHistory",S({challenges:t,history:e.mistakeHistory,updateTimestamp:r}))}return s&&(e=(0,u.set)(e,"mistakeHistory",w({challenges:i.filter((e=>void 0!==e.correct)),history:e.mistakeHistory,updateTimestamp:r}))),e}default:return e}},k=(e,t,n)=>{const o=e.filter((e=>!t.includes(e.userId))),i=o.filter((e=>n.includes(e.userId)));return o.filter((e=>!n.includes(e.userId))).concat(i)};var R=n(16086),C=n(87477),O=n(74923),N=n(64591),P=n(97106);const L=(0,u.from)({challengeIdSections:[],challengeStates:[],coachDuo:{allCharacters:[],allShowReasons:[],currentCorrectStreak:0,currentIncorrectStreak:0},completedWithHeartsRemaining:!1,confidence:0,currentInLessonStreak:0,currentIndex:0,enableBonusPoints:!1,endedEarly:!1,hasNativeAd:!1,hints:{},inLessonTipResources:{},inLessonTipShowing:!1,isFinalLevel:!1,maxHearts:0,maxInLessonStreak:0,numInLessonTipOpens:0,receivedGifts:{streakFreeze:!1},session:void 0,sessionParams:void 0,sessionSubmitError:void 0,sessionSubmitted:!1,sessionSubmitting:!1,shownSmartTipIds:[],slideData:[],smartTipResources:{},status:void 0,strength:0,useHearts:!1}),A=(e,t)=>void 0===e.time[e.time.length-1][1]?(0,u.setIn)(e,["time",e.time.length-1,1],t):e;var D=n(8718),x=n(77042),M=n(18513),U=n(20662),F=n(43094),j=n(785);const B={audio:{instructionId:0,playState:"PAUSE",seekTo:0,speed:1},fromLanguage:void 0,learningLanguage:void 0,listenModeCharacterIds:[],masterVersion:!1,mode:"READ",showMasterScripts:!1,speakingDisabledLineIndex:-1,storyAudioLoadState:"UNDEFINED",storyListing:void 0,trackingProperties:{}},H={carousel:void 0,config:{courses:D.Yb},mostRecentlyUnlockedStory:void 0,newlyPublishedUpdate:void 0,unlockedStories:void 0,unvisitedStories:void 0};var G=n(45076);const V=(0,u.from)({availableModals:[],b2bPricingData:void 0,canShowHomeNotification:!0,drawer:void 0,drawerIsUhmManaged:!1,isDimmedOverlayOpen:!1,isLoggingOut:!1,isModalReallyOpen:!1,isRequestingNotificationPermission:!1,isShopItemsFresh:!1,isUserModelFresh:!1,modal:void 0,modalIsUhmManaged:!1,modalShouldWaitForOverlay:!1,online:!0,persistentNotifications:{dogfooding:!0,dogfoodingPreview:!0,requestNotificationPermission:!0},purchasingItem:!1,scrollToStoriesCarousel:!1,viewportHeight:window.innerHeight,viewportWidth:window.innerWidth});var Z=n(59096);const W=e=>({discountType:e.discountType,expirationTime:e.secondsUntilExpiration>0?(0,f.HR)(e.secondsUntilExpiration):0});var z=n(51158),Y=n(18804);const $=(e=>{const t=d.XP(e);return(n=(0,u.from)({}),o)=>t.reduce(((t,i)=>(0,u.set)(t,i,e[i](n[i],o))),n)})({achievements:(e=(0,u.from)({}),t)=>{switch(t.type){case"MARK_ACHIEVEMENT_UNLOCK_SHOWN":{const n=(0,u.asMutable)(e.achievements).map((e=>e.name===t.name?(0,u.set)(e,"shouldShowUnlock",!1):e));e=(0,u.set)(e,"achievements",n);break}case"SET_SESSION_START_ACHIEVEMENTS":e=(0,u.set)(e,"sessionStartAchievements",e.achievements);break;case"UPDATE_USER_ACHIEVEMENTS":{const n=(0,p.GC)(t.achievements);e=(0,u.set)(e,"achievements",n);break}}return e},achievementsV3:(e=(0,u.from)({}),t)=>{switch(t.type){case"MARK_ACHIEVEMENT_UNLOCK_SHOWN_V3":{const n=(0,u.asMutable)(e.achievements).map((e=>e.name===t.achievement.name?(0,u.set)(e,"shouldShowUnlock",!1):e));e=(0,u.set)(e,"achievements",n);break}case"SET_SESSION_START_ACHIEVEMENTS_V3":e=(0,u.set)(e,"sessionStartAchievements",e.achievements);break;case"UPDATE_USER_ACHIEVEMENTS_V3":{const n=(0,p.H2)(t.achievements);e=(0,u.set)(e,"achievements",n);break}}return e},animations:(e=(0,u.from)({}),t)=>{var n,o,i;switch(t.type){case"QUEUE_ANIMATION":{const o=(0,u.asMutable)(null!==(n=e.animations)&&void 0!==n?n:[]);o.push(t.animation),e=(0,u.set)(e,"animations",o);break}case"QUEUE_ANIMATIONS":{const n=(0,u.asMutable)(null!==(o=e.animations)&&void 0!==o?o:[]).concat(t.animations);e=(0,u.set)(e,"animations",n);break}case"DEQUEUE_ANIMATION":{const n=(0,u.asMutable)(null!==(i=e.animations)&&void 0!==i?i:[]).filter((e=>e.id!==t.id));e=(0,u.set)(e,"animations",n);break}}return e},brb:(e=m,t)=>{switch(t.type){case"brb/DISABLED":e=(0,u.set)(e,"resetAt",void 0),e=(0,u.set)(e,"status","disabled");break;case"brb/ENABLED":e=(0,u.set)(e,"resetAt",t.resetAt),e=(0,u.set)(e,"status","enabled");break;case"brb/IGNORED":e=(0,u.set)(e,"ignoreUntil",t.ignoreUntil),e=(0,u.set)(e,"resetAt",void 0),e=(0,u.set)(e,"status","disabled")}return e},browserSettings:(e=g,t)=>{switch(t.type){case"DISABLE_LISTEN":e=(0,u.set)(e,"listenDisabledUntil",t.listenDisabledUntil);break;case"DISABLE_REDUCED_MOTION":e=(0,u.set)(e,"prefersReducedMotion",!1);break;case"DISABLE_SPEAK":e=(0,u.set)(e,"speakDisabledUntil",t.speakDisabledUntil);break;case"ENABLE_LISTEN":e=(0,u.set)(e,"listenDisabledUntil",0);break;case"ENABLE_REDUCED_MOTION":e=(0,u.set)(e,"prefersReducedMotion",!0);break;case"ENABLE_SPEAK":e=(0,u.set)(e,"speakDisabledUntil",0);break;case"TOGGLE_COACH":e=(0,u.set)(e,"coachEnabled",!e.coachEnabled);break;case"TOGGLE_COMPLETE_REVERSE_TRANSLATION":e=(0,u.set)(e,"completeReverseTranslationTypingEnabled",!e.completeReverseTranslationTypingEnabled);break;case"TOGGLE_TAP":e=(0,u.set)(e,"typingEnabled",!e.typingEnabled);break;case"SET_TRANSLITERATIONS_SETTINGS":e=(0,u.set)(e,"transliterationsSettings",t.settings)}return e},characters:(e=(0,u.from)(h),t)=>{switch(t.type){case"characters/UPDATE_CHARACTER_CHART":return(0,u.merge)(e,{characterChart:t.characterChart});case"characters/SET_CHARACTER_CHART":return(0,u.merge)(e,{activeAlphabetName:t.activeAlphabetName,characterChart:t.characterChart,fromLanguage:t.fromLanguage,learningLanguage:t.learningLanguage});case"characters/SET_ACTIVE_TAB":return(0,u.merge)(e,{activeAlphabetName:t.activeAlphabetName});case"characters/STAGE_CHART_UPDATE":return(0,u.merge)(e,{changedCharacters:t.changedCharacters,stagedCharacterChart:t.stagedCharacterChart})}return e},config:(e=(0,u.from)(_),t)=>{switch(t.type){case"UPDATE_CONFIG":e=(0,v.gQ)("debugIpCountry")?Object.assign(Object.assign({},t.config),{ipCountry:(0,v.ky)("debugIpCountry")}):t.config}return e},courseHistories:(e=(0,u.from)({}),t)=>{switch(t.type){case"QUIT_SESSION":case"START_SESSION":case"SUBMITTED_SESSION":{const{courseId:n}=t;return(0,u.set)(e,n,I(e[n],t))}case"UPDATE_USER":{const{user:n}=t;return n.courses&&(e=d.Ry(n.courses.map((n=>[n.id,I(e[n.id],t)])))),e}default:return e}},courses:(e=(0,u.from)({}),t)=>{switch(t.type){case"DISABLE_PLACEMENT_TEST":e=(0,u.setIn)(e,[t.id,"placementTestAvailable"],!1);break;case"SUBMITTED_SESSION":t.progressQuizHistory&&(e=(0,u.setIn)(e,[t.courseId,"progressQuizHistory"],t.progressQuizHistory));break;case"UPDATE_CROWNS":e=(0,u.setIn)(e,[t.courseId,"crowns"],t.crowns);break;case"UPDATE_USER":{const{currentCourse:o,courses:i}=t.user;i&&(e=(0,u.from)(d.Ry(i.map((e=>[e.id,e]))))),o&&(e=void 0===o.path||0===o.path.length?(0,u.set)(e,o.id,Object.assign(Object.assign({},o),{path:void 0,skills:(n=o.skills,n.reduce(((e,t)=>(e.push(t.map((e=>e.id))),e)),[]))})):(0,u.set)(e,o.id,o));break}}var n;return e},friends:(e=(0,u.from)({assets:{},drawer:null,feedRedesign:null,recommendationInfo:null}),t)=>{switch(t.type){case"SET_KUDOS_FEED":e=(0,u.set)(e,"feedRedesign",t.feedRedesign);break;case"SET_KUDOS_ASSETS":e=(0,u.set)(e,"assets",t.assets);break;case"SET_KUDOS_DRAWER":e=(0,u.set)(e,"drawer",t.drawer);break;case"SET_FOLLOW_SUGGESTIONS":e=(0,u.set)(e,"recommendationInfo",t.recommendationInfo);break;case"UPDATE_FOLLOW_SUGGESTIONS":{if(null===e.recommendationInfo)break;const n=Object.assign(Object.assign({},e.recommendationInfo),{recommendations:k(e.recommendationInfo.recommendations,t.filteredIds,t.rotatedIds)});e=(0,u.set)(e,"recommendationInfo",n);break}case"DELETE_FOLLOW_SUGGESTION":{if(null===e.recommendationInfo)break;const n=Object.assign(Object.assign({},e.recommendationInfo),{recommendations:e.recommendationInfo.recommendations.filter((e=>e.userId!==t.deletedId))});e=(0,u.set)(e,"recommendationInfo",n);break}}return e},items:(e=(0,u.from)({inventory:{},shop:{bonus_skill:{},in_app_purchase:[],isLoaded:!1,misc:{}}}),t)=>{switch(t.type){case"PURCHASE_ITEM":{if("SUCCESS"!==t.status)break;const{item:n}=t;"streak_freeze"!==n.itemName?e=(0,u.setIn)(e,["inventory",n.itemName],n):t.purchaseQuantity&&(e=(0,u.setIn)(e,["inventory","streak_freeze","quantity"],e.inventory.streak_freeze?e.inventory.streak_freeze.quantity+t.purchaseQuantity:t.purchaseQuantity));break}case"REFRESH_USER_ITEM":{const n=t.item;e=(0,u.set)(e,"inventory",Object.assign(Object.assign({},e.inventory),{[n.itemName]:n}));break}case"SET_SHOP_ITEMS":{const n={bonus_skill:{},in_app_purchase:[],isLoaded:!1,misc:{}};t.items.forEach((e=>{switch(e.type){case"bonus_skill":case"misc":n[e.type][e.id]=e;break;case"in_app_purchase":n[e.type].push(e);break;default:(0,y.RJ)(e)}})),n.isLoaded=!0,e=(0,u.set)(e,"shop",n);break}case"UPDATE_INVENTORY":e=(0,u.set)(e,"inventory",t.inventory)}return e},leaderboards:(e=(0,u.from)({}),t)=>{var n,o,i,r,s;switch(t.type){case"UPDATE_LEADERBOARD":if("leagues"===t.alias){const n=t.leaderboard,o=n.numSessionsRemainingToUnlock,i=e.leagues?e.leagues.numSessionsRemainingToUnlock:void 0;n.numSessionsRemainingToUnlock=void 0===i||void 0===o?o:Math.max(0,Math.min(i,o)),e=(0,u.set)(e,"leagues",n)}break;case"SUBMITTED_SESSION":{void 0!==(null===(n=e.leagues)||void 0===n?void 0:n.numSessionsRemainingToUnlock)&&(e=(0,u.setIn)(e,["leagues","numSessionsRemainingToUnlock"],e.leagues.numSessionsRemainingToUnlock-1));const a=t.responseSession.xpGain,l=e.leagues,c=null===(o=null==l?void 0:l.active)||void 0===o?void 0:o.cohort.rankings.findIndex((e=>e.userId===(0,R.Jb)()));if(l&&c&&c>=0){const t=(0,u.updateIn)(l,["active","cohort","rankings",c,"score"],(e=>e+a)),n=(0,u.asMutable)(null!==(s=null===(r=null===(i=null==t?void 0:t.active)||void 0===i?void 0:i.cohort)||void 0===r?void 0:r.rankings)&&void 0!==s?s:[]).sort(((e,t)=>e.score>t.score?-1:e.score<t.score?1:0));e=(0,u.setIn)(e,["leagues","active","cohort","rankings"],n)}break}}return e},notifications:(e=(0,u.from)({}),t)=>{switch(t.type){case"MARK_NOTIFICATIONS_READ":e=d.Xc(e,(e=>Object.assign(Object.assign({},e),{unseen:!1})));break;case"SET_NOTIFICATIONS":e=t.notifications;break;case"UPDATE_FOLLOW_NOTIFICATION":e=d.Xc(e,(e=>e.id===t.notificationId?Object.assign(Object.assign({},e),{is_following:t.isFollowing}):e))}return e},paymentMethods:(e=(0,u.from)([]),t)=>{switch(t.type){case"REFRESH_USER_PAYMENT_METHODS":e=t.paymentMethods}return e},player:(e=L,t)=>{var n,o,i,r;switch(e=((e,t)=>{switch(t.type){case"LOAD_SMART_TIP_RESOURCE":return(0,u.setIn)(e,["smartTipResources",t.smartTipId],t.smartTipResource);case"SET_SMART_TIP_TO_SHOW":return e=(0,u.set)(e,"shownSmartTipIds",[t.smartTipResource.identifier,...e.shownSmartTipIds]),(0,u.set)(e,"smartTipToShow",t.smartTipResource);case"UPDATE_GRADED_SMART_TIP":return e=(0,u.set)(e,"status",C.cS.SmartTipBlaming),(0,u.setIn)(e,["smartTipToShow","gradingResult"],{correct:t.correct});default:return e}})(e,t),t.type){case"PLAYER_RESET":e=L;break;case"RECEIVE_GIFT":e=(0,u.setIn)(e,["receivedGifts",t.gift],!0);break;case"CLEAR_IN_LESSON_TIP":return(0,u.merge)(e,{inLessonTip:void 0,inLessonTipShowing:!1});case"CREATE_SESSION":{const{session:o,sessionParams:i}=t,r=o.challenges[e.currentIndex],s=(0,O.BY)({challenge:r}),a=!i.isFinalLevel&&o.beginner?4:3,l=o.type,c=null!==(n=(()=>{switch(i.type){case T.FF.Checkpoint:return C.cS.CheckpointSplash;case T.FF.CheckpointTest:return C.cS.CheckpointTestSplash;case T.FF.Lesson:return i.isFinalLevel?C.cS.FinalLevelDuo:i.showGrammarSkillSplash?C.cS.GrammarSkillSplash:void 0;case T.FF.MistakesReview:return C.cS.MistakesReviewDuo;case T.FF.PlacementTest:return C.cS.PlacementSplash;case T.FF.SkillTest:return C.cS.SkillTestSplash;default:return}})())&&void 0!==n?n:(0,C.ct)(r,s),d=i.isFinalLevel||(0,C.LJ)(l)&&!(0,C.l$)(l);e=(0,u.merge)(e,{challengeIdSections:(0,C.oT)(o.challenges,i.isFinalLevel?2:1),challengeStates:[s],maxHearts:a,session:Object.assign(Object.assign({},o),{heartsLeft:d?a:0}),sessionParams:i,status:c,useHearts:d});break}case"ADD_CHALLENGE":{e=(0,u.updateIn)(e,["session","challenges"],(e=>[...e,t.challenge]));const n=(0,u.asMutable)(e.challengeIdSections,{deep:!0});n[n.length-1].push(t.challenge.id),e=(0,u.set)(e,"challengeIdSections",n);break}case"CHALLENGE_GUESS_CHANGE":e=e.status===C.cS.SmartTip?(0,u.setIn)(e,["smartTipToShow","guess"],t.value):(0,u.setIn)(e,["challengeStates",e.currentIndex,"guess"],t.value);break;case"CHALLENGE_HAS_BROKEN_TTS":e=(0,u.setIn)(e,["challengeStates",e.currentIndex,"hasBrokenTts"],!0);break;case"CHALLENGE_STARTED":e=e.status===C.cS.SmartTip?(0,u.setIn)(e,["smartTipToShow","startTime"],t.timestamp):(0,u.setIn)(e,["session","challenges",e.currentIndex,"startTime"],t.timestamp);break;case"COACH_DUO_SHOWN":e=(0,u.updateIn)(e,["coachDuo","allCharacters"],(e=>[...e,t.model.template.character])),e=(0,u.updateIn)(e,["coachDuo","allShowReasons"],(e=>[...e,t.model.showReason]));break;case"CONTINUE_CURRENT_CHALLENGE":{const t=e.session.challenges[e.currentIndex],n=e.challengeStates[e.currentIndex],o=(0,O.uu)({challenge:t,challengeState:n});e=(0,u.setIn)(e,["challengeStates",e.currentIndex],o),e=(0,u.set)(e,"status",(0,O.j4)({challenge:t,challengeState:o})?C.cS.Guessing:C.cS.Showing);break}case"REPLACE_WITH_ADAPTIVE_CHALLENGES":{const n=(0,u.asMutable)(e.challengeIdSections,{deep:!0}),o=(0,u.asMutable)(e.session.challenges);let i=0,r=0;o.forEach(((s,a)=>{const l=a-e.currentIndex-1;if(l>=0&&l<t.challenges.length){const s=t.challenges[a-e.currentIndex-1];o[a]=s,n[i][r]=s.id}r<e.challengeIdSections[i].length?r++:(i++,r=0)})),e=(0,u.setIn)(e,["session","challenges"],o),e=(0,u.set)(e,"challengeIdSections",n);break}case"ADVANCE_SESSION":{const t=e.currentIndex+1;e=(0,u.setIn)(e,["challengeStates",t],(0,O.BY)({challenge:e.session.challenges[t]})),e=(0,u.setIn)(e,["coachDuo","model"],void 0),e=(0,u.set)(e,"currentIndex",t),e=(0,u.set)(e,"smartTipToShow",void 0),e=(0,u.set)(e,"status",C.cS.Sliding);break}case"DISABLE_LISTEN":case"DISABLE_SPEAK":{if(void 0===e.session)return e;const n="DISABLE_LISTEN"===t.type?(0,C.tq)():(0,C.bc)(),o="DISABLE_LISTEN"===t.type?t.shouldReplaceListenChallenges:t.shouldReplaceSpeakChallenges;e.session.adaptiveChallenges&&(e=(0,u.setIn)(e,["session","adaptiveChallenges"],e.session.adaptiveChallenges.filter((e=>!n.includes(e.type)))));const i=[],r=[],s=[];(0,C.L1)(e,(({challenge:t,challengeIndex:a,sectionIndex:l})=>{var c,u;const d=null===(c=e.session.adaptiveInterleavedChallenges)||void 0===c?void 0:c.speakOrListenReplacementIndices,p=d?d[a]:null;if((a<=e.currentIndex||!n.includes(t.type))&&(i.push(t),r[l]=r[l]||[],r[l].push(t.id),s.push(null!=p?p:null)),a>=e.currentIndex&&null!==p&&n.includes(t.type)&&o){const t=null===(u=e.session.adaptiveInterleavedChallenges)||void 0===u?void 0:u.challenges,n=null==t?void 0:t[p];n&&(i.push(n),r[l]=r[l]||[],r[l].push(n.id),s.push(p))}return!1})),e=(0,u.setIn)(e,["session","challenges"],i),(e=(0,u.set)(e,"challengeIdSections",r)).session.adaptiveInterleavedChallenges&&(e=(0,u.setIn)(e,["session","adaptiveInterleavedChallenges","speakOrListenReplacementIndices"],s));break}case"ENABLE_BONUS_POINTS":e=(0,u.set)(e,"enableBonusPoints",!0);break;case"START_SESSION_SUBMIT":e=(0,u.set)(e,"sessionSubmitting",!0);break;case"END_SESSION_SUBMIT":e=(0,u.set)(e,"sessionSubmitting",!1);break;case"END_SESSION":{const{enableBonusPoints:n,endedEarly:o,maxInLessonStreak:i,progressScore:r,session:{heartsLeft:s},sessionParams:{isFinalLevel:a}}=e,l=e.useHearts&&s<(a?1:0),c=!o&&!l;e=(0,u.set)(e,"completedWithHeartsRemaining",c);const d={enableBonusPoints:n,endTime:t.timestamp,failed:!e.partialXpGiven&&l,maxInLessonStreak:i,progressScore:r,shouldLearnThings:!a||c,xpPromised:(0,P.xc)(e)};e=(0,N.$f)(e,["session"],d);break}case"END_SESSION_EARLY":e=(0,u.set)(e,"endedEarly",!0);break;case"END_SESSION_FAILED":e=(0,u.set)(e,"sessionSubmitError",t.error);break;case"END_SESSION_SUCCESS":e=(0,u.set)(e,"hasNativeAd",t.hasNativeAd),e=(0,u.set)(e,"sessionSubmitted",!0),e=(0,u.set)(e,"slideData",t.slideData);break;case"LOAD_HINTS":e=(0,u.setIn)(e,["hints",t.challenge.id],t.hints);break;case"LOAD_IN_LESSON_TIP_RESOURCE":return(0,u.setIn)(e,["inLessonTipResources",t.url],t.explanationResource);case"SET_ADAPTIVE_SCORES":e=(0,u.merge)(e,{confidence:t.confidence,progressScore:t.progressScore,status:C.cS.Blaming});break;case"SET_COACH_DUO_MODEL":e=(0,u.setIn)(e,["coachDuo","model"],t.model);break;case"SET_IN_LESSON_TIP":return(0,u.set)(e,"inLessonTip",t.explanationResource);case"SET_PARTIAL_XP_GIVEN":e=(0,u.set)(e,"partialXpGiven",t.xpGiven);break;case"SET_PLAYER_STATUS":e=(0,u.set)(e,"status",t.status);break;case"SET_PRIOR_PROFICIENCY":e=(0,u.setIn)(e,["session","priorProficiency"],t.priorProficiency);break;case"SHOW_HINT":{const n=e.challengeStates[e.currentIndex].hintsShown;e=(0,u.setIn)(e,["challengeStates",e.currentIndex,"hintsShown"],void 0===n?[t.token]:[...n,t.token]);break}case"SPEECH_RECOGNIZER_FAILED":e=(0,u.setIn)(e,["challengeStates",e.currentIndex,"recognizerFailed"],!0);break;case"START_SESSION":{const{startTime:n}=t,{challengeStates:o,currentIndex:i,session:{challenges:r}}=e,s=r[i];e=(0,u.merge)(e,{session:{startTime:n},status:(0,C.ct)(s,o[i])},{deep:!0});break}case"SUBMITTED_SESSION":e=(0,N.FL)(e,["session"],t.responseSession);break;case"TOGGLE_IN_LESSON_TIP":return(0,u.merge)(e,{inLessonTipShowing:t.shouldShow,numInLessonTipOpens:e.numInLessonTipOpens+(t.shouldShow?1:0)});case"UPDATE_GRADED_CHALLENGE":{e.status!==C.cS.Grading||(0,C.l$)(e.session.type)||e.session.type===T.FF.Checkpoint||(e=t.challenge.type===T.Sm.Speak&&(null!==(i=null===(o=t.challenge.gradingResult)||void 0===o?void 0:o.numRetriesLeft)&&void 0!==i?i:0)>0?(0,u.set)(e,"status",C.cS.SpeakRetryBlaming):(0,u.set)(e,"status",C.cS.Blaming)),e=(0,N.FL)(e,["session","challenges",e.currentIndex],t.challenge);const n=null===(r=t.challenge.gradingResult)||void 0===r?void 0:r.correct,s=t.challenge.skipped,a=()=>{s||(n?(e=(0,u.setIn)(e,["coachDuo","currentCorrectStreak"],e.coachDuo.currentCorrectStreak+1),e=(0,u.setIn)(e,["coachDuo","currentIncorrectStreak"],0)):(e=(0,u.setIn)(e,["coachDuo","currentCorrectStreak"],0),e=(0,u.setIn)(e,["coachDuo","currentIncorrectStreak"],e.coachDuo.currentIncorrectStreak+1)))};if(e.useHearts&&!n&&(e=(0,u.setIn)(e,["session","heartsLeft"],e.session.heartsLeft-1)),e.session.type===T.FF.PlacementTest||e.session.type===T.FF.CheckpointTest||e.status===C.cS.SpeakRetryBlaming)a();else if(e.session.type!==T.FF.Checkpoint&&!(0,C.LJ)(e.session.type)){const t=e.session.challenges[e.currentIndex],o=e.challengeStates[e.currentIndex],[i,r]=(0,C.Dk)(e);if(void 0===i||void 0===r)throw Error("Could not find current challenge in challengeIdSections; this is a bug.");if(!n&&!o.hasBrokenTts){const n=e.challengeIdSections[i].length,{challengeIndex:o}=(0,C.L1)(e,(({sectionChallengeIndex:e,sectionIndex:t})=>t===i&&e===n-1));if(void 0===o)throw Error("This should never happen.");const r=(0,u.asMutable)(e.session.challenges,{deep:!0});r.splice(o+1,0,d.CE((0,N.Xh)(t),"gradingResult","skipped")),e=(0,u.setIn)(e,["session","challenges"],r);const s=(0,u.asMutable)(e.challengeIdSections,{deep:!0});s[i].push(t.id),e=(0,u.set)(e,"challengeIdSections",s)}const l=e.challengeIdSections.length,c=e.challengeIdSections[i].length,p=i+(r===c-1?1:0);let m=e.strength;const g=(i+1)/l-m,h=c-r,_=s&&n?0:(n?1:-.5)*g/h;m=Math.max(p/l,e.strength+_),m>.97&&(m=1),e=(0,u.set)(e,"strength",m),a();const v=s?0:1;e=(0,u.set)(e,"currentInLessonStreak",n?e.currentInLessonStreak+v:0),e=(0,u.set)(e,"maxInLessonStreak",Math.max(e.currentInLessonStreak,e.maxInLessonStreak))}break}}return e},profile:(e=(0,u.from)({}),t)=>{var n;switch(t.type){case"RESET_PROFILE":e={};break;case"LOAD_ACHIEVEMENTS":{const{v2:n,v3:o}=t.achievements;e=(0,u.set)(e,"achievements",{v2:(0,p.GC)(n),v3:(0,p.H2)(o)});break}case"LOAD_PROFILE_USER":e=(0,u.set)(e,"user",t.user);break;case"LOAD_PROFILE_XP":e=(0,u.set)(e,"xpEvents",t.summaries);break;case"LOAD_PROFILE_FOLLOWERS":e=(0,u.set)(e,"followers",t.followersData);break;case"LOAD_PROFILE_FOLLOWING":e=(0,u.set)(e,"following",t.followingData);break;case"LOAD_SOCIAL_PROFILE":e=(0,u.set)(e,"socialProfile",t.socialProfile);break;case"UPDATE_USER":try{if((0,R.Jb)()===(null===(n=e.user)||void 0===n?void 0:n.id)){const n=(0,u.merge)(e.user,t.user,{deep:!0});e=(0,u.set)(e,"user",n)}}catch(e){}}return e},referralStats:(e=(0,u.from)({inviteBannerDismissals:0,inviteBannerLastShown:0,lessonsCompleted:0}),t)=>{switch(t.type){case"DISMISS_PERSISTENT_NOTIFICATION":"INVITE_FRIENDS"===t.notificationType&&(e=(0,u.set)(e,"inviteBannerDismissals",e.inviteBannerDismissals+1),e=(0,u.set)(e,"inviteBannerLastShown",t.timestamp));break;case"INCREMENT_LESSONS_COMPLETED_COUNT":e=(0,u.set)(e,"lessonsCompleted",e.lessonsCompleted+1);break;case"RESET_INVITE_BANNER_DISMISSALS":e=(0,u.set)(e,"inviteBannerDismissals",0),e=(0,u.set)(e,"inviteBannerLastShown",t.timestamp)}return e},sessionEnd:(e=(0,u.from)({slides:[]}),t)=>{var n,o,i;const r=e.slides.length-1;switch(t.type){case"sessionEnd/CTA_CLICK":r>-1&&(e=(0,u.setIn)(e,["slides",r,"action"],"cta"));break;case"sessionEnd/DISMISSED":r>-1&&(e=(0,u.setIn)(e,["slides",r,"action"],null!==(n=e.slides[r].action)&&void 0!==n?n:"dismiss"));break;case"sessionEnd/READY":e.nativeAd&&(e=(0,u.setIn)(e,["nativeAd","status"],"can-track")),e.nativeAd&&(e=(0,u.set)(e,"nativeAd",A(e.nativeAd,t.timestamp))),r>-1&&(e=(0,u.setIn)(e,["slides",r,"status"],"can-track"),e=(0,u.setIn)(e,["slides",r],A(e.slides[r],t.timestamp)));break;case"sessionEnd/RESET":e=(0,u.set)(e,"nativeAd",void 0),e=(0,u.set)(e,"slides",[]);break;case"sessionEnd/SLIDE_HIDDEN":"native-ad"===t.slide&&e.nativeAd&&(e=(0,u.set)(e,"nativeAd",A(e.nativeAd,t.timestamp)));break;case"sessionEnd/SLIDE_SHOWN":"native-ad"===t.slide?e=(0,u.set)(e,"nativeAd",{slide:"native-ad",status:"pending",time:[...null!==(i=null===(o=e.nativeAd)||void 0===o?void 0:o.time)&&void 0!==i?i:[],[t.timestamp]]}):(r>-1&&(e=(0,u.setIn)(e,["slides",r,"status"],"can-track"),e=(0,u.setIn)(e,["slides",r],A(e.slides[r],t.timestamp))),e=(0,u.set)(e,"slides",[...e.slides,{slide:t.slide,status:"pending",time:[[t.timestamp]]}]));break;case"sessionEnd/TRACKED":e.nativeAd&&t.slides.includes("native-ad")&&(e=(0,u.setIn)(e,["nativeAd","status"],"tracked")),e.slides.forEach(((n,o)=>{t.slides.includes(n.slide)&&(e=(0,u.setIn)(e,["slides",o,"status"],"tracked"))}))}return e},skills:(e=(0,u.from)({}),t)=>{switch(t.type){case"PURCHASE_ITEM":"SUCCESS"===t.status&&t.bonusSkillId&&(e=(0,N.$f)(e,[t.bonusSkillId],{accessible:!0,finishedLessons:0}));break;case"UPDATE_SKILL":{const n=t.skill;n.urlName=encodeURIComponent(n.urlName),e=(0,N.FL)(e,[n.id],n);break}case"UPDATE_USER":{const{currentCourse:n}=t.user;if(n){const{fromLanguage:t,learningLanguage:o,skills:i}=n,r=i;e=d.Ry(r.map(((e,n)=>e.map((e=>[e.id,Object.assign(Object.assign({accessible:!1,decayed:!1,finishedLessons:0,finishedLevels:0,indicatingNewContent:!1,levels:0,strength:0},e),{fromLanguage:t,learningLanguage:o,row:n,urlName:encodeURIComponent(e.urlName)})])))).flat())}break}}return e},stories:(e=(0,u.from)(B),t)=>{var n,o,i,r,s,a,l,c,p,m,g,h,_,v,f,y,E,b,S,w,T,I,k,R,C,O,N,P,L,A,H,G,V,Z,W,z,Y,$,K,q,J,X,Q,ee,te,ne;switch(t.type){case"stories/SET_STORY_LISTING":return(0,u.merge)(e,{fromLanguage:t.fromLanguage,learningLanguage:t.learningLanguage,storyListing:t.storyListing});case"stories/UNLOAD_STORY":return e.audio&&"PLAY"===e.audio.playState&&(e=(0,u.merge)(e,{audio:(0,x.EU)({playState:"PAUSE"})(e.audio)})),e.storyElements&&(0,x.FG)(e.storyElements),(0,u.merge)(e,{audioPrefetchState:void 0,pendingAudio:void 0,showMasterScripts:t.showMasterVersions,storyAudioLoadState:"UNDEFINED",storyElements:void 0,storyId:void 0,storyListing:{sets:[]},storyRevision:void 0,storySession:void 0,trackingProperties:void 0});case"stories/SELECT_STORY":return(0,u.merge)(e,{masterVersion:t.masterVersion,storyId:t.storyId,storySession:void 0});case"stories/SET_STORY":return(0,u.merge)(e,{audioPrefetchState:t.audioPrefetchState,cefrLevel:t.cefrLevel,conversationModeListenCharacterIds:t.conversationModeListenCharacterIds,conversationModeSpeakCharacterIds:t.conversationModeSpeakCharacterIds,conversationModeSpeakLineIds:t.conversationModeSpeakLineIds,fallbackElements:t.fallbackElements,fromLanguage:t.storyFromLanguage,illustrations:t.illustrations,learningLanguage:t.storyLanguage,listenModeCharacterIds:t.listenModeCharacterIds,loadTime:t.startTime,mode:t.mode,multiPartInfo:t.multiPartInfo,showPromptsInTargetLanguage:t.showPromptsInTargetLanguage,speakingDisabledLineIndex:t.speakingDisabledLineIndex,storyAudioLoadState:"LOADING",storyElements:t.storyElements,storyFromLanguageName:t.fromLanguageName,storyId:t.storyId,storyListing:void 0,storyRevision:t.storyRevision,storySession:void 0,trackingConstants:t.trackingConstants,trackingProperties:t.trackingProperties});case"stories/AUDIO_FOR_ELEMENT_PREFETCHED":return e.audioPrefetchState?(0,u.merge)(e,{audioPrefetchState:(0,u.merge)(e.audioPrefetchState,{[t.elementIndex]:!0})}):e;case"stories/UPDATE_STORY_AUDIO_FILE_LOAD_STATE":return(e=(0,u.merge)(e,{storyAudioLoadState:t.state})).pendingAudio&&(e=(0,u.merge)(e,{audio:e.pendingAudio,pendingAudio:void 0})),e;case"stories/START_STORY":{const r={elementIndex:(0,D.HD)(e),textIndex:0},s={completed:!1,furthestPosition:r,grammarCorrectionRequestStatus:"not-done",hintPosition:void 0,hintsUsed:[],maxScore:0,onboardingStep:void 0,score:0,selectedPosition:r,speakCount:0,startTime:null!==(n=e.loadTime)&&void 0!==n?n:Date.now(),status:"in-progress",storyCompleteRequestStatus:"ok",timeline:[{time:t.time/1e3,type:"line-start"}]},a=null===(o=(e=(0,u.merge)(e,{storySession:s})).storyElements)||void 0===o?void 0:o[r.elementIndex],l=a&&(0,D.z_)(a);if(void 0===l)throw Error("Unexpected type for first element");const c=null!==(i=l.audioPrefix)&&void 0!==i?i:l.audio,d=(0,x.EU)({audioSyncModel:c,playState:"PLAY"})(e.audio),p="LOAD_SUCCESS"===e.storyAudioLoadState;return(0,u.merge)(e,{audio:p?d:e.audio,pendingAudio:p?void 0:d})}case"stories/AUTO_ADVANCE_STORY_POSITION":{const n=e.storySession,o=e.storyElements,i=null==o?void 0:o[t.position.elementIndex];if("HINT_ONBOARDING"===(null==i?void 0:i.type)&&0===(null==n?void 0:n.hintsUsed.length)&&(e=(0,u.merge)(e,{storySession:(0,u.merge)(n,{onboardingStep:"newUser"===i.onboardingType?"tap-translation-hint":void 0})})),(!(null==n?void 0:n.selectedPosition)||t.position.elementIndex>n.selectedPosition.elementIndex)&&i&&(0,D.P3)(i)){if(void 0===e.fromLanguage||void 0===e.learningLanguage)throw Error("From- or learning language cannot be undefined during story.");const n=(0,M.FE)(i,t.position.elementIndex,null!==(s=null===(r=e.storySession)||void 0===r?void 0:r.hintsUsed)&&void 0!==s?s:[],t.showLengthReducedMatchChallenge,e.fromLanguage,e.learningLanguage);e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:n})}),n&&(e=(0,M.t9)(e,n))}return(0,F.DG)(e,t.position)}case"stories/AUDIO_STOPPED":return(0,u.merge)(e,{audio:Object.assign(Object.assign({},e.audio),{playState:"PAUSE"})});case"stories/SHOW_TRANSCRIPT_HINT":{const n=null===(a=e.storyElements)||void 0===a?void 0:a[t.position.elementIndex];return(0,j.j)("LINE"===(null==n?void 0:n.type)?"stories_story_translation_hint":"stories_challenge_translation_hint",Object.assign(Object.assign(Object.assign({},e.trackingProperties),null==n?void 0:n.trackingProperties),{phrase:t.hint})),(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{hintPosition:t.position,hintShownTime:t.time,hintText:t.hint,hintsUsed:[...null!==(c=null===(l=e.storySession)||void 0===l?void 0:l.hintsUsed)&&void 0!==c?c:[],{phrase:t.text,translation:t.hint}]})})}case"stories/DISMISS_HINT":{const n=e.storySession,o=200;return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{hintPosition:void 0,hintText:void 0,hintsUsed:(null==n?void 0:n.hintShownTime)&&t.time-n.hintShownTime<o?n.hintsUsed.slice(n.hintsUsed.length-1):null==n?void 0:n.hintsUsed})})}case"stories/REPLAY_LINE_AUDIO":{const n=e.storySession,o=e.storyElements,i=o&&o[(0,F.lo)(o,t.elementIndex,!0)];if(!i||!["LINE","HEADER","FREEFORM_WRITING_EXAMPLE_RESPONSE","FREEFORM_WRITING"].includes(i.type))throw Error("Tried to replay an element of type other than line, header, or example response");if(!(null==n?void 0:n.furthestPosition)||!o)throw Error("No story session found when replaying audio");let r=1;t.elementIndex===(null==n?void 0:n.previousReplayElementIndex)&&(r=.6);const s=(()=>{var r,s;switch(i.type){case"LINE":return i.line.content.audioPrefix&&o&&(0,F.O$)(o,(null==n?void 0:n.furthestPosition.elementIndex)||0)===t.elementIndex+1&&!(null===(s=null===(r=e.storySession)||void 0===r?void 0:r.challengeSession)||void 0===s?void 0:s.completed)?i.line.content.audioPrefix:i.line.content.audio;case"HEADER":return i.learningLanguageTitleContent.audio;case"FREEFORM_WRITING_EXAMPLE_RESPONSE":return(0,D.Au)(i);case"FREEFORM_WRITING":if(!n.freeformChallengeSubmittedResponseTtsUrl||!n.freeformChallengeSubmittedResponseWithHints)throw Error("No TTS or hints for user's response!");return(0,D.Au)({content:n.freeformChallengeSubmittedResponseWithHints,ttsURL:n.freeformChallengeSubmittedResponseTtsUrl})}throw Error(`No audio for "${i.type}" element`)})();return(0,j.j)("stories_audio_replay",Object.assign(Object.assign(Object.assign({},e.trackingProperties),i.trackingProperties),{first_replay:t.elementIndex!==n.previousReplayElementIndex,furthest_line:(0,F.D5)(n.furthestPosition.elementIndex,o)})),(0,u.merge)(e,{audio:(0,x.EU)({audioSyncModel:s,playState:"PLAY",speed:r})(e.audio),storySession:(0,u.merge)(n,{previousReplayElementIndex:t.elementIndex,selectedPosition:{elementIndex:t.elementIndex,textIndex:void 0}})})}case"stories/ADVANCE_STORY_POSITION":{e=(0,u.merge)(e,{audio:(0,u.merge)(e.audio,{playError:!1})}),e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{hintPosition:void 0})});const n=(e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{timeline:[...null!==(m=null===(p=e.storySession)||void 0===p?void 0:p.timeline)&&void 0!==m?m:[],{time:t.time/1e3,type:"line-start"}]})})).storyElements;if(!n)throw Error("No story element list found");const o=null===(g=e.storySession)||void 0===g?void 0:g.furthestPosition.elementIndex,i=t.position.elementIndex,r=n[i],s=n[(0,F.lo)(n,i,void 0!==(null===(h=e.storySession)||void 0===h?void 0:h.freeformChallengeSubmittedResponseTtsUrl))];(!o||i>o)&&(e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:void 0})}));const a="LINE"===r.type&&e.storyElements&&"CONVERSATION"===e.mode&&-1===e.speakingDisabledLineIndex&&"SPEAK"===(0,U.gu)({conversationModeSpeakCharacterIds:null!==(_=e.conversationModeSpeakCharacterIds)&&void 0!==_?_:[],conversationModeSpeakLineIds:null!==(v=e.conversationModeSpeakLineIds)&&void 0!==v?v:[],line:r.line,lineIndex:(0,D.IG)(r),listenModeCharacterIds:[],mode:e.mode,nextElement:n[i+1]});if(r&&(0,D.P3)(r)||a){if(void 0===e.fromLanguage||void 0===e.learningLanguage)throw Error("From- or learning language cannot be undefined during story.");const n=(0,M.FE)(r,i,null!==(y=null===(f=e.storySession)||void 0===f?void 0:f.hintsUsed)&&void 0!==y?y:[],t.showLengthReducedMatchChallenge,e.fromLanguage,e.learningLanguage);e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:n})}),n&&(e=(0,M.t9)(e,n))}const l="LINE"===(null==r?void 0:r.type)?t.position:Object.assign(Object.assign({},t.position),{textIndex:"LINE"===(null==s?void 0:s.type)?s.line.content.text.length-1:0});e=(0,F.DG)(e,l);const c=n[l.elementIndex],d=(0,D.z_)(c);if(d){const n=null!==(E=d.audioPrefix)&&void 0!==E?E:d.audio;e=(0,u.set)(e,"audio",(0,x.EU)({audioSyncModel:n,playState:"PLAY",seekTo:(0,F.SU)(n,null!==(b=l.textIndex)&&void 0!==b?b:0),speed:t.playbackRate})(e.audio))}return e}case"stories/SELECT_MULTIPLE_CHOICE":{let n;if(!e.storySession)throw Error("No story session found");const o=e.storySession.furthestPosition,i=e.storySession.challengeSession;if("multiple-choice"!==(null==i?void 0:i.type))throw Error("Unexpected challenge type");const r=(0,u.set)(e.storySession,"challengeSession",(i=>{var r;const s=[...i.selectedIndices,t.index],a=s.includes(i.correctAnswerIndex),l=null===(r=e.storyElements)||void 0===r?void 0:r[o.elementIndex-1];a&&"LINE"===(null==l?void 0:l.type)&&l.line.content.audioSuffix&&(n=(0,x.EU)({audioSyncModel:l.line.content.audioSuffix,playState:"PLAY"}));const c={mistakeCount:t.index===i.correctAnswerIndex?i.mistakeCount:i.mistakeCount+1,selectedIndices:s};return(0,u.merge)(i,c)})(i));e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,r)}),n&&(e=(0,u.set)(e,"audio",n(e.audio))),t.index===i.correctAnswerIndex&&(e=(0,M.I)(e));const s=null===(S=e.storySession)||void 0===S?void 0:S.challengeSession;return(0,j.j)("stories_select_multiple_choice",Object.assign(Object.assign(Object.assign({},e.trackingProperties),i.trackingProperties),{select_method:t.selectMethod,success:!!s&&0===s.mistakeCount})),e}case"stories/SELECT_PHRASE":{if("select-phrases"!==(null===(T=null===(w=e.storySession)||void 0===w?void 0:w.challengeSession)||void 0===T?void 0:T.type))throw Error("Unexpected type");const n=null===(I=e.storySession)||void 0===I?void 0:I.challengeSession,o=t.optionIndex===n.correctAnswerIndex?0:1;e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(e.storySession.challengeSession,{mistakeCount:e.storySession.challengeSession.mistakeCount+o,selectedIndices:[...e.storySession.challengeSession.selectedIndices,t.optionIndex]})})}),t.optionIndex===n.correctAnswerIndex&&(e=(0,M.I)(e));const i=null===(k=e.storySession)||void 0===k?void 0:k.challengeSession;return(0,j.j)("stories_select_multiple_choice",Object.assign(Object.assign(Object.assign({},e.trackingProperties),n.trackingProperties),{select_method:t.selectMethod,success:!!i&&0===i.mistakeCount})),e}case"stories/SELECT_MATCH_TOKEN":{if("match"!==(null===(C=null===(R=e.storySession)||void 0===R?void 0:R.challengeSession)||void 0===C?void 0:C.type))throw Error("Challenge type is incorrect. It should be 'match'.");const n=e.storySession.challengeSession,o=d.cx(n.tokens,{status:"selected"}),i=n.tokens[o],r=n.tokens[t.index];if(t.index===o)e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{tokens:n.tokens.map(((e,n)=>n===t.index?(0,u.set)(e,"status","initial"):e))})})});else if(i&&i.language!==r.language){const s=n.dictionary[`from:${i.text}`],a=r.text===s?"correct":"incorrect",l=n.tokens.map(((e,n)=>n===t.index||n===o?(0,u.set)(e,"status",a):e)),c="correct"===a&&l.every((e=>"correct"===e.status));e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{mistakeCount:n.mistakeCount+("incorrect"===a?1:0),tokens:l})})}),c&&(e=(0,M.I)(e))}else e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{tokens:n.tokens.map(((e,n)=>n===t.index?(0,u.set)(e,"status","selected"):n===o||"incorrect"===e.status?(0,u.set)(e,"status","initial"):e))})})});return e}case"stories/SELECT_ARRANGE_PHRASE":{const n=null===(O=e.storySession)||void 0===O?void 0:O.challengeSession;if("arrange"!==(null==n?void 0:n.type))throw Error("Unexpected type");const o=null===(N=e.storySession)||void 0===N?void 0:N.furthestPosition,i=o?null===(P=e.storyElements)||void 0===P?void 0:P[o.elementIndex]:void 0;if("ARRANGE"!==(null==i?void 0:i.type))throw Error("Unexpected challenge type");if(i.selectablePhrases[t.index]===i.selectablePhrases[i.phraseOrder[n.arrangedPhrases]]){const o=[...n.phraseOrder];t.index!==i.phraseOrder[n.arrangedPhrases]&&(o[n.arrangedPhrases]=t.index,o[o.indexOf(t.index)]=i.phraseOrder[n.arrangedPhrases]);const r=n.arrangedPhrases+1;return e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{arrangedPhrases:r,phraseOrder:o,selectedIncorrectIndices:[]})})}),r>=i.selectablePhrases.length&&(e=(0,M.I)(e)),e}return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{mistakeCount:n.selectedIncorrectIndices.includes(t.index)?n.mistakeCount:n.mistakeCount+1,selectedIncorrectIndices:[...n.selectedIncorrectIndices.filter((e=>e!==t.index)),t.index]})})})}case"stories/SET_STORY_COMPLETE_REQUEST_STATUS":return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{storyCompleteRequestStatus:t.status})});case"stories/SET_GRAMMAR_CORRECTION_REQUEST_STATUS":return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{grammarCorrectionRequestStatus:t.status,grammarCorrectionTimeTaken:t.timeTaken})});case"stories/COMPLETE_STORY":return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:void 0,nextMode:(0,u.from)(t.nextMode),onboardingStep:void 0,pendingStoryEndSections:(0,u.from)(t.storyEndSections),status:"story-end",storyCompleteRequestStatus:"ok",visibleStoryEndSections:(0,u.from)([])})});case"stories/SHOW_NEXT_STORY_END_SECTION":{if(!e.storySession||!e.storySession.furthestPosition)return e;if((0,F.DG)(e,e.storySession.furthestPosition),!e.storySession.pendingStoryEndSections||0===e.storySession.pendingStoryEndSections.length)return e;const t=e.storySession.pendingStoryEndSections[0],n=e.storySession.pendingStoryEndSections.slice(1);return(0,j.j)("stories_show_end_section",{end_section_position:null!==(A=null===(L=e.storySession.visibleStoryEndSections)||void 0===L?void 0:L.length)&&void 0!==A?A:0,end_section_type:t.type,total_end_sections:(null!==(G=null===(H=e.storySession.visibleStoryEndSections)||void 0===H?void 0:H.length)&&void 0!==G?G:0)+e.storySession.pendingStoryEndSections.length}),(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{pendingStoryEndSections:n,status:0===n.length?"completed":"story-end",visibleStoryEndSections:[...null!==(V=e.storySession.visibleStoryEndSections)&&void 0!==V?V:[],t]})})}case"stories/SET_EDITING_TEXT":return(null===(Z=e.storySession)||void 0===Z?void 0:Z.challengeSession)?(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(e.storySession.challengeSession,{answer:t.text})})}):e;case"stories/SET_CORRECTED_TEXT":return"freeform-writing"!==(null===(z=null===(W=e.storySession)||void 0===W?void 0:W.challengeSession)||void 0===z?void 0:z.type)?e:(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(e.storySession.challengeSession,{answer:t.correctedText,fetchedCorrection:t.correctedText}),freeformChallengeCorrectedResponse:t.correctedText,freeformChallengeCorrectionModel:t.model,freeformChallengeCorrectionModelVersion:t.modelVersion,freeformChallengeOriginalResponse:t.originalText})});case"stories/RE_EDIT_TEXT":return(null===(Y=e.storySession)||void 0===Y?void 0:Y.challengeSession)?(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(e.storySession.challengeSession,{allowEditAfterGrammarCheck:!0})})}):e;case"stories/DISMISS_CORRECTION":{const n=null===($=e.storySession)||void 0===$?void 0:$.challengeSession;return"freeform-writing"!==(null==n?void 0:n.type)?e:(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{answer:t.text,numberOfCorrectionsDismissed:n.numberOfCorrectionsDismissed+1})})})}case"stories/START_CHALLENGE":{const n=null===(K=e.storySession)||void 0===K?void 0:K.challengeSession;return n&&"freeform-writing"===n.type?(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{startTime:t.startTime})})}):e}case"stories/DID_SCROLL_DURING_FREEFORM_CHALLENGE":{const t=null===(q=e.storySession)||void 0===q?void 0:q.challengeSession;return t&&"freeform-writing"===t.type?(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(t,{didScroll:!0})})}):e}case"stories/TYPE_TEXT_SUBMIT":return(0,M.vX)(e,t.gradingResult);case"stories/FREEFORM_WRITING_SUBMIT":{const n=(0,M.Om)(e);return(0,u.merge)(n,{storySession:(0,u.merge)(n.storySession,{freeformChallengeSubmittedResponseWithHints:t.responseWithHints,responseTtsStatus:"done"})})}case"stories/ONBOARDING_HINT_VIEWED":return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{onboardingStep:void 0})});case"stories/ANSWER_POINT_TO_PHRASE":{const n=null===(J=e.storySession)||void 0===J?void 0:J.challengeSession;if("point-to-phrase"!==(null==n?void 0:n.type))throw Error("Unexpected type");const o=n.correctAnswerIndex;return e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{mistakeCount:n.mistakeCount+(t.partIndex===n.correctAnswerIndex?0:1),selectedIndices:d.G0(n.selectedIndices,[t.partIndex])})})}),t.partIndex===o&&(e=(0,M.I)(e)),e}case"stories/SET_AUDIO_ERROR":return(0,u.setIn)(e,["audio","playError"],!0);case"stories/SET_LINE_AUDIO_DURATION":return(0,u.setIn)(e,["audio","duration"],t.duration);case"stories/SKIP_CHALLENGE":{const t=null===(X=e.storySession)||void 0===X?void 0:X.challengeSession;if("freeform-writing"!==(null==t?void 0:t.type))throw Error("Attempted to skip unskippable challenge");return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(t,{skipped:!0})})})}case"stories/SET_HOOTS_USER_PROPERTIES":return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{freeformUserProperties:t.properties})});case"stories/FREEFORM_WRITING_SET_TTS_URL":if("freeform-writing"!==(null===(ee=null===(Q=e.storySession)||void 0===Q?void 0:Q.challengeSession)||void 0===ee?void 0:ee.type))throw Error("Unexpected challenge type");return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{freeformChallengeSubmittedResponseTtsUrl:t.url})});case"stories/FREEFORM_WRITING_PREPARE_SUBMIT":return(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{responseTtsStatus:"in-progress"})});case"stories/USED_KEYBOARD_FOR_MATCH_CHALLENGE":return(0,u.setIn)(e,["storySession","usedKeyboardForMatchChallenge"],!0);case"stories/GRADE_SPEAK_LINE":{const n=null===(te=e.storySession)||void 0===te?void 0:te.challengeSession;if("speak"!==(null==n?void 0:n.type))throw Error(`Unexpected speak challenge on ${null==n?void 0:n.type}`);return e=(0,u.merge)(e,{storySession:(0,u.merge)(e.storySession,{challengeSession:(0,u.merge)(n,{mistakeCount:t.correct||t.skipped?0:1,skipped:t.skipped})})}),(0,M.I)(e)}case"DISABLE_SPEAK":{if(void 0===e.storySession)return e;const t=e.storyElements,n=null===(ne=e.storySession)||void 0===ne?void 0:ne.furthestPosition.elementIndex,o=t&&n?t[n]:void 0;if("LINE"!==(null==o?void 0:o.type))throw Error(`Unexpected switch to fall back ${null==o?void 0:o.type}`);const i=e.fallbackElements;if(!i)throw Error("No fallback elements");if(!t)throw Error("No elements");const r=(0,D.IG)(o),s=(0,D.BT)(r,t),a=t.slice(0,s),l=(0,D.BT)(r,i),c=[...a,...i.slice(l,i.length)];return(0,u.merge)(e,{speakingDisabledLineIndex:r,storyElements:c})}}return e},storiesPersisted:(e=(0,u.from)(H),t)=>{var n;switch(t.type){case"stories/HAS_SEEN_UNLOCKED_STORIES_SLIDE":e.unlockedStories&&(e=(0,u.setIn)(e,["unlockedStories","hasSeenStoriesUnlockSlide"],!0));break;case"stories/SET_UNLOCKED_STORIES":e=(0,u.set)(e,"unlockedStories",t.unlockedStories);break;case"stories/SET_UNVISITED_STORIES":if(e.unvisitedStories){let o=(0,D.Bs)(e.unvisitedStories);t.isNewlyPublishedUpdate&&t.unvisitedStories&&(o=(0,D.gG)(o,t.unvisitedStories.map((e=>e.storyId)))),e=(0,u.set)(e,"unvisitedStories",o.concat(null!==(n=t.unvisitedStories)&&void 0!==n?n:[]))}else e=(0,u.set)(e,"unvisitedStories",t.unvisitedStories);break;case"stories/SET_MOST_RECENTLY_UNLOCKED_STORY":e=(0,u.set)(e,"mostRecentlyUnlockedStory",t.mostRecentlyUnlockedStory);break;case"stories/SET_NEWLY_PUBLISHED_UPDATE":e=(0,u.set)(e,"newlyPublishedUpdate",t.newlyPublishedUpdate);break;case"stories/SEEN_NEWLY_PUBLISHED_STORIES":e.newlyPublishedUpdate&&(e=(0,u.set)(e,"newlyPublishedUpdate",Object.assign(Object.assign({},e.newlyPublishedUpdate),{showRedDot:!1})));break;case"stories/REMOVE_UNVISITED_STORY":if(void 0!==e.unvisitedStories&&void 0!==t.visitedStoryId){const n=(0,D.Bs)(e.unvisitedStories).filter((e=>e.storyId!==t.visitedStoryId));e=(0,u.set)(e,"unvisitedStories",n)}break;case"stories/SET_CONFIG":return(0,u.merge)(e,{config:t.config});case"stories/SET_CAROUSEL":return(0,u.merge)(e,{carousel:t.carousel})}return e},student:(e=(0,u.from)({assignments:[],classrooms:[]}),t)=>{var n;switch(t.type){case"JOIN_CLASSROOM":if(-1!==e.classrooms.findIndex((e=>e.classroom_id===t.classroom.classroom_id)))break;e=(0,u.set)(e,"classrooms",[...e.classrooms,t.classroom]);break;case"LEAVE_CLASSROOM":(null===(n=(e=(0,u.set)(e,"classrooms",e.classrooms.filter((e=>e.classroom_id!==t.classroomId)))).classroomContest)||void 0===n?void 0:n.classroom_id)===t.classroomId&&(e=(0,u.set)(e,"classroomContest",void 0));break;case"UPDATE_ASSIGNMENTS":e=(0,u.set)(e,"assignments",t.assignments),e=(0,u.set)(e,"nextSkill",t.nextSkill);break;case"UPDATE_CLASSROOMS":e=(0,u.set)(e,"classrooms",t.classrooms);break;case"UPDATE_CLASSROOM_CONTEST":e=(0,u.set)(e,"classroomContest",t.classroomContest)}return e},subscriptions:(e=(0,u.from)({}),t)=>{switch(t.type){case"SET_SUBSCRIPTIONS":e=(0,u.from)(t.subscriptions);break;case"ADD_SUBSCRIPTION":e=(0,u.set)(e,`${t.followedUser.id}`,t.followedUser);break;case"REMOVE_SUBSCRIPTION":{const n=d.XP(e).filter((e=>e!==`${t.userId}`)).map((t=>e[t]));e=(0,u.from)(d.HK(n,"id"));break}}return e},ui:(e=V,t)=>{var n,o;switch(t.type){case"CAN_SHOW_HOME_NOTIFICATION":e=(0,u.set)(e,"canShowHomeNotification",null===(n=t.notificationType)||void 0===n||n);break;case"CAPTURE_SCROLL":e=(0,u.set)(e,"capturedScrollY",t.y);break;case"COME_ONLINE":e=(0,u.set)(e,"online",!0);break;case"CREATE_PERSISTENT_NOTIFICATION":switch(t.notificationType){case"MARKETING_OPT_IN":e=(0,u.setIn)(e,["persistentNotifications","marketingOptIn"],!0);break;case"SCHOOLS_JOINED_CLASSROOM":e=(0,u.setIn)(e,["persistentNotifications","schoolsJoinedClassroom"],{observerName:t.observerName});break;case"PERFORMANCE_BASED_TEST_OUT":e=(0,u.setIn)(e,["persistentNotifications","performanceBasedTestOut"],{skillId:t.skillId});break;case"PLUS_BADGE":e=(0,u.setIn)(e,["persistentNotifications","plusBadge"],!0);break;case"PLUS_BADGE_FAMILY":e=(0,u.setIn)(e,["persistentNotifications","plusBadgeFamily"],!0);break;case"PROGRESS_QUIZ_WIDGET":e=(0,u.setIn)(e,["persistentNotifications","progressQuizWidget"],{scheduleTime:t.timestamp})}break;case"DIMMED_OVERLAY_CLOSED":e=(0,u.set)(e,"isDimmedOverlayOpen",!1);break;case"DIMMED_OVERLAY_OPENED":e=(0,u.set)(e,"isDimmedOverlayOpen",!0);break;case"DISABLE_PERSISTENT_NOTIFICATION":case"DISMISS_PERSISTENT_NOTIFICATION":{"DISMISS_PERSISTENT_NOTIFICATION"===t.type&&(0,G.m4)(t.notificationType)&&("DOGFOODING"!==t.notificationType&&"DOGFOODING_PREVIEW"!==t.notificationType&&(e=(0,u.set)(e,"canShowHomeNotification",!1)),e=(0,u.set)(e,"homeNotification",void 0));const n={DOGFOODING:"dogfooding",DOGFOODING_PREVIEW:"dogfoodingPreview",IMMERSIVE_PLUS_PROMO:"immersivePlusPromo",INVITE_FRIENDS:"inviteFriends",MARKETING_OPT_IN:"marketingOptIn",PERFORMANCE_BASED_TEST_OUT:"performanceBasedTestOut",PLUS_BADGE:"plusBadge",PLUS_BADGE_FAMILY:"plusBadgeFamily",PLUS_EARNED:"plusEarned",PROGRESS_QUIZ_WIDGET:"progressQuizWidget",REQUEST_NOTIFICATION_PERMISSION:"requestNotificationPermission",RESURRECTION_BANNER:"resurrectionBanner",STREAK_FREEZE_RECURRING_OFFER:"streakFreezeRecurringOffer",WEB_TO_APP_CONVERSION:"webToAppConversion",WEB_TO_APP_CONVERSION_AGGRESSIVE:"webToAppConversionAggressive",WELCOME_BACK_BANNER:"welcomeBackBanner"}[t.notificationType];n&&(e=(0,u.setIn)(e,["persistentNotifications",n],void 0));break}case"DISMISS_STICKY_APP_BANNER":e=(0,u.set)(e,"isAppBannerDismissed",!0);break;case"GO_OFFLINE":e=(0,u.set)(e,"online",!1);break;case"LOGOUT":e=(0,u.set)(e,"isLoggingOut",!0);break;case"MODAL_CLOSED":e=(0,u.set)(e,"isModalReallyOpen",!1);break;case"MODAL_MOUNTED":e=(0,u.set)(e,"availableModals",[...e.availableModals,t.name]);break;case"MODAL_OPENED":e=(0,u.set)(e,"isModalReallyOpen",!0);break;case"MODAL_UNMOUNTED":(null===(o=(e=(0,u.set)(e,"availableModals",e.availableModals.filter((e=>e!==t.name)))).modal)||void 0===o?void 0:o.name)===t.name&&(e=(0,u.set)(e,"modal",void 0),e=(0,u.set)(e,"modalIsUhmManaged",!1),e=(0,u.set)(e,"isModalReallyOpen",!1));break;case"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION":{const n={IMMERSIVE_PLUS_PROMO:"immersivePlusPromo",INVITE_FRIENDS:"inviteFriends",PLUS_EARNED:"plusEarned",RESURRECTION_BANNER:"resurrectionBanner",STREAK_FREEZE_RECURRING_OFFER:"streakFreezeRecurringOffer",WEB_TO_APP_CONVERSION:"webToAppConversion",WEB_TO_APP_CONVERSION_AGGRESSIVE:"webToAppConversionAggressive",WELCOME_BACK_BANNER:"welcomeBackBanner"};e=(0,u.setIn)(e,["persistentNotifications",n[t.notificationType]],!0);break}case"PURCHASE_ITEM":switch(t.status){case"FAIL":case"SUCCESS":e=(0,u.set)(e,"purchasingItem",!1);break;case"START":e=(0,u.set)(e,"purchasingItem",!0)}break;case"RELEASE_SCROLL":e=(0,u.set)(e,"capturedScrollY",void 0);break;case"RESIZE_WINDOW":e=(0,u.merge)(e,{viewportHeight:t.height,viewportWidth:t.width});break;case"SET_HOME_NOTIFICATION":e=(0,u.set)(e,"homeNotification",t.notificationType);break;case"SET_POPOVER":e=(0,u.merge)(e,{popoverId:t.id});break;case"SET_HOME_PAGE_POPOVER":e=(0,u.merge)(e,{homePagePopoverId:void 0!==t.id&&void 0!==t.section?`${t.section}/${t.id}`:void 0});break;case"SUBMITTED_SESSION":e=(0,u.setIn)(e,["persistentNotifications","resurrectionBanner"],void 0),e=(0,u.setIn)(e,["persistentNotifications","welcomeBackBanner"],void 0);break;case"TOGGLE_DRAWER":t.options?(e=(0,u.merge)(e,{drawer:t.options,drawerIsUhmManaged:!0===t.isUhmManaged}),t.keepFullscreenModal||(e=(0,u.merge)(e,{modal:void 0,modalIsUhmManaged:!1}))):e=(0,u.merge)(e,{drawer:void 0,drawerIsUhmManaged:!1});break;case"TOGGLE_MODAL":if(t.options){if(!e.availableModals.includes(t.options.name))break;if(!1===t.replaceExisting&&e.modal)break;e=(0,u.merge)(e,{drawer:void 0,drawerIsUhmManaged:!1,modal:t.options,modalIsUhmManaged:!0===t.isUhmManaged,modalShouldWaitForOverlay:!e.isDimmedOverlayOpen})}else e=(0,u.merge)(e,{modal:void 0,modalIsUhmManaged:!1});break;case"TOGGLE_REQUEST_NOTIFICATION_PERMISSION":e=(0,u.set)(e,"isRequestingNotificationPermission",t.isVisible);break;case"SCROLL_TO_STORIES_CAROUSEL":e=(0,u.set)(e,"scrollToStoriesCarousel",t.shouldScroll);break;case"SET_SHOP_ITEMS":e=(0,u.set)(e,"isShopItemsFresh",!0);break;case"UPDATE_B2B_PRICING_DATA":e=(0,u.set)(e,"b2bPricingData",t.b2bPricingData);break;case"UPDATE_USER":e=(0,u.set)(e,"isUserModelFresh",!0)}return e},uiPersisted:(e=(0,u.from)({homeBannerShown:{count:0,notificationType:void 0},persistentNotifications:{streakFreezeRecurringOffer:{shows:0},webToAppConversion:{shows:0}},plusBannerShown:{count:0},reportedProfileUserIds:[],sessionEndPlusAdShown:{count:0},typeToSelect:{initializedAt:Date.now()}}),t)=>{var n,o,i,r,s,a,l;switch(t.type){case"DISMISS_PERSISTENT_NOTIFICATION":e=(0,u.set)(e,"homeBannerShown",{count:0,notificationType:void 0});break;case"PERSISTENT_NOTIFICATION_SHOWN":t.isHomeBanner&&(e=(0,u.setIn)(e,["homeBannerShown","count"],e.homeBannerShown.count+1)),"WEB_TO_APP_CONVERSION"!==t.notificationType&&"WEB_TO_APP_CONVERSION_AGGRESSIVE"!==t.notificationType||(e=(0,u.setIn)(e,["persistentNotifications","webToAppConversion","lastShown"],t.timestamp),e=(0,u.updateIn)(e,["persistentNotifications","webToAppConversion","shows"],(e=>e+1))),"STREAK_FREEZE_RECURRING_OFFER"===t.notificationType&&(e=(0,u.setIn)(e,["persistentNotifications","streakFreezeRecurringOffer","lastShown"],t.timestamp),e=(0,u.updateIn)(e,["persistentNotifications","streakFreezeRecurringOffer","shows"],(e=>e+1)));break;case"PURCHASE_ITEM":"SUCCESS"===t.status&&"streak_freeze"===t.item.itemName&&(e=(0,u.setIn)(e,["persistentNotifications","streakFreezeRecurringOffer"],{shows:0}));break;case"UPDATE_USER":void 0!==(null===(n=t.user)||void 0===n?void 0:n.streak)&&t.user.streak<3&&(e=(0,u.setIn)(e,["persistentNotifications","streakFreezeRecurringOffer"],{shows:0}));break;case"TOGGLE_DRAWER":"TYPE_TO_SELECT"===(null===(o=t.options)||void 0===o?void 0:o.name)&&(e=(0,u.setIn)(e,["typeToSelect","calloutShown"],!0));break;case"USED_TYPE_TO_SELECT_TOKEN":e=(0,u.setIn)(e,["typeToSelect","used"],!0);break;case"SET_HOME_NOTIFICATION":t.notificationType!==e.homeBannerShown.notificationType&&(e=(0,u.set)(e,"homeBannerShown",{count:0,notificationType:t.notificationType}));break;case"PLUS_BANNER_SHOWN":e=(0,u.set)(e,"plusBannerShown",{count:(null!==(r=null===(i=e.plusBannerShown)||void 0===i?void 0:i.count)&&void 0!==r?r:0)+1,lastShown:t.timestamp});break;case"SAVE_REPORTED_PROFILE_USER_ID":{const n=null!==(s=e.reportedProfileUserIds)&&void 0!==s?s:[];e=(0,u.set)(e,"reportedProfileUserIds",[t.profileUserId,...n.slice(0,32)]);break}case"SESSION_END_PLUS_AD_SHOWN":e=(0,u.set)(e,"sessionEndPlusAdShown",{count:(null!==(l=null===(a=e.sessionEndPlusAdShown)||void 0===a?void 0:a.count)&&void 0!==l?l:0)+1,lastShown:t.timestamp})}return e},user:(e=(0,u.from)({coachRecords:{},explanationsSeen:{},recentlySeenSmartTips:{},sessionsCompleted:0}),t)=>{var n,o,i,r;switch(t.type){case"MARK_NOTIFICATIONS_READ":e=(0,u.set)(e,"webNotificationIds",[]);break;case"DISABLE_PERSISTENT_NOTIFICATION":case"DISMISS_PERSISTENT_NOTIFICATION":if((0,G.Qp)(t.notificationType))e=(0,u.set)(e,"persistentNotifications",d.zu(e.persistentNotifications,t.notificationType));else{switch(t.notificationType){case"STREAK_REPAIR_OFFER":e=(0,u.set)(e,"streakRepairOffer",void 0);break;case"STREAK_REPAIRED":e=(0,u.set)(e,"streakRepairedNotification",void 0)}if("DISMISS_PERSISTENT_NOTIFICATION"===t.type)switch(t.notificationType){case"IMMERSIVE_PLUS_PROMO":e=(0,u.set)(e,"plusExpirationDate",void 0);break;case"PLUS_EARNED":e=(0,u.set)(e,"plusEarnedBannerLastClosed",t.timestamp);break;case"RESURRECTION_BANNER":e=(0,u.set)(e,"resurrectionBannerLastClosed",t.timestamp/1e3);break;case"WELCOME_BACK_BANNER":e=(0,u.set)(e,"welcomeBackBannerLastClosed",t.timestamp/1e3)}}break;case"ACTIVATE_PLUS":e=(0,u.set)(e,"plusExpirationDate",t.plusExpirationDate);break;case"ADD_PLUS_DISCOUNT":e=(0,u.setIn)(e,["plusDiscounts"],[W(t.apiDiscount),...e.plusDiscounts]);break;case"EXPLANATION_SHOWN":e=(0,u.setIn)(e,["explanationsSeen",t.explanationSkillId],t.timestamp);break;case"PURCHASE_ITEM":if("SUCCESS"!==t.status)break;e=(0,u.set)(e,"lingots",e.lingots-t.item.purchasePrice*(null!==(n=t.purchaseQuantity)&&void 0!==n?n:1));break;case"UPDATE_EXPERIMENT_RECORD":e=(0,u.setIn)(e,["experiments",t.name,"treated"],!0),t.contexts&&(e=(0,u.setIn)(e,["experiments",t.name,"contexts"],t.contexts));break;case"SUBMITTED_SESSION":e=(0,u.set)(e,"lastSessionFinished",t.timestamp/1e3),e=(0,u.set)(e,"sessionsCompleted",e.sessionsCompleted+1);break;case"CREATE_STREAK_REPAIRED_NOTIFICATION":e=(0,u.setIn)(e,["streakRepairedNotification"],{expirationTime:(0,f.mm)(),length:t.length});break;case"UPDATE_USER_LINGOTS":e=(0,u.setIn)(e,["lingots"],e.lingots+t.lingots);break;case"CONSUME_DAILY_GOAL_REWARD":{const t=(0,u.asMutable)(e.rewardBundles).map((e=>"DAILY_GOAL_DOUBLE"===e.rewardBundleType?(0,u.updateIn)(e,["rewards",0,"consumed"],(()=>!0)):e));e=(0,u.set)(e,"rewardBundles",t);break}case"COACH_DUO_SHOWN":{const n=t.model.showReason,i=null===(o=e.coachRecords)||void 0===o?void 0:o[n],r=void 0===i?0:(0,f.zk)(i.lastShown)?i.timesShownToday:0,s={lastShown:t.timestamp/1e3,timesShownToday:r+1};e=(0,u.setIn)(e,["coachRecords",n],s);break}case"RESET_COACH":e=(0,u.set)(e,"coachRecords",{});break;case"SET_MISTAKE_COUNT":(void 0===e.mistakeCountInfo||void 0===t.mistakeCountInfo||t.mistakeCountInfo.expirationTime>e.mistakeCountInfo.expirationTime)&&(e=(0,u.set)(e,"mistakeCountInfo",t.mistakeCountInfo));break;case"SET_NY_PROMO_DRAWER_NEXT_SHOW":e=(0,u.set)(e,"newYearsDrawerNextShowTimestamp",t.timestamp);break;case"SET_SMART_TIP_TO_SHOW":{const n=Object.assign({},e.recentlySeenSmartTips);d.XP(n).forEach((e=>{n[e]<t.timestamp&&delete n[e]})),e=(0,u.set)(e,"recentlySeenSmartTips",n);const o=t.smartTipResource,r=(0,Z.r8)(o),s=t.timestamp+(null!==(i=o.policy.minimumTimeBetweenShows)&&void 0!==i?i:Z.U);e=(0,u.setIn)(e,["recentlySeenSmartTips",r],s);break}case"SET_SHOULD_TRACK_SEE_SKILL_TREE":e=(0,u.set)(e,"shouldTrackSeeSkillTree",!0);break;case"RESET_SHOULD_TRACK_SEE_SKILL_TREE":e=(0,u.set)(e,"shouldTrackSeeSkillTree",void 0);break;case"UPDATE_USER":{const n=t.user,{currentCourse:o,courses:i,plusDiscounts:s}=n,a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(n,["currentCourse","courses","plusDiscounts"]),l=(0,N.Xh)(a);i&&(l.courses=i.map((e=>e.id))),o&&(l.currentCourseId=o.id),s&&(l.plusDiscounts=s.map((e=>W(e)))),(null===(r=l.lastStreak)||void 0===r?void 0:r.isAvailableForRepair)&&!(null==e?void 0:e.streakRepairOffer)?l.streakRepairOffer={expirationTime:(0,f.HR)(172800),length:l.lastStreak.length}:l.lastStreak&&!l.lastStreak.isAvailableForRepair&&(l.streakRepairOffer=void 0),e=(0,u.merge)(e,l,{deep:!0}),l.adsConfig&&(e=(0,u.setIn)(e,["adsConfig"],l.adsConfig));break}}return e}});var K=n(88868);const q=({location:e})=>(s.useEffect((()=>{var t,n,o,i;(null==e?void 0:e.pathname)!==K.Oy&&(t=void 0,n=void 0,i=function*(){yield(0,j.j)("page_not_found",{}),yield(0,K.Zs)(K.Oy,!0)},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}l((i=i.apply(t,n||[])).next())})))}),[]),null);var J=n(3583),X=n(79129),Q=n(33389),ee=n(60042),te=n.n(ee);const ne={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",overlay:"_1QS4w","overlay-visible":"_1sKsx _1QS4w",svg:"_1Qm1A"},oe=({additionalClassName:e,className:t,cx:n,cy:o,height:i,isVisible:r,r:a,style:l,width:c})=>{const[u]=s.useState(d.ZP.uniqueId("controls/Spotlight"));return s.createElement("svg",{className:te()(ne.svg,t,e),height:i,style:l,width:c},s.createElement("defs",null,s.createElement("clipPath",{clipRule:"evenodd",id:`clip-${u}`},s.createElement("path",{d:`M 0 0 h ${c} v ${i} h ${-c} z\n              M ${n-a}, ${o}\n              a ${a},${a} 0 1,1 ${2*a},0\n              a ${a},${a} 0 1,1 ${-2*a},0`}))),s.createElement("rect",{className:ne["overlay"+(r?"-visible":"")],clipPath:`url(#clip-${u})`,height:"100%",width:"100%"}))},ie=({animateOnMount:e,className:t,cx:n,cy:o,height:i,isVisible:r,r:a,width:l})=>s.createElement(Q.Z,{animateOnMount:e,isVisible:r},s.createElement(oe,{additionalClassName:t,cx:n,cy:o,height:i,isVisible:r,r:a,width:l}));var re=n(59815),se=n(11908);class ae extends s.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){return n=this,o=void 0,r=function*(){if(console.warn("RedirectingErrorBoundary caught an error"),!(0,re.Wp)(e)){const n=(0,z.vU)(e,{data:Object.assign(Object.assign({},t),{isFromRedirectingErrorBoundary:!0})});yield(0,j.j)("app_crash",{crash_message:e.message,crash_type:e.name,rollbar_uuid:null==n?void 0:n.uuid})}(0,re.Wp)(e)||((0,se.cl)(se.Qt.State),(0,K.Zs)("/learn",!0))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((r=r.apply(n,o||[])).next())}));var n,o,i,r}render(){return this.state.hasError?null:this.props.children}}const le=ae;var ce=n(51900),ue=n(42659),de=n(83936),pe=n(60610);const me=()=>{const e=(0,c.k6)(),t=(0,c.TH)(),n=(0,pe.Fx)(de.T),o=(0,pe.Fx)((e=>e.ui.homePagePopoverId)),i=(0,pe.Fx)(ue.WN),r=s.useRef();return s.useLayoutEffect((()=>{if(t.pathname!==r.current){const r="/learn"===t.pathname&&(n||o||i),s="POP"===e.action;r||s||window.scrollTo(0,0)}r.current=t.pathname})),null};var ge=n(89454),he=n(50498),_e=n(80388),ve=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};var fe=n(44451);let ye=Date.now();const Ee=3e5,be=["mousedown","keydown","touchstart"];var Se=n(50791),we=n(26174),Te=n(94144),Ie=n(86233);class ke extends s.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){if(!(0,re.Wp)(e)){const n=(0,z.vU)(e,{data:t});(0,j.j)("app_crash",{crash_message:e.message,crash_type:e.name,rollbar_uuid:null==n?void 0:n.uuid})}}render(){return this.state.hasError?null:s.createElement(s.Suspense,{fallback:null},this.props.children)}}const Re=ke;var Ce=n(41461),Oe=n(23630),Ne=n(83063),Pe=n(24654),Le=n(99021),Ae=n(28886),De=n(79848),xe=n(47725),Me=n(87539),Ue=n(13456);const Fe={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","button-inner":"_2SZSG",form:"_3MuAI",h2:"_1U6wL",header:"_1qJTn",icon:"_3gpzB","link-ellipsis":"_2soN_",list:"_2uH3b","modal-container":"CbS80",scroll:"_2DWsm",small:"_1BJfc"};var je=n(95332),Be=n(35160),He=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Ge="None apply",Ve=({onDismiss:e})=>{const t=(0,pe.Fx)(ue.np),n=(0,pe.CC)(),[o,i]=s.useState(""),[r,a]=s.useState(),[l,c]=s.useState(),[u,d]=s.useState(""),[p]=s.useState((()=>(({player:e,player:{session:t,sessionParams:n},user:o})=>{var i,r,s;const a=Oe.getParser(navigator.userAgent);let l="";try{l=null!==(i=Ce.Hr(!0))&&void 0!==i?i:""}catch(e){}const c=null==t?void 0:t.challenges[e.currentIndex],u=[["Session id",null==t?void 0:t.id],["Session type",null==n?void 0:n.type.toLowerCase()],["Skill tree id",null==t?void 0:t.trackingProperties.skill_tree_id],["Level number",null==n?void 0:n.levelIndex],["Lesson number",null==n?void 0:n.levelSessionIndex],["Skill name",null==t?void 0:t.trackingProperties.skill_name],["Skill id",null==t?void 0:t.trackingProperties.skill_id],["Challenge generator id",null===(r=null==c?void 0:c.challengeGeneratorIdentifier)||void 0===r?void 0:r.generatorId],["Challenge type",c?je.SJ[c.type]:void 0],["Challenge generator specific type",null===(s=null==c?void 0:c.challengeGeneratorIdentifier)||void 0===s?void 0:s.specificType],["Challenge prompt text",c?(0,je.r1)(c).join(" "):void 0],["User input text",void 0]].filter((([,e])=>void 0!==e));return`-------------------\nApp information:\n\nApp version: ${window.duo.version}\nApp version number: ${window.duo.versionNumber}\nBrowser: ${a.getBrowserName()} ${a.getBrowserVersion()}\nOS: ${a.getOSName()} ${a.getOSVersion()}\nPlatform: ${a.getPlatformType()}\nScreen: ${screen.width}x${screen.height}, DPR ${devicePixelRatio}\nLanguages: ${o.learningLanguage}<-${o.fromLanguage}\nUsername: ${o.username}\nCourse: ${o.currentCourseId}\n\n-------------------\nSession information:\n\nFullStory session: ${l||"unavailable"}\nURL: ${window.location.href}\n${u.map((([e,t])=>`${e}: ${t}`)).join("\n")}\n\n-------------------\nReported with shake-to-report`})(n.getState()))),[m,g]=s.useState(),[h,_]=s.useState([]),[f,y]=s.useState(),[E,b]=s.useState("report"),[S,w]=s.useState(!1),[T,I]=s.useState(),[k,R]=s.useState(""),C=(0,pe.PX)(void 0,(()=>"features"===E?ge.PA.getSuggestedFeatures({description:o.trim(),generated_description:p,summary:k.trim()}):Promise.resolve(void 0)),[o,p,E,k]),O=s.useMemo((()=>C?[...C.other_features].sort():void 0),[C]),N=C?[...C.suggested_features,Ge]:void 0,P=(0,pe.PX)(void 0,(()=>ge.PA.getSlackReportTypes()),[]),L=void 0!==C,A=null!=l?l:T,D=S||"features"===E&&!L,[x,M,U]="report"===E||"features"===E&&!L?[s.createElement("div",{className:Fe.header,key:"header"},s.createElement("h2",{className:Fe.h2},"Internal bug report")),s.createElement(s.Fragment,null,s.createElement(Le.Z,{disabled:D,onChange:e=>R(e.target.value),placeholder:"Short description",required:!0,type:"text",value:k}),s.createElement(Ae.Z,{disabled:D,onChange:e=>i(e.target.value),placeholder:"What went wrong in more detail?",value:o}),s.createElement(De.Z,{disabled:D,onChange:e=>y(null==P?void 0:P.find((t=>t.name===e.target.value))),options:[{text:"Choose Slack (optional)",value:""},...null!==(F=null==P?void 0:P.map((e=>({text:e.name,value:e.name}))))&&void 0!==F?F:[]],value:null!==(B=null==f?void 0:f.name)&&void 0!==B?B:""}),s.createElement("span",{className:Fe.small},"If your report belongs in #visual-polish, #feedback-language, #feedback-tts, or #feedback-product on Slack, choose one.")),s.createElement(Ne.Z,{color:void 0===f||f.alsoPostsToJira?void 0:"owl",disabled:!k.trim(),key:"footer",submitting:D,type:"submit",variant:void 0===f||f.alsoPostsToJira?"stroke":"solid"},void 0===f||f.alsoPostsToJira?"Next":"Post to Slack")]:"features"===E?[s.createElement("div",{className:Fe.header,key:"header"},s.createElement(Ne.Z,{disabled:D,onClick:()=>b("report")},s.createElement("img",{className:Fe.icon,src:Ue})),s.createElement("h2",{className:Fe.h2},"Choose a feature")),s.createElement(s.Fragment,null,void 0!==N&&N.length>1?s.createElement(s.Fragment,null,s.createElement("strong",null,"Recommended features"),s.createElement(Pe.Z,{className:Fe.list,items:N.map((e=>({text:e}))),onChange:e=>I(e.selectedIndices.length?N[e.selectedIndices[0]]:void 0),selectedIndices:void 0!==T&&N.includes(T)?[N.indexOf(T)]:[]})):null,void 0===O||1!==(null==N?void 0:N.length)&&T!==Ge?null:s.createElement(s.Fragment,null,s.createElement("strong",null,"Select a feature"),s.createElement(Pe.Z,{className:Fe.list,items:O.map((e=>({text:e}))),onChange:e=>c(e.selectedIndices.length?O[e.selectedIndices[0]]:void 0),onQueryChange:e=>d(e.value),query:u,selectedIndices:void 0!==A&&O.includes(A)?[O.indexOf(A)]:[],showSearch:!0}))),s.createElement(Ne.Z,{color:"owl",disabled:!A||A===Ge,key:"footer",submitting:D,type:"submit",variant:"solid"},"Create Jira ticket")]:"duplicates"===E||"submitted"===E?(()=>{var e,t;return[s.createElement("div",{className:Fe.header,key:"header"},s.createElement("h2",{className:Fe.h2},"duplicates"===E?"Possible duplicates":"Thank you")),s.createElement(s.Fragment,null,s.createElement("strong",null,"Thanks for your feedback!"),(null==r?void 0:r.length)?s.createElement(s.Fragment,null,s.createElement("span",null,"We’ve identified potential duplicate reports."),s.createElement("span",null,"Please help us improve our duplicate detection system by taking a few moments to mark any of the following reports that might be duplicates of your issue.")):null,s.createElement(xe.Z,{className:te()((0,Ne.y)({variant:"stroke"}),Fe.button),href:null!==(t=null!==(e=null==m?void 0:m.jiraUrl)&&void 0!==e?e:null==m?void 0:m.slackUrl)&&void 0!==t?t:"",target:"_blank"},s.createElement("span",{className:Fe["button-inner"]},(null==m?void 0:m.issueKey)?`Your Jira ticket: ${m.issueKey}`:`View in ${null==m?void 0:m.slackChannel}`)),(null==r?void 0:r.length)?s.createElement(Pe.Z,{className:Fe.list,items:r.map((e=>({text:`${e.issue_key}: ${e.header_text}`,textEl:s.createElement(xe.Z,{className:Fe["link-ellipsis"],href:`https://duolingo.atlassian.net/browse/${encodeURIComponent(e.issue_key)}`,onClick:e=>e.stopPropagation(),target:"_blank"},e.issue_key,": ",e.header_text)}))),multiple:!0,onChange:e=>_(e.selectedIndices),selectedIndices:h}):null),s.createElement(Ne.Z,{color:"owl",key:"footer",type:"submit",variant:"solid"},"Done")]})():[];var F,B;return s.createElement(s.Fragment,null,x,s.createElement("form",{className:Fe.form,noValidate:!0,onSubmit:n=>He(void 0,void 0,void 0,(function*(){if(n.preventDefault(),!n.target.checkValidity())return;switch(E){case"duplicates":return r&&h.length&&ge.PA.fullyConnectDuplicates(h.map(((e,t)=>r[t].issue_key))),void e();case"features":break;case"report":if(void 0===f||(null==f?void 0:f.alsoPostsToJira))return void b("features");break;case"submitted":return void e();default:return}const i=[],s=(0,z.c2)();s.length&&i.push(["telemetry",new File([JSON.stringify(s,null,2)],"telemetry.json",{type:"application/json"})]),w(!0);try{const e=yield ge.PA.reportIssue({description:o.trim(),feature:A,generatedDescription:p,preRelease:(0,v.oj)(),project:"DLAW",reporterEmail:t.email,slackReportType:null==f?void 0:f.name,summary:k.trim()},i);g(e);const n=yield He(void 0,void 0,void 0,(function*(){if(e.issueKey)try{return yield ge.PA.detectDuplicates(e.issueKey)}catch(e){}return[]}));n.length?(a(n),b("duplicates")):b("submitted"),(0,j.j)("shake_to_report_feedback",{feature:A,number_suggested_features:N?N.length-1:0,report_type:"internal",selected_suggested_feature:void 0!==T&&T!==Ge,slack_channel:null==f?void 0:f.name})}finally{w(!1)}}))},s.createElement("div",{className:Fe.scroll},M),U))},Ze=()=>s.createElement(Me.Z,{className:Fe["modal-container"],modalName:Be.tl.ShakeToReport},(e=>s.createElement(Ve,Object.assign({},e))));var We=n(43670),ze=n(29531),Ye=n(44629),$e=n(52761);const Ke="_2mhcq",qe="_1zf34";var Je=n(88528),Xe=n(30033),Qe=n(13840);const et=({[Xe.m5]:e,autoComplete:t,disabled:n,error:o,focusField:i=!1,inner:r,label:a,onBlur:l,onChange:c,onResetError:u,placeholder:d,suggestedUsernames:p,tooltip:m,type:g,value:h})=>{const _=(0,pe.Fx)(ue.$4),v=s.useRef(null),[f,y]=s.useState(!1),E=s.useCallback((({placement:e})=>[0,"bottom"!==e||_?parseFloat(Je.Z["margin-popover"]):-6]),[_]),b=(0,ze.f)({modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}},{name:"offset",options:{offset:E}}],placement:Qe.lw?"left":"right"}),S=(0,ze.f)();return s.useLayoutEffect((()=>{var e;i&&(null===(e=v.current)||void 0===e||e.focus())}),[]),s.createElement("div",{className:"_2a3s4"},s.createElement("label",{className:"_2S_JP"},a?s.createElement("div",{className:"_2agB9 _2rjZr"},a):null,s.createElement("div",{className:"_2rjZr",ref:b.setElementRef},s.createElement("input",Object.assign({},(0,Xe._q)(e),{autoComplete:t,autoFocus:i,className:te()("_3MNft",j.qE),disabled:n,onBlur:l,onChange:e=>c(e.target.value),placeholder:d,ref:v,type:g,value:h}))),r?s.createElement("div",{className:Ke},r):null),m?s.createElement(Ye.Z,{className:Ke,isOpen:f,onClose:()=>y(!1),onOpen:()=>y(!0),onToggle:()=>y(!f),popoverState:S.props.state},s.createElement("div",{className:"_2Aobv",ref:S.setElementRef},"?"),f?s.createElement($e.Z,{className:qe,innerClassName:"XYk_i",onRequestClose:()=>y(!1),popperProps:S.props,ref:S.setPopoverRef,stemContainerRef:S.setArrowRef,zIndex:parseInt(Je.Z["z-index-popover"],10)+1},m):null):null,o?s.createElement($e.Z,{className:qe,innerClassName:"_31fY5",popperProps:b.props,ref:b.setPopoverRef,stemContainerRef:b.setArrowRef,zIndex:parseInt(Je.Z["z-index-popover"],10)},p?s.createElement("div",{className:"_2qX0a"},s.createElement("div",{className:"_1vVSc"},o),s.createElement("div",{className:"_3MrO1"},(0,Qe._i)(22391)),s.createElement("div",{className:"_3FY0X"},p.map((e=>s.createElement("button",{className:"_3tqFH",key:e,onClick:()=>{c(e),null==u||u()},type:"button"},e))))):o):null)};var tt=n(36843),nt=n(67173);const ot=({children:e})=>e?s.createElement("div",Object.assign({},(0,Xe._q)(nt.V.InvalidFormField),{className:tt.Z["invalid-form-field"]}),e):null,it=({children:e})=>{const t=s.Children.toArray(e).filter((e=>!!e)).map(((e,t)=>s.createElement(ot,{key:t},e)));return t.length?s.createElement("div",{className:tt.Z["invalid-form-fields"]},t):null};var rt=n(14649);const st={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","modal-wrapper":"_3gyBG","right-controls":"_3Kwrp","left-controls":"_1M8vB",modal:"_2z95t",table:"_3jeu0","link-container":"_8oBzi","link-container-stacked":"_2Jpfm _8oBzi","account-icon":"_3zB0T",button:"_2oW4v","close-button":"_2P5sI _2kfEr _1nlVc _2fOC9 UCrz7 t5wFJ",forgot:"_2np70 _3yAjN",header:"_2xBMb",title:"_2GC65","signin-error-message":"fJChu","last-login-name":"_2-N6b","blue-link":"_3WxKE _2__FI _2RTMn _3yAjN","blue-link-body":"_24PjM _2__FI _2RTMn _3yAjN","created-with-social-title":"_3SARz _2GC65","created-with-social-body":"_5vH8Z",google:"xijNL _1-mWU",facebook:"_3U3Uo _3kyUU","require-google-button":"_1_jR6 _1-mWU",footer:"_29viM","terms-and-privacy":"_29ZQh","no-account":"_1hKmP","no-account-link":"oRujQ",hr:"_7pBya","hr-bar":"_2_JcM","hr-text":"_36kWA _3yAjN","google-sign-in-up-header":"zKlGX","google-sign-in-up-title":"_2i91r","google-sign-in-up-subtitle":"_2IFvx"};var at=n(44536),lt=n(70326),ct=n(41679),ut=n(8649),dt=n(67574),pt=n(53229),mt=n(71371),gt=n(6986),ht=n(66195),_t=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},vt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const ft=({dispatch:e,errors:t,focusPasswordField:n=!1,identifier:o,onIdentifierChange:i,onPasswordChange:r,password:a,showEmailField:l,submitting:c,via:u})=>s.createElement("div",{className:st.table},l?s.createElement(et,Object.assign({autoComplete:"email",disabled:!!c,error:t.identifier,onChange:i,placeholder:(0,Qe.H8)(14299),type:"text",value:o},(0,Xe._q)(nt.V.EmailInput))):null,s.createElement(et,Object.assign({autoComplete:"current-password",disabled:!!c,error:t.password,focusField:n,inner:s.createElement(xe.Z,Object.assign({className:st.forgot},(0,Xe._q)(nt.V.ForgotPassword),{href:"/forgot_password",onClick:()=>{(0,j.j)("sign_in_tap",{target:"forgot_password",via:u}),e({options:void 0,type:"TOGGLE_MODAL"})}}),(0,Qe._i)(18857)),onChange:r,placeholder:(0,Qe.H8)(18716),type:"password",value:a},(0,Xe._q)(nt.V.PasswordInput)))),yt=({age:e,ageRestricted:t,isUGCDisabled:n,email:o,errors:i,name:r,onAgeBlur:a,onAgeChange:l,onEmailChange:c,onNameChange:u,onPasswordChange:d,onResetError:p,onUsernameBlur:m,onUsernameChange:g,password:h,submitting:_,username:v})=>s.createElement("div",{className:st.table},s.createElement(et,Object.assign({disabled:!!_,error:i.age,onBlur:a,onChange:l,placeholder:(0,Qe.H8)(15038),tooltip:(0,Qe._i)(19089),type:"text",value:e},(0,Xe._q)(nt.V.AgeInput))),n?null:t?s.createElement(et,Object.assign({autoComplete:"username",disabled:!!_,error:i.username,onBlur:m,onChange:g,onResetError:p,placeholder:(0,Qe.H8)(17475),suggestedUsernames:i.suggestedUsernames,type:"text",value:v},(0,Xe._q)(nt.V.UsernameInput))):s.createElement(et,Object.assign({autoComplete:"name",disabled:!!_,error:i.name,onChange:u,placeholder:(0,Qe.H8)(6101),type:"text",value:r},(0,Xe._q)(nt.V.FullNameInput))),s.createElement(et,Object.assign({autoComplete:"email",disabled:!!_,error:i.email,onChange:c,placeholder:t?(0,Qe.H8)(24103):(0,Qe.H8)(2928),type:"email",value:o},(0,Xe._q)(nt.V.EmailInput))),s.createElement(et,Object.assign({autoComplete:"new-password",disabled:!!_,error:i.password,onChange:d,placeholder:(0,Qe.H8)(18716),type:"password",value:h},(0,Xe._q)(nt.V.PasswordInput)))),Et=({onClick:e,platform:t,submitting:n})=>s.createElement(Ne.Z,{className:st[t],disabled:!1!==n&&n!==t,onClick:e,submitting:n===t,type:"button",unstyledDisabled:!0,variant:"stroke"},s.createElement("img",{className:st["account-icon"],src:`https://d35aaqx5ub95lt.cloudfront.net/images/${"facebook"===t?"facebook-blue":"google-color"}.svg`}),(0,Qe._i)("facebook"===t?17511:11701)),bt=e=>{var{errors:t,header:n,lastLoginType:o,name:i="",onFacebookClick:r,onGoogleClick:a,onUseAnotherAccount:l,picture:c=ht.tU,registerButton:u,signInErrors:d,submitting:p,title:m,via:g}=e,h=vt(e,["errors","header","lastLoginType","name","onFacebookClick","onGoogleClick","onUseAnotherAccount","picture","registerButton","signInErrors","submitting","title","via"]);return s.createElement("div",null,s.createElement("div",null,n?s.createElement("div",{className:st.header},n):null,s.createElement("h1",{className:st.title},m),s.createElement(We.Z,{size:"medium",user:{id:0,name:i,picture:c}}),s.createElement("div",{className:st["last-login-name"]},i),s.createElement("div",Object.assign({},(0,Xe._q)(nt.V.UseAnotherAccount),{className:st["blue-link"],onClick:l}),s.createElement("span",null,(0,Qe._i)(2745)))),"email"===o?s.createElement("div",null,s.createElement(ft,Object.assign({errors:d?{}:t,showEmailField:!1,submitting:p,via:g},h)),d,u):"social"===o?s.createElement("p",{className:st["link-container-stacked"]},s.createElement(Et,{onClick:r,platform:"facebook",submitting:p}),s.createElement(Et,{onClick:a,platform:"google",submitting:p})):null)},St=({isSignIn:e,onGoogleClick:t,renderHeader:n,renderSubtitle:o,renderTitle:i,submitting:r})=>{var a;return s.createElement("div",null,s.createElement("div",{className:st["google-sign-in-up-header"]},void 0===n?null:s.createElement("div",{className:st["google-sign-in-up-header"]},n(e)),s.createElement("h1",{className:st["google-sign-in-up-title"]},null!==(a=null==i?void 0:i(e))&&void 0!==a?a:(0,Qe._i)(9109)),o?s.createElement("p",{className:st["google-sign-in-up-subtitle"]},o(e)):null),s.createElement(Ne.Z,{className:st["require-google-button"],onClick:t,submitting:"google"===r,type:"button",variant:"stroke"},s.createElement("img",{className:at.Z["account-icon"],src:"https://d35aaqx5ub95lt.cloudfront.net/images/google-color.svg"}),s.createElement("span",{className:at.Z["account-text"]},(0,Qe._i)(1327))))},wt=({name:e,picture:t,platform:n,onFacebookClick:o,onGoogleClick:i,onUseAnotherAccount:r,submitting:a})=>s.createElement("div",null,s.createElement("div",null,s.createElement("h1",{className:st["created-with-social-title"]},(0,Qe._i)("facebook"===n?23083:693)),s.createElement(We.Z,{size:"large",user:{id:0,name:e,picture:t}}),s.createElement("div",{className:st["last-login-name"]},e)),s.createElement("div",{className:st["created-with-social-body"]},s.createElement(Ne.Z,{className:at.Z[n],onClick:"facebook"===n?o:i,submitting:a===n,type:"button",variant:"solid"},s.createElement("img",{className:at.Z["account-icon"],src:`https://d35aaqx5ub95lt.cloudfront.net/images/${n}-white.svg`}),s.createElement("span",{className:at.Z["account-text"]},(0,Qe._i)("facebook"===n?15620:1327))),s.createElement("div",{className:st["blue-link-body"],onClick:r},s.createElement("span",null,(0,Qe._i)(2745))))),Tt=e=>{var t,{errors:n,isFamilyPlan:o,isSignIn:i,onFacebookClick:r,onGoogleClick:a,renderHeader:l,renderTitle:c,registerButton:u,signInErrors:d,submitting:p}=e,m=vt(e,["errors","isFamilyPlan","isSignIn","onFacebookClick","onGoogleClick","renderHeader","renderTitle","registerButton","signInErrors","submitting"]);return s.createElement("div",null,void 0===l?null:s.createElement("div",{className:st.header},l(i)),s.createElement("h1",{className:st.title},null!==(t=null==c?void 0:c(i))&&void 0!==t?t:i?(0,Qe._i)(3830):(0,Qe._i)(14145)),i?s.createElement(ft,Object.assign({errors:d?{}:n,submitting:p},m)):s.createElement(yt,Object.assign({errors:n,submitting:p},m)),d,u,s.createElement("div",{className:st.hr},s.createElement("div",{className:st["hr-bar"]}),s.createElement("div",{className:st["hr-text"]},(0,Qe._i)(18747)),s.createElement("div",{className:st["hr-bar"]})),s.createElement("p",{className:st["link-container"]},s.createElement(Et,{onClick:r,platform:"facebook",submitting:p}),s.createElement(Et,{onClick:a,platform:"google",submitting:p})))};class It extends s.Component{constructor(){super(...arguments),this.state={ageRestricted:!1,alternateView:null,errors:{},fields:{age:"",email:"",identifier:"",name:"",password:"",username:""},isUsernameVerified:!1,loginAttempts:{count:0,emailSent:!1,lastEmailUsed:"",showEmailSentNotification:!1},submitting:!1,useImprovedErrorMessages:!1},this.memoizeUsernameValidate=d.HP(lt.rV),this.mounted=!1,this.emailSignup=e=>_t(this,void 0,void 0,(function*(){const{dispatch:t,modalOptions:{allowLanguagelessUser:n}}=this.props,{ageRestricted:o}=this.state,i={};if(e.email.trim()||(i.email=(0,Qe.H8)(11696)),e.password.trim()||(i.password=(0,Qe.H8)(5030)),e.age.trim()||(i.age=(0,Qe.H8)(15012)),!d.xb(i))return Promise.reject(new lt.Wj(!1,i));const r=Object.assign(Object.assign({},e),{age:e.age,name:o?null:e.name,username:o?e.username:null});if((0,R.Pc)())try{yield t((0,Te.DZ)(r,!1)),this.trackSuccessfulSignUp()}catch(e){this.handleSignUpFail(e)}else{n||(0,z.Kp)("Forced to create languageless user account despite being asked not to.");try{yield(0,lt.$C)(r),yield t((0,Te.eY)()),this.trackSuccessfulSignUp()}catch(e){this.handleSignUpFail(e)}}})),this.trackSuccessfulSignUp=()=>_t(this,void 0,void 0,(function*(){const{dispatch:e,modalOptions:{limitRedirect:t,via:n},gildedStoriesCount:i}=this.props;(0,j.j)("register",{num_gilded_stories:i,successful:!0,through:"email",via:n}),(0,o.SX)({event:"sign_up"}),this.handleGeneralSuccess(!1,t),yield e(rt.M())})),this.handleUseAnotherAccount=()=>{const{modalOptions:{via:e}}=this.props;(0,j.j)("sign_in_tap",{target:"use_another_account",via:e}),this.clearAlternateView()},this.handleSignUpFail=e=>{var t,n;const{modalOptions:{via:o},gildedStoriesCount:i}=this.props,r=(0,ge.IZ)(e)&&(null===(n=null===(t=e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.details);throw(0,j.j)("register",{num_gilded_stories:i,successful:!1,through:"email",via:o}),r?(0,lt.lV)(r):new lt.Wj(!1,{})},this.facebookSignup=()=>_t(this,void 0,void 0,(function*(){const{dispatch:e,history:t,modalOptions:{allowLanguagelessUser:n,isSignIn:o,limitRedirect:i,redirectPath:r="/",trackingProps:s,via:a},gildedStoriesCount:l}=this.props;this.setState({errors:{},submitting:"facebook"});try{(0,j.j)(o?"sign_in_tap":"registration_tap",Object.assign({target:"facebook",via:a},s));const c=yield(0,ct.k3)({allowLanguagelessUser:n,dispatch:e,gildedStoriesCount:l,history:t,onLoginSuccess:this.handleLoginSuccess,redirectPath:r,via:a});this.handleGeneralSuccess(c,i)}catch(e){this.setState({submitting:!1}),o||this.handleRegisterFailure("facebook")}})),this.clearAlternateView=()=>{this.setState({alternateView:null}),(0,gt.ub)()},this.googleSignup=()=>_t(this,void 0,void 0,(function*(){const{dispatch:e,modalOptions:{allowLanguagelessUser:t,isSignIn:n,limitRedirect:o,redirectPath:i="/",trackingProps:r,via:s},gildedStoriesCount:a,history:l}=this.props;this.setState({errors:{},submitting:"google"});try{(0,j.j)(n?"sign_in_tap":"registration_tap",Object.assign({target:"google",via:s},r));const c=yield(0,dt.Fc)({allowLanguagelessUser:t,dispatch:e,gildedStoryCount:a,history:l,onLoginSuccess:this.handleLoginSuccess,redirectPath:i,via:s});this.handleGeneralSuccess(c,o)}catch(e){this.setState({errors:{social:(0,Qe.H8)(19737)},submitting:!1,useImprovedErrorMessages:!0}),n||this.handleRegisterFailure("google")}})),this.handleAgeChange=()=>{this.setState({ageRestricted:parseInt(this.state.fields.age,10)<this.props.config.ageRestrictionLimit})},this.validateUsername=()=>_t(this,void 0,void 0,(function*(){if(!this.state.fields.username||!this.state.ageRestricted)return!0;const e=this.state.fields.username;try{if(yield this.memoizeUsernameValidate(e),this.mounted)return this.setState((t=>{if(e===t.fields.username){const e=t.errors,{username:n}=e;return{errors:vt(e,["username"]),isUsernameVerified:!0}}return null})),!0}catch(t){if(t instanceof lt.Wj)return this.mounted&&this.setState((n=>e===n.fields.username?{errors:t.errorFields,useImprovedErrorMessages:t.useImprovedErrorMessages}:null)),!1;throw t}})),this.handleResetUsernameError=()=>{this.setState((e=>{const t=e.errors,{username:n}=t;return{errors:vt(t,["username"]),isUsernameVerified:!0}}))},this.handleFieldChange=(e,t)=>{this.setState((n=>({fields:Object.assign(Object.assign({},n.fields),{[e]:t}),isUsernameVerified:"username"!==e&&n.isUsernameVerified})))},this.handleGeneralSuccess=(e,t)=>{const{history:n,modalOptions:{closeModalOnLogin:o=!0,goBack:i,isSignIn:r}}=this.props;r||(0,j.j)("registration_tap",{}),this.mounted&&!r&&o&&this.finishSignInOrSignUp(),r&&(e||t||n.push("/welcome")),e&&"no-redirects"===t||null==i||i(o?void 0:()=>this.finishSignInOrSignUp())},this.finishSignInOrSignUp=()=>{const{dispatch:e}=this.props;e({options:void 0,type:"TOGGLE_MODAL"})},this.handleLogin=e=>_t(this,void 0,void 0,(function*(){const{dispatch:t,history:n,isOnline:o,modalOptions:{closeModalOnLogin:i=!0,goBack:r,redirectPath:s="/",trackingProps:a,via:l}}=this.props,{alternateView:c}=this.state,u=c&&"welcomeBack"===c.type&&this.prefilledLoginData&&this.prefilledLoginData.email?{identifier:this.prefilledLoginData.email,password:e.password}:e;this.setState({loginAttempts:Object.assign(Object.assign({},this.state.loginAttempts),{showEmailSentNotification:!1})}),yield(0,j.j)("sign_in_tap",Object.assign({target:"sign_in",via:l},a));try{yield(0,lt.IS)(u,o),yield t((0,Te.eY)(void 0,void 0,(e=>{(0,gt.oV)("email",e)}))),i&&t({options:void 0,type:"TOGGLE_MODAL"}),(0,K.KE)(window.location.pathname)||n.push(s),null==r||r(i?void 0:()=>{t({options:void 0,type:"TOGGLE_MODAL"})})}catch(e){if(o&&u.identifier.trim()){const e=yield(0,gt.gT)(u.identifier);if(e&&(e.hasFacebook||e.hasGoogle)){const t=e.hasGoogle?"google":"facebook";return(0,j.j)("sign_in_load",Object.assign({screen:`sign_in_with_${t}`,via:l},a)),void this.setState({alternateView:{name:e.name,picture:e.picture,platform:t,type:"createdWithSocial"},submitting:!1})}}throw e}})),this.handleLoginSuccess=()=>{const{dispatch:e,history:t,modalOptions:{closeModalOnLogin:n=!0,limitRedirect:o,redirectPath:i="/"}}=this.props;n&&e({options:void 0,type:"TOGGLE_MODAL"}),o||(0,K.KE)(window.location.pathname)||t.push(i)},this.handleRegisterFailure=e=>{const{modalOptions:{via:t},gildedStoriesCount:n}=this.props;(0,j.j)("registration_tap",{target:"create_account"}),(0,j.j)("register",{num_gilded_stories:n,successful:!1,through:e,via:t})},this.handleSubmit=e=>_t(this,void 0,void 0,(function*(){const{modalOptions:{isSignIn:t}}=this.props;if(e.preventDefault(),!this.state.ageRestricted||this.state.isUsernameVerified||(yield this.validateUsername())){this.setState({errors:{},submitting:"email"});try{t?(mt.Z.start("login_success_or_fail"),yield this.handleLogin(this.state.fields)):(mt.Z.start("registration_success_or_fail"),(0,j.j)("registration_tap",{target:"create_account"}),yield this.emailSignup(this.state.fields))}catch(e){if(this.setState({submitting:!1}),!(e instanceof lt.Wj))throw e;this.setState({errors:e.errorFields,useImprovedErrorMessages:e.useImprovedErrorMessages})}finally{t?mt.Z.finish("login_success_or_fail"):mt.Z.finish("registration_success_or_fail")}}})),this.handleToggleForm=()=>{const{dispatch:e,modalOptions:t}=this.props,{isSignIn:n,trackingProps:o,via:i}=t;n?(0,j.j)("sign_in_tap",Object.assign({target:"sign_up",via:i},o)):(0,j.j)("registration_tap",{target:"sign_in"}),e({options:Object.assign(Object.assign({},t),{isSignIn:!n}),type:"TOGGLE_MODAL"})}}componentDidMount(){(0,ct.L8)(),(0,ut.d)();const{history:e,modalOptions:{isFamilyPlan:t,isSignIn:n,trackingProps:o,via:i}}=this.props;if(this.mounted=!0,n){this.prefilledLoginData=(0,gt.MG)();const e=n&&!t&&!!this.prefilledLoginData;if(e){if("email"===this.prefilledLoginData.type)(0,j.j)("sign_in_load",Object.assign({screen:"email_prefilled",via:i},o));else if("social"===this.prefilledLoginData.type){const e=this.prefilledLoginData.hasGoogle&&this.prefilledLoginData.hasFacebook?"google_and_facebook":this.prefilledLoginData.hasGoogle?"google":"facebook";(0,j.j)("sign_in_load",Object.assign({screen:`sign_in_with_${e}`,via:i},o))}}else(0,j.j)("sign_in_load",Object.assign({screen:"sign_in_modal",via:i},o));this.setState({alternateView:e?{title:(0,Qe.H8)(1086),type:"welcomeBack"}:null})}else(0,j.j)("registration_load",{screen:"sign_in_modal"});const r=(0,pt.Lm)();"true"!==r.isLoggingIn&&e.replace({pathname:window.location.pathname,search:(0,pt.Vp)(Object.assign(Object.assign({},r),{isLoggingIn:!0}))})}componentWillUnmount(){this.mounted=!1;const{history:e,modalOptions:{isSignIn:t,onBeforeClose:n,via:o}}=this.props;t?(0,j.j)("sign_in_tap",{target:"dismiss",via:o}):(0,j.j)("registration_tap",{target:"dismiss"}),null==n||n();const i=(0,pt.Lm)(),{isLoggingIn:r}=i,s=vt(i,["isLoggingIn"]);"true"===r&&e.replace({pathname:window.location.pathname,search:(0,pt.Vp)(s)})}render(){const{dispatch:e,isDesktop:t,modalOptions:{allowLanguagelessUser:n,closeModalOnLogin:o=!0,goBack:i,isFamilyPlan:r,onCloseButtonClick:a,isSignIn:l,limitRedirect:c,redirectPath:u="/",removeSignUp:d,renderHeader:p,renderSubtitle:m,renderTitle:g,requireGoogle:h,trackingProps:_,via:v}}=this.props,{ageRestricted:f,alternateView:y,errors:E,fields:b,submitting:S,useImprovedErrorMessages:w}=this.state,T=(0,ht.P_)(this.props.config),I=l&&y&&"welcomeBack"===y.type,k=I&&y.title||"",R=l&&y&&"createdWithSocial"===y.type,C=R&&y,O=I?1032:l?35497:11927,N=s.createElement(Ne.Z,Object.assign({},(0,Xe._q)(nt.V.RegisterButton),{className:st.button,disabled:I?void 0:!1!==S&&"email"!==S,key:O,submitting:"email"===S,type:"submit",unstyledDisabled:!I,variant:"solid"}),(0,Qe._i)(O)),P=l&&w&&(E.password||E.identifier||E.connectivity||E.social)?s.createElement(it,null,E.identifier,E.password,E.connectivity,E.social):null,L=(()=>h?s.createElement(St,{isSignIn:l,onGoogleClick:this.googleSignup,renderHeader:p,renderSubtitle:m,renderTitle:g,submitting:S}):I&&this.prefilledLoginData?s.createElement(bt,{dispatch:e,errors:E,header:null==p?void 0:p(!0),identifier:b.identifier,lastLoginType:this.prefilledLoginData.type,name:this.prefilledLoginData.name,onFacebookClick:this.facebookSignup,onGoogleClick:this.googleSignup,onIdentifierChange:e=>this.handleFieldChange("identifier",e),onPasswordChange:e=>this.handleFieldChange("password",e),onUseAnotherAccount:this.handleUseAnotherAccount,password:b.password,picture:this.prefilledLoginData.picture,registerButton:N,signInErrors:P,submitting:S,title:k,via:v}):R?s.createElement(wt,{name:C.name,onFacebookClick:this.facebookSignup,onGoogleClick:this.googleSignup,onUseAnotherAccount:this.handleUseAnotherAccount,picture:C.picture,platform:C.platform,submitting:S}):s.createElement(Tt,{age:b.age,ageRestricted:f,dispatch:e,email:b.email,errors:E,focusPasswordField:!1,identifier:b.identifier,isFamilyPlan:r,isSignIn:l,isUGCDisabled:T,name:b.name,onAgeBlur:this.handleAgeChange,onAgeChange:e=>this.handleFieldChange("age",e),onEmailChange:e=>this.handleFieldChange("email",e),onFacebookClick:this.facebookSignup,onGoogleClick:this.googleSignup,onIdentifierChange:e=>this.handleFieldChange("identifier",e),onNameChange:e=>this.handleFieldChange("name",e),onPasswordChange:e=>this.handleFieldChange("password",e),onResetError:this.handleResetUsernameError,onUsernameBlur:this.validateUsername,onUsernameChange:e=>this.handleFieldChange("username",e),password:b.password,registerButton:N,renderHeader:p,renderTitle:g,showEmailField:!0,signInErrors:P,submitting:S,username:b.username,via:v}))(),A=()=>{null==a||a(),e({options:void 0,type:"TOGGLE_MODAL"})},D=l?(0,Qe._i)(19234):(0,Qe._i)(9109);return s.createElement("div",{className:st["modal-wrapper"]},t?s.createElement(s.Fragment,null,s.createElement("div",{className:st["left-controls"]},s.createElement("button",{className:st["close-button"],onClick:A},s.createElement("img",{src:"https://d35aaqx5ub95lt.cloudfront.net/images/x.svg"}))),s.createElement("div",{className:st["right-controls"]},d?null:s.createElement(Ne.Z,Object.assign({},(0,Xe._q)(nt.V.SignUpButton),{color:"macaw",onClick:this.handleToggleForm,variant:"stroke"}),D))):s.createElement("div",{className:st["right-controls"]},s.createElement("button",{className:st["close-button"],onClick:A},s.createElement("img",{src:"https://d35aaqx5ub95lt.cloudfront.net/images/x.svg"}))),s.createElement("form",{className:st.modal,method:"POST",noValidate:!0,onSubmit:this.handleSubmit},L,s.createElement("div",{className:st.footer},s.createElement("div",{className:st["terms-and-privacy"]},(0,Qe._i)(18519)),t?null:l?s.createElement("div",{className:st["no-account"]},(0,Qe._i)(11114),s.createElement("span",Object.assign({},(0,Xe._q)(nt.V.SignUpLink),{className:st["no-account-link"],onClick:()=>{(0,j.j)("sign_in_tap",Object.assign({target:"sign_up",via:v},_)),e({options:{allowLanguagelessUser:n,closeModalOnLogin:o,goBack:i,isSignIn:!1,limitRedirect:c,name:Be.tl.SignInUp,redirectPath:u,renderHeader:p,renderSubtitle:m,renderTitle:g,via:v},type:"TOGGLE_MODAL"})}}),(0,Qe._i)(19234))):s.createElement("div",{className:st["no-account"]},(0,Qe._i)(6220),s.createElement("span",{className:st["no-account-link"],onClick:()=>{(0,j.j)("registration_tap",{target:"sign_in"}),e({options:{allowLanguagelessUser:n,closeModalOnLogin:o,goBack:i,isSignIn:!0,limitRedirect:c,name:Be.tl.SignInUp,redirectPath:u,renderHeader:p,renderSubtitle:m,renderTitle:g,via:v},type:"TOGGLE_MODAL"})}},(0,Qe._i)(3830))))))}}const kt=()=>{const e=(0,pe.Fx)(ue.Mb),t=(0,pe.Fx)(ue.$4),n=(0,pe.Fx)(ue.YW),o=(0,pe.tX)(),i=(0,c.k6)(),r=(0,pe.Fx)(Ie.A9).storyListing;return s.createElement(Me.Z,{hideClose:!0,modalName:Be.tl.SignInUp,onDismiss:()=>{const e=(0,pt.vl)(window.location.search);i.replace({search:(0,pt.Vp)(d.CE(e,["sign-in","sign-up","register"]))}),o({options:void 0,type:"TOGGLE_MODAL"})}},(({modalOptions:a,onDismiss:l})=>s.createElement(It,{config:e,dispatch:o,gildedStoriesCount:(0,D.rc)(r),history:i,isDesktop:t,isOnline:n,modalOptions:a,onDismiss:l})))},Rt=({drawer:e})=>{const[t,n]=s.useState(0),o=s.useRef(),i=s.useRef(),r=(0,G.Xr)(null!=e?e:o.current);return s.useEffect((()=>{void 0!==e&&e===o.current&&void 0===i.current&&n((e=>e+1)),o.current=null!=e?e:o.current,i.current=e})),r?s.createElement(s.Suspense,{fallback:null},s.createElement(r,{key:t})):null};var Ct=n(81149),Ot=n(88268),Nt=n(1398),Pt=n(26506),Lt=n(89803),At=n(20028);const Dt=(0,Nt.Z)((()=>n.e(7332).then(n.bind(n,17332)))),xt=(0,Nt.Z)((()=>n.e(4695).then(n.bind(n,14695)))),Mt={getConditionAndTreat:Ct.j6},Ut=({children:e})=>{const t=(0,pe.tX)(),n=(0,pe.Fx)((e=>e.ui.drawer)),o=(0,pe.Fx)((e=>(0,At.ms)((0,ue.np)(e)))),r=(0,pe.Fx)((e=>{var t;return"TYPE_TO_SELECT"===(null===(t=e.ui.drawer)||void 0===t?void 0:t.name)?e.ui.drawer.spotlight:void 0})),l=(0,pe.Fx)((e=>e.ui.viewportHeight)),u=(0,pe.Fx)((e=>e.ui.viewportWidth)),p=(0,pe.Fx)((e=>(0,ue.Sg)(e)&&e.ui.isModalReallyOpen)),m=(0,pe.Fx)((e=>void 0!==e.ui.drawer||void 0!==e.ui.modal&&!(0,Be.rm)(e.ui.modal.name)&&e.ui.isModalReallyOpen||e.ui.isRequestingNotificationPermission)),g=(()=>{const e=(0,pe.tX)(),t=(0,pe.Fx)((e=>e.brb.ignoreUntil)),n=(0,pe.Fx)((e=>e.brb.resetAt)),o=(0,pe.Fx)((e=>e.brb.status)),i=s.useRef(),r=s.useRef(o);return i.current=i=>ve(void 0,void 0,void 0,(function*(){if(void 0!==t&&Date.now()<t)return;if("enabled"===o&&"visible"!==document.visibilityState)return;const r=(0,_e.J9)()||(0,se.rV)(se.Qt.DisableBigRedButton)?"disabled":yield ge.Uw.getStatus();i.isCancelled()||(o!==r?"enabled"===r?(console.warn("Enabling maintenance mode."),e({resetAt:Date.now()+1e3*(0,f.dz)({hours:5,minutes:d.MX(0,5)}),type:"brb/ENABLED"})):(console.warn("Disabling maintenance mode."),e({type:"brb/DISABLED"})):void 0!==n&&Date.now()>=n&&(console.warn("Disabling maintenance mode automatically after 5 hours."),e({ignoreUntil:Date.now()+1e3*(0,f.dz)({hours:12}),type:"brb/IGNORED"})))})),r.current=o,s.useEffect((()=>{const e=new he.$B,t=()=>ve(void 0,void 0,void 0,(function*(){var n;e.isCancelled()||(yield null===(n=i.current)||void 0===n?void 0:n.call(i,e),setTimeout(t,1e3*d.MX(30,"enabled"===r.current?300:60)))}));return t(),()=>e.cancel()}),[]),o})(),h=(0,pe.Tb)();(0,fe.Z)(),(()=>{const e=(0,pe.CC)(),t=(0,c.k6)(),n=(0,c.TH)(),[o]=s.useState(Date.now());s.useEffect((()=>{let r=n;const s=t.listen((n=>{const s=`${r.pathname}${r.search}`,a=`${n.pathname}${n.search}`;(0,i.bP)(`route "${s}" -> "${a}"`,[{data:r,name:"from"},{data:n,name:"to"}]),(0,z.GN)(s,a);let l=n.pathname;const c=new URLSearchParams(n.search);if((0,K.fu)(l))return console.log("Path owned by old web; refreshing"),void(0,K.Zs)();if((Date.now()-o)/36e5>72)return console.log("Window too old; refreshing"),void(0,K.Zs)();if((0,R.Pc)()){let n=!1;const o=(0,ue.Lm)(e.getState()),i=(0,ue.iH)(e.getState());!o||i||(0,K.v$)(l)||(console.log(`Redirecting "${l}" to "/welcome" to select learning language`),l="/welcome",n=!0),c.has("isLoggingIn")&&(c.delete("isLoggingIn"),n=!0),n&&t.replace({pathname:l,search:c.toString()})}r=n}));return()=>{s()}}),[])})(),(({disabled:e})=>{s.useEffect((()=>{const t=d.P2((()=>{if(!e){const e=Date.now(),t=e-ye;ye=e,j.sF(t)}}),1e3,{trailing:!0});return document.addEventListener("mousedown",t),document.addEventListener("keydown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("keydown",t),document.removeEventListener("touchstart",t)}}),[e]),s.useEffect((()=>{const t=d.P2((()=>{if(!e){const e={};let t=0;Object.entries(j.dU).forEach((([n,o])=>{t+=o,e[`engagement_type_${n}`]=Math.floor(o/1e3)})),e.total_time_spent=Math.floor(t/1e3),j.j("time_spent",e),j.zS()}}),6e4,{trailing:!0});return document.addEventListener("mousedown",t),document.addEventListener("keydown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("keydown",t),document.removeEventListener("touchstart",t)}}),[e])})({disabled:"enabled"===g}),(()=>{const e=s.useRef((0,f.Ml)()),[t,n]=s.useState((0,R.Pc)());s.useEffect((()=>{const e=d.P2((()=>{(0,R.Pc)()&&"/reset_password"!==window.location.pathname&&j.j("user_active",{product:"learning_app"})}),Ee,{trailing:!1});return be.forEach((t=>{document.addEventListener(t,e)})),()=>{be.forEach((t=>{document.removeEventListener(t,e)}))}}),[]),s.useEffect((()=>{const o=()=>{setTimeout((()=>{j.Bf({activity_trigger:"user_interaction"})&&(e.current=(0,f.Ml)())}),500)},i=d.P2(o,Ee,{trailing:!1}),r=()=>{(0,f.Ml)()!==e.current&&o()},s=()=>{t!==(0,R.Pc)()&&(n((0,R.Pc)()),o())};return be.forEach((e=>{document.addEventListener(e,i),document.addEventListener(e,r),document.addEventListener(e,s)})),()=>{be.forEach((e=>{document.removeEventListener(e,i),document.removeEventListener(e,r),document.removeEventListener(e,s)}))}}),[t])})(),(({disabled:e})=>{const t=(0,pe.tX)(),n=(0,pe.CC)();s.useEffect((()=>{if(!e){const e=(0,f.nC)((()=>{try{(0,R.Jb)()}catch(t){return void clearInterval(e)}const o=n.getState();(0,ue.is)(o)||Ie.Uy(o)||(t((0,Te.eY)()),t((0,Se.i)()),t((0,we.i)()))}),36e5);return()=>clearInterval(e)}}),[e])})({disabled:"enabled"===g});const[_,y]=s.useState("enabled"===g);return s.useEffect((()=>{"disabled"===g&&(t((0,Se.i)()),t((0,we.i)()),t((0,Te.eY)(!0)))}),[]),s.useEffect((()=>{if("enabled"===g)return y(!0),()=>{(0,K.Zs)()}}),[g]),s.useEffect((()=>{if(m)return t({type:"DIMMED_OVERLAY_OPENED"}),()=>{t({type:"DIMMED_OVERLAY_CLOSED"})}}),[m]),s.useEffect((()=>{if((0,v.Au)()||o){const e=e=>{(0,Ot.b)(e,"debug")&&t({options:{name:Be.tl.Debug},type:"TOGGLE_MODAL"})};return Pt.U.addListener(document,"keydown",e),()=>Pt.U.removeListener(document,"keydown",e)}}),[o]),s.useEffect((()=>{const e=()=>t({type:"GO_OFFLINE"}),n=()=>t({type:"COME_ONLINE"});return window.addEventListener("offline",e),window.addEventListener("online",n),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",n)}}),[]),s.useEffect((()=>{const e=d.Ds((()=>t({height:window.innerHeight,type:"RESIZE_WINDOW",width:window.innerWidth})),250);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),s.useEffect((()=>(window.addEventListener("beforeunload",Lt.u6),window.addEventListener("unload",Lt.u6),()=>{window.removeEventListener("beforeunload",Lt.u6),window.removeEventListener("unload",Lt.u6)})),[]),_?s.createElement(s.Suspense,{fallback:null},s.createElement(xt,null)):s.createElement(le,null,s.createElement(J.Z.Provider,{value:Mt},s.createElement(X.Z.Provider,{value:h},s.createElement(me,null),e,s.createElement(Rt,{drawer:null==n?void 0:n.name}),(0,a.createPortal)(s.createElement(s.Fragment,null,r?s.createElement(ie,Object.assign({animateOnMount:m,className:"z_dyN",height:l,isVisible:m,width:u},r)):s.createElement(Q.Z,{animateOnMount:m,isVisible:m},s.createElement(ce.Z,null)),s.createElement(Q.Z,{animateOnMount:p,isVisible:p},s.createElement(ce.Z,{isDrawerOnModalOverlay:!0}))),document.getElementById("overlays")),s.createElement(Re,null,s.createElement(Dt,null)),s.createElement(Re,null,s.createElement(Ze,null)),s.createElement(kt,null))))},Ft=(0,Nt.Z)((()=>n.e(6710).then(n.bind(n,56710)))),jt=(0,Nt.Z)((()=>n.e(7017).then(n.bind(n,57017)))),Bt=["/p","/leaderboard"],Ht=[s.createElement(c.AW,{component:Ft,key:"deeplink",path:Bt}),s.createElement(c.AW,{component:jt,key:"logout",path:"/logout"})];const Gt=(0,Nt.Z)((()=>Promise.all([n.e(3),n.e(2668),n.e(5523),n.e(1342),n.e(2486),n.e(1854)]).then(n.bind(n,62368)))),Vt=(0,Nt.Z)((()=>n.e(1436).then(n.bind(n,61436)))),Zt=(0,Nt.Z)((()=>n.e(2193).then(n.bind(n,22193)))),Wt=(0,Nt.Z)((()=>n.e(2177).then(n.bind(n,12177)))),zt=(0,Nt.Z)((()=>n.e(8962).then(n.bind(n,28962)))),Yt=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(3485),n.e(1606),n.e(148),n.e(6923)]).then(n.bind(n,80306)))),$t=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(3485),n.e(1606),n.e(7424)]).then(n.bind(n,14708)))),Kt=(0,Nt.Z)((()=>Promise.all([n.e(407),n.e(783),n.e(2486),n.e(1272)]).then(n.bind(n,20569)))),qt=(0,Nt.Z)((()=>n.e(7190).then(n.bind(n,47190)))),Jt=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(407),n.e(3485),n.e(3),n.e(2668),n.e(2726),n.e(1606),n.e(148),n.e(783),n.e(1342),n.e(8219),n.e(7507)]).then(n.bind(n,68427)))),Xt=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(407),n.e(3485),n.e(3),n.e(2668),n.e(2726),n.e(1606),n.e(148),n.e(783),n.e(1342),n.e(8219),n.e(7507)]).then(n.bind(n,65637)))),Qt=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(407),n.e(3485),n.e(3),n.e(2668),n.e(2726),n.e(1606),n.e(148),n.e(783),n.e(1342),n.e(8219),n.e(7507)]).then(n.bind(n,41898)))),en=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(407),n.e(3485),n.e(3),n.e(2668),n.e(2726),n.e(1606),n.e(148),n.e(783),n.e(1342),n.e(8219),n.e(7507)]).then(n.bind(n,71084)))),tn=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(407),n.e(3485),n.e(3),n.e(2668),n.e(2726),n.e(1606),n.e(148),n.e(783),n.e(1342),n.e(8219),n.e(7507)]).then(n.bind(n,82116)))),nn=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(407),n.e(3485),n.e(3),n.e(2668),n.e(2726),n.e(1606),n.e(148),n.e(783),n.e(1342),n.e(8219),n.e(7507)]).then(n.bind(n,89267)))),on=(0,Nt.Z)((()=>n.e(9998).then(n.bind(n,69998)))),rn=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(3485),n.e(1606),n.e(3695)]).then(n.bind(n,23695)))),sn=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(3485),n.e(1606),n.e(148),n.e(1441)]).then(n.bind(n,60148)))),an=(0,Nt.Z)((()=>n.e(730).then(n.bind(n,40730)))),ln=(0,Nt.Z)((()=>Promise.all([n.e(9804),n.e(3914)]).then(n.bind(n,29804)))),cn=(0,Nt.Z)((()=>n.e(4951).then(n.bind(n,14951)))),un=(0,Nt.Z)((()=>n.e(4127).then(n.bind(n,94127)))),dn=(0,Nt.Z)((()=>n.e(186).then(n.bind(n,50186)))),pn=(0,Nt.Z)((()=>n.e(8223).then(n.bind(n,18223)))),mn=(0,Nt.Z)((()=>n.e(2231).then(n.bind(n,52231)))),gn=(0,Nt.Z)((()=>n.e(8264).then(n.bind(n,8264)))),hn=(0,Nt.Z)((()=>n.e(6387).then(n.bind(n,36387)))),_n=(0,Nt.Z)((()=>n.e(298).then(n.bind(n,20298)))),vn=(0,Nt.Z)((()=>n.e(5185).then(n.bind(n,65185)))),fn=(0,Nt.Z)((()=>n.e(4152).then(n.bind(n,24152)))),yn=(0,Nt.Z)((()=>n.e(7520).then(n.bind(n,67520)))),En=(0,Nt.Z)((()=>n.e(9707).then(n.bind(n,19707)))),bn=(0,Nt.Z)((()=>n.e(949).then(n.bind(n,70949)))),Sn=(0,Nt.Z)((()=>n.e(1348).then(n.bind(n,41348)))),wn=(0,Nt.Z)((()=>n.e(1751).then(n.bind(n,31751)))),Tn=(0,Nt.Z)((()=>n.e(5862).then(n.bind(n,5862)))),In=(0,Nt.Z)((()=>n.e(6820).then(n.bind(n,46820)))),kn=(0,Nt.Z)((()=>n.e(4772).then(n.bind(n,4772)))),Rn=(0,Nt.Z)((()=>n.e(3026).then(n.bind(n,93026)))),Cn=(0,Nt.Z)((()=>n.e(6150).then(n.bind(n,16150)))),On=(0,Nt.Z)((()=>n.e(1207).then(n.bind(n,41207)))),Nn=(0,Nt.Z)((()=>n.e(7451).then(n.bind(n,27451)))),Pn=(0,Nt.Z)((()=>n.e(6782).then(n.bind(n,26782)))),Ln=(0,Nt.Z)((()=>n.e(6001).then(n.bind(n,46001)))),An=(0,Nt.Z)((()=>n.e(288).then(n.bind(n,40288)))),Dn=(0,Nt.Z)((()=>n.e(5116).then(n.bind(n,35116)))),xn=(0,Nt.Z)((()=>Promise.all([n.e(4872),n.e(5187)]).then(n.bind(n,65487)))),Mn=(0,Nt.Z)((()=>Promise.all([n.e(4872),n.e(8053)]).then(n.bind(n,63933)))),Un=(0,Nt.Z)((()=>n.e(9952).then(n.bind(n,57663)))),Fn=(0,Nt.Z)((()=>Promise.all([n.e(7663),n.e(7480)]).then(n.bind(n,44819)))),jn=(0,Nt.Z)((()=>n.e(8396).then(n.bind(n,68396)))),Bn=(0,Nt.Z)((()=>n.e(4702).then(n.bind(n,24702)))),Hn=(0,Nt.Z)((()=>n.e(6202).then(n.bind(n,56202)))),Gn=(0,Nt.Z)((()=>n.e(3827).then(n.bind(n,83827)))),Vn=(0,Nt.Z)((()=>n.e(7957).then(n.bind(n,97957)))),Zn=(0,Nt.Z)((()=>n.e(3473).then(n.bind(n,13473)))),Wn=(0,Nt.Z)((()=>Promise.resolve().then(n.bind(n,54452)))),zn=(0,Nt.Z)((()=>n.e(7872).then(n.bind(n,57872)))),Yn=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(4243),n.e(7181),n.e(9804),n.e(2437)]).then(n.bind(n,94973)))),$n=(0,Nt.Z)((()=>Promise.all([n.e(4243),n.e(1494)]).then(n.bind(n,10843)))),Kn=(0,Nt.Z)((()=>Promise.all([n.e(4243),n.e(1806)]).then(n.bind(n,85180)))),qn=(0,Nt.Z)((()=>Promise.all([n.e(7181),n.e(2982)]).then(n.bind(n,96369)))),Jn=(0,Nt.Z)((()=>n.e(6036).then(n.bind(n,26036)))),Xn=(0,Nt.Z)((()=>Promise.all([n.e(4243),n.e(1106)]).then(n.bind(n,94629)))),Qn=(0,Nt.Z)((()=>n.e(2392).then(n.bind(n,72392)))),eo=(0,Nt.Z)((()=>Promise.all([n.e(4243),n.e(1235)]).then(n.bind(n,16855)))),to=(0,Nt.Z)((()=>n.e(411).then(n.bind(n,87596)))),no=(0,Nt.Z)((()=>n.e(411).then(n.bind(n,32947)))),oo=(0,Nt.Z)((()=>Promise.all([n.e(407),n.e(783),n.e(3511)]).then(n.bind(n,75064)))),io=(0,Nt.Z)((()=>Promise.all([n.e(407),n.e(3),n.e(7493),n.e(783),n.e(8219),n.e(875),n.e(7217)]).then(n.bind(n,61905)))),ro=(0,Nt.Z)((()=>n.e(8837).then(n.bind(n,48837)))),so=(0,Nt.Z)((()=>n.e(8517).then(n.bind(n,18517)))),ao=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(3485),n.e(1606),n.e(148),n.e(9097)]).then(n.bind(n,59709)))),lo=(0,Nt.Z)((()=>n.e(811).then(n.bind(n,20811)))),co=e=>e.flatMap((e=>{if(void 0===e.subroutes)return e;const{components:t=[],exact:n=!1,path:o="",props:i={}}=e;return co(e.subroutes).map((({components:e=[],exact:r=!1,path:s="",props:a={}})=>({components:[...t,...e],exact:n||r,path:`${o}${s}`,props:Object.assign(Object.assign({},i),a)})))})),uo=!0,po=!0,mo={noMobileTabbar:uo,noMobileTopbar:po},go={noDesktopTopbar:!0,noMobileTabbar:uo,noMobileTopbar:po},ho={noContainer:!0,noDesktopTopbar:!0,noMobileTabbar:uo,noMobileTopbar:po},_o=({appProps:e,components:t,routerProps:n})=>{const o=s.useMemo((()=>{const e=[Gt,...t].filter(Nt.N).filter((e=>!e.hasLoaded()));return 0===e.length?void 0:Promise.all(e.map((e=>e.preload())))}),[t]),i=(0,pe.PX)([],(()=>{return e=void 0,n=void 0,r=function*(){return yield o,t},new((i=void 0)||(i=Promise))((function(t,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((r=r.apply(e,n||[])).next())}));var e,n,i,r}),[o]),r=void 0===o?t:i,a=(()=>{if(t===r)return t;const e=t.findIndex(((e,t)=>e!==r[t]));return 0!==r.length&&-1===e?t:t.slice(0,e)})();return s.createElement(Gt,Object.assign({},n,e),a.reduceRight(((e,t)=>s.createElement(t,Object.assign({},n),e)),null))},vo=(0,Nt.Z)((()=>n.e(6557).then(n.bind(n,36557)))),fo=[s.createElement(c.AW,{component:vo,key:"debug",path:"/debug/:splat*"})],yo=({target:e})=>(s.useEffect((()=>{window.location.replace(e)}),[]),null),Eo=[s.createElement(c.AW,{key:"404",path:"/404",render:()=>s.createElement(yo,{target:K.Oy})}),s.createElement(c.AW,{key:"careers",path:["/careers","/jobs"],render:()=>s.createElement(yo,{target:"https://careers.duolingo.com"})}),s.createElement(c.AW,{key:"events",path:"/events",render:()=>s.createElement(yo,{target:"https://events.duolingo.com?source=main"})}),s.createElement(c.AW,{key:"schools",path:"/schools",render:()=>s.createElement(yo,{target:"https://schools.duolingo.com?source=main"})}),s.createElement(c.AW,{key:"press",path:"/press",render:()=>s.createElement(yo,{target:"https://press.duolingo.com"})}),s.createElement(c.AW,{key:"research",path:["/effectiveness-study","/research"],render:()=>s.createElement(yo,{target:"https://research.duolingo.com"})}),s.createElement(c.AW,{key:"troubleshooting",path:"/troubleshooting",render:()=>s.createElement(yo,{target:`/topic/${window.duo.troubleshootingForumId||647}`})})],bo=(0,Nt.Z)((()=>n.e(8718).then(n.bind(n,98718)))),So=(0,Nt.Z)((()=>n.e(6676).then(n.bind(n,66676)))),wo=(0,Nt.Z)((()=>n.e(8496).then(n.bind(n,18496)))),To=(0,Nt.Z)((()=>n.e(4922).then(n.bind(n,84922)))),Io=(0,Nt.Z)((()=>n.e(5906).then(n.bind(n,35906)))),ko=(0,Nt.Z)((()=>n.e(2401).then(n.bind(n,42401)))),Ro=(0,Nt.Z)((()=>n.e(6734).then(n.bind(n,11152)))),Co=(0,Nt.Z)((()=>Promise.all([n.e(1206),n.e(5199)]).then(n.bind(n,2746)))),Oo=(0,Nt.Z)((()=>Promise.all([n.e(1206),n.e(7452)]).then(n.bind(n,83101)))),No=(0,Nt.Z)((()=>n.e(7550).then(n.bind(n,97550)))),Po=(0,Nt.Z)((()=>n.e(4181).then(n.bind(n,4181)))),Lo=(0,Nt.Z)((()=>Promise.all([n.e(1206),n.e(8050)]).then(n.bind(n,61206)))),Ao=(0,Nt.Z)((()=>Promise.all([n.e(2013),n.e(961),n.e(2629)]).then(n.bind(n,22629)))),Do=(0,Nt.Z)((()=>n.e(2041).then(n.bind(n,42041)))),xo=[s.createElement(c.AW,{component:Po,key:"abc",path:"/abc"}),s.createElement(c.AW,{component:bo,key:"bango",path:"/bango/:reseller/:token"}),s.createElement(c.AW,{component:So,key:"duocon",path:"/duocon"}),s.createElement(c.AW,{component:wo,key:"duocon2020",path:"/duocon2021"}),s.createElement(c.AW,{component:To,key:"duocon2020",path:"/duocon2020"}),s.createElement(c.AW,{component:Io,key:"duocon2019",path:"/duocon2019"}),s.createElement(c.AW,{component:ko,key:"efficacy",path:"/efficacy"}),s.createElement(c.AW,{component:Ro,key:"evergreen",path:"/2022-campaigns"}),s.createElement(c.AW,{component:Ao,key:"weekly-report",path:"/weekly-report"}),s.createElement(c.AW,{component:Do,key:"china-apk-download",path:"/apk-download"}),s.createElement(c.l_,{from:"/learningseason",key:"learningseason",to:"/learning-season"}),s.createElement(c.AW,{component:Oo,key:"learning-season",path:"/learning-season"}),s.createElement(c.AW,{component:Co,key:"nocuesta",path:"/nocuesta"}),s.createElement(c.AW,{component:No,key:"family",path:["/family-plan","/share-family-plan"]}),s.createElement(c.AW,{component:Lo,key:"summer2020",path:"/summer2020"})],Mo=({data:e})=>(e["@context"]=e["@context"]||"http://schema.org",s.createElement("script",{type:"application/ld+json"},JSON.stringify(e,null,"\t"))),Uo=({crumbs:e})=>{const t={"@type":"BreadcrumbList",itemListElement:e.map(((e,t)=>({"@type":"ListItem",item:{"@id":e.url.toString(),name:e.label},position:t+1})))};return s.createElement(Mo,{data:t})};var Fo=n(75025),jo=n(54452),Bo=n(45834),Ho=n(76864),Go=n(87122),Vo=n(82793);const Zo=({children:e,dispatch:t,page:n,showButtons:o,simple:i,trackingScreen:r,via:a})=>{const l=(0,c.TH)(),u=(0,jo.isOnExperimentalMobileEmailVerificationPage)(l);return s.createElement("div",Object.assign({className:te()(Vo.Z["logged-out-topbar-wrap"],{[Vo.Z["splash-topbar-wrap"]]:i})},(0,Xe._q)(nt.V.LoggedOutTopbar)),s.createElement("div",{className:Vo.Z["logged-out-topbar"]},s.createElement(xe.Z,{className:Vo.Z["logged-out-logo-container"],href:u?jo.APP_HOME_DEEP_LINK:"/",onClick:()=>(0,j.j)("topbar_logo_tapped",{via:n})},s.createElement("img",{alt:(0,Qe.H8)(23227),className:Vo.Z["logged-out-logo"],src:Go})),u?null:s.createElement("div",{className:Vo.Z["right-header"]},s.createElement(Ho.aT,{className:Vo.Z["hidden-on-mobile"],trackingScreen:r}),e,s.createElement(Bo.Z,{buttonClassName:Vo.Z["login-button"],className:void 0===o||o?Vo.Z["hidden-on-mobile"]:Vo.Z["hidden-everywhere"],dispatch:t,redirectPath:"/join-beta"===l.pathname||"/stories"===l.pathname?l.pathname:void 0,trackingScreen:r,via:a}),i?null:s.createElement(xe.Z,{className:te()((0,Ne.y)({color:"owl",variant:"solid"}),Vo.Z["get-started"]),href:"/register",onClick:()=>(0,j.j)("click",{which:"topbar get started"})},(0,Qe._i)(18550)))))},Wo=e=>{const{dispatch:t,trackingScreen:n="unknown",via:o}=e;return s.createElement(Ne.Z,Object.assign({},(0,Xe._q)(nt.V.HaveAccount),{className:"_3mSsk _32wa0",onClick:()=>{(0,j.j)("click",{screen:n,target:"has_account"}),(0,j.j)("splash_tap",{target:"has_account"}),t({options:{allowLanguagelessUser:!0,isSignIn:!0,name:Be.tl.SignInUp,via:o},type:"TOGGLE_MODAL"})},variant:"stroke"}),(0,Qe._i)(20690))};var zo=n(81734);const Yo={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","hero-wrap":"_2quRS",globe:"_2eTYC","hero-short":"_8p5dJ","hero-shorter":"QKdy5","globe-flag":"EZsOD"},$o=({learningLanguageId:e,variant:t})=>{const n=e?s.createElement(zo.Z,{className:Yo["globe-flag"],lang:e,size:88}):null;return s.createElement("div",{className:te()(Yo["hero-wrap"],{[Yo[`hero-${t}`]]:!!t})},s.createElement("div",{className:Yo.globe}),n)};$o.VARIANTS={SHORT:"short",SHORTER:"shorter"};const Ko=$o,qo="_2O-uQ _1NnRQ whuSQ _2gwtT _1nlVc _2fOC9 t5wFJ _3dtSu _25Cnc _3yAjN UCrz7 yTpGk",Jo={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",footer:"_1SrGE","_space-background":"_30_lR","splash-wrap-inner":"_2F5q9","_splash-header-base":"_2jDQw","full-height":"_3z5VG","splash-header":"_18cH1","splash-header-wrap":"_1RQS6 _30_lR _2jDQw","prevent-long-splash":"_1FMDq","cta-container":"_3wkBv",tagline:"_3bXAY","splash-cta":"_6TCdY","have-account":"N8lkg","login-panel-wrap":"AsTXN","enter-details":"_2AyzT","content-section":"_338aW","content-section-divider":"DHwFZ","_content-wrap":"_8bBwZ","_content-wrap-row":"_2HZDe _8bBwZ","content-wrap-row-left":"RVdan _2HZDe _8bBwZ","content-wrap-row-right":"_3xrJa _2HZDe _8bBwZ","content-wrap-column":"_1gei2 _8bBwZ","_content-img":"kzV-q","_content-img-left":"_13IhJ","_content-img-right":"_2lVpu","duo-img":"_22SOo kzV-q _13IhJ","efficacy-img":"_1sRIT kzV-q _13IhJ _1G1lu","plus-duo-img":"HBGBC kzV-q _13IhJ _1G1lu","travel-img":"hmzIl kzV-q _2lVpu _1G1lu","school-img":"_1-lCk kzV-q _13IhJ _1G1lu","english-test-img":"_3hB7q kzV-q _2lVpu _1G1lu","content-description":"_2gzeH","content-description-small":"_1c0wn",link:"_1UbsT","play-video-icon":"_1e2pl","gamification-columns":"_2KQih","gamification-column":"_2XjE9","gamification-img":"_11DdV","gamification-img-top":"_2H12S _11DdV","small-content-wrap":"QDrP9","small-content-text-wrap":"_3_NlK",_icon:"_22sJd","check-icon":"_258Bh _22sJd","crown-icon":"My_aK _22sJd","streak-icon":"_2tMVK _22sJd","profile-icon":"_3KVV8 _22sJd","app-button-container":"_2UDuf","app-button":"_2xIzh","blue-link":"_1U0Kv _2__FI _2RTMn _3yAjN","footer-wrap":"_2_I80 _30_lR","footer-header":"_3yc4l","footer-tagline":"cWbmH","footer-cta":"_3H4pA","hidden-on-mobile":"LKK32","splash-bottom":"IvcaF","splash-cta-container":"liLLN","already-have-account-container":"_3uMJF",arrow:"_3cOeS d98MI _2jNpf","language-carousel":"_1u7qP","logged-out-logo":"_3s2_U","china-apk-download":"_1R_jZ","china-apk-download-qrcode":"F6uNr","china-apk-download-icon":"_11sLl","china-apk-download-message":"_2QQDH"};class Xo extends s.Component{constructor(){super(...arguments),this.renderCourseHatchingForm=()=>{const{course:e,email:t,isEmailInputVisible:n,errorString:o,newlySubscribed:i,onEmailChange:r,onNotifyMeClick:a,onSubscribeClick:l}=this.props,{learningLanguageName:c,subscriberCount:u,userSubscribed:d}=e,p=d||i;return n?s.createElement("div",{className:"pguY_"},s.createElement("div",{className:"tF1i1"},s.createElement("input",{className:"IMg9F",onChange:e=>r(e.target.value),placeholder:(0,Qe.H8)(3980),value:t}),s.createElement("button",{className:"wa4cN _2O-uQ _1NnRQ whuSQ _2gwtT _1nlVc _2fOC9 t5wFJ _3dtSu _25Cnc _3yAjN UCrz7 yTpGk",onClick:l},(0,Qe._i)(19532))),s.createElement("div",{className:"_2WMsJ"},o)):s.createElement("div",null,p?s.createElement("span",{className:qo},(0,Qe._i)(11141)):s.createElement("button",{className:qo,onClick:a},(0,Qe._i)(9753)),s.createElement("div",{className:"_38yEk _2kE-G"},(0,Qe._i)(12826,{learning_language_name:c,num_users:u.toLocaleString()})))},this.renderHatchedForm=()=>{const{dispatch:e,isRegistering:t,onStartLearningClick:n,topElementRef:o}=this.props;return s.createElement("div",null,s.createElement("div",{className:"_2SQ3H",ref:o},s.createElement(Ne.Z,{className:Jo["splash-cta"],color:"owl",disabled:t,onClick:n,variant:"solid"},(0,Qe._i)(7709))),s.createElement("div",null,s.createElement(Wo,{dispatch:e,via:"course_page"})))},this.renderCTA=()=>{const{course:e,courseHatching:t,isDesktop:n,isEmailInputVisible:o}=this.props,{estimatedBetaDateString:i="",fromLanguageName:r,learningLanguageName:a}=e,l=t?(0,Qe._i)(8291,{from_language_name:r,learning_language_name:a}):(0,Qe._i)(n?18929:13834,{learning_language_name:a}),c=t&&i&&!o;return s.createElement("div",{className:Jo["cta-container"],key:"cta-container"},c?s.createElement("h2",{className:"_2ooXi"},(0,Qe._i)(7261,{beta_launch_date:i})):null,s.createElement("div",{className:Jo.headings},s.createElement("h1",{className:Jo.tagline},l)),s.createElement("div",{className:"_3Lgvp",onClick:e=>e.stopPropagation()},t?this.renderCourseHatchingForm():this.renderHatchedForm()))},this.renderHeroElement=()=>s.createElement(s.Suspense,{fallback:null},s.createElement(Ko,{learningLanguageId:this.props.course.learningLanguageId}))}render(){return s.createElement("div",{className:te()(Jo["splash-header-wrap"],Jo["full-height"])},s.createElement("div",{className:Jo["splash-header"]},this.renderHeroElement(),this.renderCTA()))}}const Qo=Xo;var ei=n(14092),ti=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};class ni extends s.Component{constructor(){super(...arguments),this.state={email:"",errorString:"",isEmailInputVisible:!1,isRegistering:!1,newlySubscribed:!1},this.onSubscribeClick=()=>ti(this,void 0,void 0,(function*(){const{course:e}=this.props,{learningLanguageId:t,fromLanguageId:n}=e;try{yield(0,ei.F)(!1,t,n,this.state.email),this.setState({isEmailInputVisible:!1,newlySubscribed:!0})}catch(e){this.setState({errorString:(0,Qe.H8)(11696)})}})),this.onStartLearningClick=()=>ti(this,void 0,void 0,(function*(){const{course:e,dispatch:t}=this.props,{learningLanguageId:n,fromLanguageId:o}=e;mt.Z.start("trial_user_creation"),this.setState({isRegistering:!0}),yield Promise.all([(0,j.j)("click",{screen:"course_splash",target:"get_started"}),(0,j.j)("course_splash_tap",{target:"get_started"})]),t((0,Te.Kb)(n,o))}))}render(){const{course:e,courseHatching:t,dispatch:n,isDesktop:o,topElementRef:i}=this.props,{email:r,errorString:a,isEmailInputVisible:l,isRegistering:c,newlySubscribed:u}=this.state;return s.createElement(Qo,{course:e,courseHatching:t,dispatch:n,email:r,errorString:a,isDesktop:o,isEmailInputVisible:l,isRegistering:c,newlySubscribed:u,onEmailChange:e=>this.setState({email:e}),onNotifyMeClick:()=>this.setState({isEmailInputVisible:!0}),onStartLearningClick:this.onStartLearningClick,onSubscribeClick:this.onSubscribeClick,topElementRef:i})}}const oi=ni,ii=({children:e})=>{const t=s.createElement("div",{className:Jo["content-section-divider"]}),n=s.Children.toArray(e),o=(n.length,n.filter((e=>!!e)).map(((e,n)=>s.createElement(s.Fragment,{key:n},0!==n?t:null,e,null))));return s.createElement("div",{className:Jo["splash-content-wrap"]},o)};var ri=n(48982);const si=({ctaResource:e,trackingScreen:t})=>s.createElement("div",{className:Jo["footer-wrap"]},s.createElement("div",{className:Jo.footer},e?s.createElement("div",{className:Jo["footer-header"]},s.createElement("h1",{className:Jo["footer-tagline"]},(0,Qe._i)(e)),s.createElement(xe.Z,{className:te()((0,Ne.y)({color:"owl",variant:"solid"}),Jo["footer-cta"]),href:"/register",id:"signup-link",onClick:()=>{(0,j.j)("splash_tap",{target:"get_started"}),(0,j.j)("click",{which:"splash page get started bottom"})},trackingScreen:t,trackingTarget:"get_started"},(0,Qe._i)(18550))):null,s.createElement(ri.YM,null),s.createElement(ri.Ml,null),(0,_e.J9)()?s.createElement(ri.dw,null):null)),ai="_3hwU0 _2dZP2";const li=e=>{const{className:t,dispatch:n,fromLanguageId:o,isRegistering:i,learningLanguageId:r,label:a=7709}=e;return s.createElement(Ne.Z,{className:te()(t,ai),color:"owl",disabled:i,onClick:()=>{return e=void 0,t=void 0,s=function*(){mt.Z.start("trial_user_creation"),yield Promise.all([(0,j.j)("click",{which:"course splash page get started topbar"}),(0,j.j)("course_splash_tap",{target:"get_started"})]),n((0,Te.Kb)(r,o))},new((i=void 0)||(i=Promise))((function(n,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}));var e,t,i,s},variant:"solid"},(0,Qe._i)(a))};var ci=n(54126),ui=n(64865),di=n(74597);const pi=({headingResource:e=4666,trackingScreen:t,via:n})=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-row-right"]},s.createElement("div",{className:Jo["content-text"]},s.createElement("h2",null,(0,Qe._i)(e)),s.createElement("div",{className:Jo["content-description"]},(0,Qe._i)(12387)),s.createElement("div",{className:Jo["app-button-container"]},s.createElement(ci.Z,{className:Jo["app-button"],href:di.Z.desktop?(0,Qe.H8)(22504):(0,ui.fy)({via:n}),onClick:()=>{(0,j.j)("click",{screen:t,target:"mobile_download_ios"}),(0,j.j)("click",{which:"mobile download ios"}),(0,j.j)("web_to_app_store_tap",{target:"apple",via:n})},type:"apple",via:n}),s.createElement(ci.Z,{className:Jo["app-button"],href:di.Z.desktop?(0,ui.A)({utmCampaign:"splash",utmContent:"download_button"}):(0,ui.Ir)({via:n}),onClick:()=>{(0,j.j)("click",{screen:t,target:"mobile_download_android"}),(0,j.j)("click",{which:"mobile download android"}),(0,j.j)("web_to_app_store_tap",{target:"google_or_China",via:n})},type:(0,_e.J9)()?"china":"google"}))),s.createElement("div",{className:Jo["travel-img"]}))),mi=({description:e,iconClassName:t,onClick:n,title:o})=>s.createElement("div",{className:Jo["small-content-wrap"],onClick:n},s.createElement("div",{className:t}),s.createElement("div",{className:Jo["small-content-text-wrap"]},s.createElement("h3",null,o),s.createElement("div",{className:Jo["content-description-small"]},e))),gi=e=>e.replace(/<a href="(.*?)">/g,`<a class="${Jo.link}" href="$1">`),hi=({headingResource:e=17123,learningLanguageName:t})=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-column"]},s.createElement("div",{className:Jo["gamification-img-top"]}),s.createElement("h2",null,t?(0,Qe._i)(e,{learning_language_name:t}):(0,Qe._i)(29903)),s.createElement("div",{className:Jo["gamification-columns"]},s.createElement("div",{className:Jo["gamification-column"]},s.createElement(mi,{description:(0,Qe._i)(32749,{href:"/efficacy"},{preprocess:gi}),iconClassName:Jo["streak-icon"],onClick:e=>{var t;"a"===(null===(t=e.target.tagName)||void 0===t?void 0:t.toLowerCase())&&(0,j.j)("duolingo_landing_efficacy_cta",{})},title:(0,Qe._i)(32748)}),s.createElement(mi,{description:(0,Qe._i)(29907),iconClassName:Jo["check-icon"],title:(0,Qe._i)(29906)})),s.createElement("div",{className:Jo["gamification-img"]}),s.createElement("div",{className:Jo["gamification-column"]},s.createElement(mi,{description:(0,Qe._i)(29909),iconClassName:Jo["crown-icon"],title:(0,Qe._i)(29908)}),s.createElement(mi,{description:(0,Qe._i)(29911),iconClassName:Jo["profile-icon"],title:(0,Qe._i)(29910)}))))),_i=({learningLanguageName:e,trackingScreen:t})=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-row-left"]},s.createElement("div",{className:Jo["duo-img"]}),s.createElement("div",{className:Jo["content-text"]},s.createElement("h2",null,e?(0,Qe._i)(3721,{learning_language_name:e}):(0,Qe._i)(29901)),s.createElement("div",{className:Jo["content-description"]},s.createElement(xe.P,{trackingScreen:t,trackingTarget:"proof"},e?`${(0,Qe.H8)(20266,{learning_language_name:e})} `:(0,Qe._i)(29902),e?(0,Qe._i)(17300):null))))),vi=()=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-row-left"]},s.createElement("div",{className:Jo["plus-duo-img"]}),s.createElement("div",{className:Jo["content-text"]},s.createElement("h2",null,(0,Qe._i)(24097)),s.createElement("div",{className:Jo["content-description"]},(0,Qe._i)(29897,{num_days:14})),s.createElement(xe.Z,Object.assign({},(0,Xe._q)(nt.V.LearnWithPlus),{className:Jo["blue-link"],href:"/plus"}),(0,Qe._i)(7669))))),fi=({trackingScreen:e})=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-row-left"]},s.createElement("div",{className:Jo["school-img"]}),s.createElement("div",{className:Jo["content-text"]},s.createElement("h2",null,(0,Qe._i)(13199)),s.createElement("div",{className:Jo["content-description"]},(0,Qe._i)(29898)),s.createElement(xe.Z,{className:Jo["blue-link"],href:"https://schools.duolingo.com",onClick:()=>(0,j.j)("click",{which:"web splash schools"}),trackingScreen:e,trackingTarget:"schools"},(0,Qe._i)(14816))))),yi=(0,Nt.Z)((()=>n.e(7408).then(n.bind(n,97408)))),Ei=({course:e,courseHatching:t,dispatch:n,isDesktop:o,showTopbarButtons:i,topElementRef:r})=>{const{fromLanguageId:a,learningLanguageId:l,learningLanguageName:c}=e,u=s.createElement(ii,null,s.createElement(_i,{dispatch:n,learningLanguageName:c,trackingScreen:"course_splash"}),s.createElement(hi,{learningLanguageName:c}),s.createElement(vi,null),s.createElement(pi,{headingResource:1150,trackingScreen:"course_splash",via:"course_splash"}),(0,_e.J9)()?null:s.createElement(fi,{trackingScreen:"course_splash"}));return s.createElement(s.Fragment,null,s.createElement(Fo.Z,{content:(0,Qe.H8)(6807,{learning_language_name:c}),title:`${(0,Qe.H8)(3053,{learning_language_name:c})} - ${(0,Qe.H8)(23227)}`}),s.createElement(Zo,{dispatch:n,showButtons:i,simple:!0,trackingScreen:"course_splash",via:"course_splash"},s.createElement(li,{className:te()(i?Vo.Z["hidden-on-mobile"]:Vo.Z["hidden-everywhere"]),dispatch:n,fromLanguageId:a,isRegistering:!1,label:18550,learningLanguageId:l})),s.createElement(oi,{course:e,courseHatching:t,dispatch:n,isDesktop:o,topElementRef:r}),u,s.createElement(si,{trackingScreen:"course_splash"}),s.createElement(Re,null,s.createElement(yi,null)))},bi=new class{constructor(){this.ticking=null,this.handlers=[],this.onFrameRequest=()=>{this.handlers.forEach((e=>e())),this.ticking=null},this.requestTick=()=>{null===this.ticking&&(this.ticking=requestAnimationFrame(this.onFrameRequest))}}addListener(e){0===this.handlers.length&&(document.addEventListener("scroll",this.requestTick),window.addEventListener("resize",this.requestTick,!1),this.requestTick()),this.handlers.push(e)}removeListener(e){1===this.handlers.length&&(document.removeEventListener("scroll",this.requestTick),window.removeEventListener("resize",this.requestTick,!1),null!==this.ticking&&(cancelAnimationFrame(this.ticking),this.ticking=null)),this.handlers=this.handlers.filter((t=>t!==e))}};class Si extends s.Component{constructor(e){super(e),this.handleViewportChange=()=>{const{onViewportChange:e}=this.props,t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,[o,i]=this.partitionCurrentWatchedElementRefs(),[r,s]=this.partitionInViewportElementRefs(n,t);e({elementRefsInViewport:r,elementRefsNotInViewport:s,elementRefsNotSet:i,elementRefsSet:o,viewportHeight:t,viewportWidth:n})},this.partitionCurrentWatchedElementRefs=()=>{const{elementRefsToWatch:e}=this.props;return d.uK(e,(e=>null!==e.current))},this.partitionInViewportElementRefs=(e,t)=>{const{elementRefsToWatch:n}=this.props;return d.uK(n,(n=>{const o=n.current;if(null===o)return!1;const i=o.getBoundingClientRect();return i.bottom>0&&i.right>0&&i.left<e&&i.top<t}))},bi.addListener(this.handleViewportChange)}componentWillUnmount(){bi.removeListener(this.handleViewportChange)}render(){return null}}const wi=Si;var Ti=n(26886),Ii=n(74245);const ki=({history:e,location:t,match:{params:n}})=>{const o=(0,pe.tX)(),i=(0,pe.Fx)(ue.Mb),r=(0,pe.Fx)(ue.$4),[a,l]=s.useState(!1),[c,u]=s.useState(),d=s.useRef(null);s.useEffect((()=>{let o=!0;(0,Lt.Bf)(t,"course_splash");const{fromLanguageId:i=Ii.h9,learningLanguageId:r}=n;var s,a,l,c;s=void 0,a=void 0,c=function*(){const e=yield ge._s.courseShow(r,i);o&&(u(e),(0,j.j)("course splash",{course_id:`${e.learningLanguageId}<-${e.fromLanguageId}`,logged_in:!1}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l((function(e){e(i)}))).then(n,o)}i((c=c.apply(s,a||[])).next())}));const d=(0,Ti.og)(r,i);return t.pathname!==d&&e.push({pathname:d,search:t.search}),()=>{o=!1}}),[]);const p=s.useCallback((({elementRefsInViewport:e})=>{l(e.length>0)}),[]);if(!c)return null;const{fromLanguageId:m,learningLanguageId:g,phase:h}=c,_=h===Ii.AP.Active&&!(0,Ti.s7)(i,m,!1,g,h);return s.createElement(s.Fragment,null,s.createElement(Ei,{course:c,courseHatching:_,dispatch:o,isDesktop:r,showTopbarButtons:!a,topElementRef:d}),s.createElement(wi,{elementRefsToWatch:[d],onViewportChange:p}),s.createElement(Uo,{crumbs:[{label:(0,Qe.H8)(23227),url:new URL(`${window.location.protocol}//${window.location.host}`)},{label:(0,Qe.H8)(20631),url:new URL(`${window.location.protocol}//${window.location.host}/courses`)}]}))};var Ri=n(97015),Ci=n(13325);const Oi="CA8O7 _2ciGU _1DGat";class Ni extends s.Component{constructor(){super(...arguments),this.state={show:!0}}componentDidMount(){this.state.show&&di.Z.android&&!di.Z.silk&&((0,j.j)("android_banner_load",{}),(0,j.j)("web_to_app_store_load",{via:"Android_banner"}))}render(){const{show:e}=this.state;return e&&di.Z.android&&!di.Z.silk?s.createElement("div",{className:"_15MEM"},s.createElement("div",{className:"_2BbZ4 _96iJP _1TSHz _1G1lu"}),s.createElement("div",{className:"pZc1g"},s.createElement("div",null,s.createElement("div",{className:"_3xdYT"},(0,Qe._i)(20861)),s.createElement("span",{className:"_33TRp"},"4.7"),s.createElement("span",{className:Oi}),s.createElement("span",{className:Oi}),s.createElement("span",{className:Oi}),s.createElement("span",{className:Oi}),s.createElement("span",{className:"nqTry _2ciGU _1DGat"},s.createElement("span",{className:"_7EH26 CA8O7 _2ciGU _1DGat",style:{width:"70%"}})),s.createElement("span",{className:"_2HDbl"},"5,000,000+")),s.createElement("div",{className:"_1E3JA"},s.createElement("span",{className:"_2Jt9X _1DGat"}),s.createElement(xe.Z,{className:"qdLIR",href:(0,ui.A)({isAndroidBanner:!0,utmCampaign:"splash_mobile_banner",utmContent:"mobile_banner"}),onClick:()=>{(0,j.j)("click",{which:"mobile banner android"}),(0,j.j)("android_banner_tap",{target:"install"}),(0,j.j)("web_to_app_store_tap",{target:"google_or_China",via:"Android_banner"})},target:"_blank"},(0,Qe._i)(4441))),s.createElement("button",{className:"N3mdh _2kfEr _1nlVc _2fOC9 UCrz7 t5wFJ _1DGat",onClick:()=>{(0,j.j)("android_banner_tap",{target:"dismiss"}),this.setState({show:!1})}}))):null}}var Pi=n(42158);const Li=()=>(s.useEffect((()=>{di.Z.android&&ui.DQ&&!di.Z.silk&&(0,j.j)("china_apk_banner_load",{})}),[]),di.Z.android&&ui.DQ&&!di.Z.silk?s.createElement("div",{className:"_1kCfg"},s.createElement("img",{className:"_9_BAg",src:Pi}),s.createElement("div",null,s.createElement("div",{className:"_2AneV"},"下载多邻国安卓端 APP 开始免费学习")),s.createElement("div",{className:"_259Cr",onClick:()=>(0,ui.ci)("splash-banner")},"去下载")):null),Ai=({logo:e,name:t,sameAs:n,url:o})=>{const i={"@type":"Organization",logo:e,name:t,sameAs:n,url:o};return s.createElement(Mo,{data:i})},Di=({sameAs:e})=>s.createElement(Ai,{logo:"https://d35aaqx5ub95lt.cloudfront.net/images/logo-with-duo.png",name:"Duolingo",sameAs:e,url:"https://www.duolingo.com/"}),xi=e=>{const{className:t="",trackingScreen:n}=e;return s.createElement(xe.Z,{className:te()(t,(0,Ne.y)({color:"owl",variant:"solid"}),ai),href:"/register",id:"signup-link",onClick:()=>{(0,j.j)("splash_tap",{target:"get_started"}),(0,j.j)("click",{which:"splash page get started topbar"})},trackingScreen:n,trackingTarget:"get_started"},(0,Qe._i)(18550))};var Mi=n(54412);class Ui extends s.Component{constructor(){super(...arguments),this.state={dismissed:!1},this.onClose=()=>{this.setState({dismissed:!0}),(0,Mi.d8)(Mi.Vj.Gdpr,"true")}}render(){return this.state.dismissed||!(0,Qe.k_)(this.props.config)||(0,Mi.ej)(Mi.Vj.Gdpr)?null:s.createElement("div",{className:"PTev0"},s.createElement("div",{className:"_387Ys"},s.createElement("span",{className:"_1rf3j"},(0,Qe._i)(11064)),s.createElement("button",{className:"_3w0eR _1DC8p _2jNpf",onClick:this.onClose})))}}const Fi=(0,l.$j)((e=>({config:(0,ue.Mb)(e)})))(Ui);var ji=n(40851),Bi=n(56090),Hi=n(33096);const Gi={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",wrap:"_3l_Dd","language-chooser-header":"_1Ii2h","from-language-chooser-list":"_1N6uu","from-language-item":"_2IaY3","from-language-flag":"_3g9Q_","from-language-bottom":"kkmpJ","white-stroke-transparent":"_3r8CI _1NnRQ whuSQ _2gwtT _1nlVc _2fOC9 t5wFJ _3dtSu _25Cnc _3yAjN UCrz7 yTpGk","loading-container":"_1JZrk"},Vi={de:4,es:0,fr:3,pt:1,ru:2},Zi=({availableCourses:e,isNavigating:t,isSelectingFromLanguage:n,onChooseAnotherCourseClick:o,onFromLanguageClick:i,onSelectCourse:r,selectedLearningLanguage:a,uiLanguageId:l})=>{let c=!1;const u=e.filter((e=>{const{fromLanguageId:t,learningLanguageId:n}=e;return t===l||"en"===l&&"en"===n&&!c&&(c=!0,!0)})).map((e=>{const{learningLanguageId:t}=e;return"en"===l&&"en"===t?Object.assign(Object.assign({},e),{numLearners:479e4,numLearnersString:`${4.79.toPrecision(3)}M`}):e}));return s.createElement("div",{className:Gi.wrap},s.createElement("h1",{className:Gi["language-chooser-header"],key:"header"},n?a?"What language do you speak?":(0,Qe._i)(16916):(0,Qe._i)(13091)),t?s.createElement("div",{className:Gi["loading-container"]},s.createElement(Ci.Z,{type:"screen"})):s.createElement(s.Fragment,null,n?s.createElement("ul",{className:Gi["from-language-chooser-list"]},d.MR(e.filter((({learningLanguage:e})=>!a||e===a)),(e=>e.fromLanguage in Vi?Vi[e.fromLanguage]:1/0)).map((({fromLanguageId:e})=>s.createElement("li",{className:Gi["from-language-item"],key:e,onClick:t=>i(t,e)},s.createElement(zo.Z,{className:Gi["from-language-flag"],lang:e,size:40}),(0,Ii.lx)(e))))):s.createElement("ul",{className:Hi.Z["course-card-container"]},d.MR(u,(e=>-e.numLearners)).map((e=>{const t="en"===l&&"en"===e.learningLanguageId;return s.createElement(Bi.Z,{className:Gi["choose-language"],course:e,"data-language":(0,Ii.D3)(e.learningLanguageId),headingTag:"h2",key:"en"===l&&"en"===e.learningLanguageId?"english-placeholder":e.learningLanguageId,onSelectCourse:n=>{r(e,t,n)},theme:"transparent"})}))),n?s.createElement("div",{className:Gi["from-language-bottom"]},s.createElement("p",null,"Don’t see the language you speak? We’re still working on an English course for you. Coming soon!"),s.createElement("button",{className:Gi["white-stroke-transparent"],onClick:o},"Choose another course")):null))};class Wi extends s.Component{constructor(){super(...arguments),this.state={isNavigating:!1,isSelectingFromLanguage:!1},this.onFromLanguageClick=({},e)=>{return t=this,n=void 0,i=function*(){const{dispatch:t,location:n}=this.props,o=window.performance.now();if(this.state.selectedLearningLanguage)(0,j.j)("course_picker_tap",{from_language:(0,Ii.D3)(e),learning_language:"en",target:"course",via:"onboarding"}),window.scrollTo(0,0),this.setState({isNavigating:!0}),(0,pt.vl)(n.search).short?yield(0,K.Zs)(`//${e}.duolingo.com/welcome/${this.state.selectedLearningLanguage}?short=1`):(mt.Z.start("trial_user_creation",{startTime:o}),t((0,Te.Kb)(this.state.selectedLearningLanguage,e)));else{yield(0,j.j)("ui_picker_screen_tap",{});const t=`//${"zh"===e?"zh-CN":e}.duolingo.com/register`;yield(0,K.Zs)(t)}},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}l((i=i.apply(t,n||[])).next())}));var t,n,o,i},this.onChooseAnotherCourseClick=()=>{this.setState({isSelectingFromLanguage:!1,selectedLearningLanguage:void 0})},this.onSelectCourse=(e,t)=>{const{dispatch:n,history:o,location:i,trackingScreen:r}=this.props,s=window.performance.now();(0,j.j)("click",{screen:r,target:"flag"}),(0,j.j)("course_selected",{learning_language:(0,Ii.D3)(e.learningLanguageId),ui_language:(0,Ii.D3)(Ii.h9)}),n({type:"SET_SHOULD_TRACK_SEE_SKILL_TREE"}),(0,j.j)("course_picker_tap",{from_language:(0,Ii.D3)(Ii.h9),learning_language:(0,Ii.D3)(e.learningLanguageId),target:"course",via:"onboarding"}),t?this.setState({isSelectingFromLanguage:!0,selectedLearningLanguage:e.learningLanguageId}):(window.scrollTo(0,0),this.setState({isNavigating:!0,selectedLearningLanguage:e.learningLanguageId}),(0,pt.vl)(i.search).short?o.push(`/welcome/${e.learningLanguageId}?short=1`):(mt.Z.start("trial_user_creation",{startTime:s}),this.props.dispatch((0,Te.Kb)(e.learningLanguageId))))}}componentDidMount(){(0,j.j)("course_picker_load",{ui_language:Ii.h9,via:"onboarding"})}render(){const{availableCourses:e}=this.props,{isNavigating:t,isSelectingFromLanguage:n,selectedLearningLanguage:o}=this.state;return s.createElement(Zi,{availableCourses:e,isNavigating:t,isSelectingFromLanguage:n,onChooseAnotherCourseClick:this.onChooseAnotherCourseClick,onFromLanguageClick:this.onFromLanguageClick,onSelectCourse:this.onSelectCourse,selectedLearningLanguage:o,uiLanguageId:Ii.h9})}}const zi=(0,c.EN)((0,l.$j)()(Wi));var Yi=n(90194);const $i=({availableCourses:e,dispatch:t,isChoosingLanguage:n,trackingScreen:o})=>{const i=n;let a;if(n)a=s.createElement(zi,{availableCourses:e,trackingScreen:o});else{const e=s.createElement(xe.Z,Object.assign({className:te()((0,Ne.y)({color:"owl",variant:"solid"}),Jo["splash-cta"]),href:"/register",id:"signup-link"},(0,Xe._q)(nt.V.GetStartedTop),{onClick:()=>{(0,j.j)("splash_tap",{target:"get_started"}),(0,j.j)("click",{which:"splash page get started top"})},trackingScreen:o,trackingTarget:"get_started"}),(0,Qe._i)(18550)),n=["zh","zh-CN"].includes(window.duo.uiLanguage)&&di.Z.desktop&&ui.DQ?s.createElement("div",{className:Jo["china-apk-download"],onClick:()=>(0,ui.ci)("splash-page")},s.createElement("img",{className:Jo["china-apk-download-icon"],src:Yi}),s.createElement("span",{className:Jo["china-apk-download-message"]},"下载安卓端 APP (44 MB)"),s.createElement("img",{className:Jo["china-apk-download-qrcode"],src:"https://android-release.duolingo.cn/download-qr.png"})):null;a=s.createElement(s.Fragment,null,s.createElement(Ko,{variant:di.Z.android?Ko.VARIANTS.SHORT:Ko.VARIANTS.SHORTER}),s.createElement("div",{className:Jo["cta-container"],key:"cta-container"},s.createElement("h1",{className:Jo.tagline},(0,Qe._i)(29896)),s.createElement("div",{className:Jo["splash-cta-container"]},e),s.createElement("div",{className:Jo["already-have-account-container"]},s.createElement(Wo,{dispatch:t,trackingScreen:o,via:"onboarding"})),s.createElement("div",{className:Jo["china-apk-download-button-container"]},n)))}return s.createElement("div",{className:te()(Jo["splash-header-wrap"],i?Jo["full-height"]:Jo["prevent-long-splash"])},s.createElement("div",{className:Jo["splash-header"]},a),i?null:s.createElement("div",{className:Jo["splash-bottom"]},s.createElement(ji.Z,{className:te()(Jo["language-carousel"],Jo["hidden-on-mobile"]),onCarouselItemClick:()=>(0,j.j)("click",{which:"splash page flag"}),trackingScreen:o}),r.U9?null:s.createElement(Fi,null)))},Ki=({trackingScreen:e})=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-row-right"]},s.createElement("div",{className:Jo["content-text"]},s.createElement("h2",null,(0,Qe._i)(14855)),s.createElement("div",{className:Jo["content-description"]},(0,Qe._i)(29899)),s.createElement(xe.Z,{className:Jo["blue-link"],href:"https://englishtest.duolingo.com",onClick:()=>(0,j.j)("click",{which:"web splash det"}),trackingScreen:e,trackingTarget:"det"},(0,Qe._i)(29900))),s.createElement("div",{className:Jo["english-test-img"]}))),qi=()=>s.createElement("section",{className:Jo["content-section"]},s.createElement("div",{className:Jo["content-wrap-row-left"]},s.createElement("div",{className:Jo["efficacy-img"]}),s.createElement("div",{className:Jo["content-text"]},s.createElement("h2",null,(0,Qe._i)(32750)),s.createElement("div",{className:Jo["content-description"]},(0,Qe._i)(32751)),s.createElement(xe.Z,{className:Jo["blue-link"],href:"/efficacy",onClick:()=>(0,j.j)("duo_plus_efficacy_cta",{})},(0,Qe._i)(32752)))));var Ji=n(85381),Xi=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Qi=(0,Nt.Z)((()=>n.e(7408).then(n.bind(n,97408)))),er=(0,Nt.Z)((()=>Promise.all([n.e(2668),n.e(1342),n.e(4e3)]).then(n.bind(n,85830)))),tr=()=>{const e=(0,pe.tX)(),t=(0,c.TH)(),{pathname:n,search:o}=t,i="/"===t.pathname;s.useEffect((()=>{i&&(0,Lt.Bf)(t,"splash")}),[i]);const r=(0,pt.vl)(o),a="/register"===n?"course_picker":"splash";s.useEffect((()=>{const{email:t,purchasePlus:n}=r;n&&(0,Ji.lP)({email:t,purchasePlus:n},e),window.location.host.startsWith("join")&&e({options:{goBack:()=>(0,K.Zs)(void 0,!0),isSignIn:!0,name:Be.tl.SignInUp,via:"onboarding"},type:"TOGGLE_MODAL"})}),[]),s.useEffect((()=>{"/log-in"===n&&((0,j.j)("sign_in_load",{screen:"splash_login_page",via:"onboarding"}),e({options:{allowLanguagelessUser:!0,isSignIn:!0,name:Be.tl.SignInUp,via:"onboarding"},type:"TOGGLE_MODAL"}))}),[n]),s.useEffect((()=>{(0,j.j)("screen_load",{screen:a})}),[a]),s.useEffect((()=>{mt.Z.finishOptional("splash_to_intro")}),[]);const[l,u]=s.useState(!0),d=s.useRef(null),p=s.useRef(null),m=(0,pe.PX)([],(()=>Xi(void 0,void 0,void 0,(function*(){return(yield ge._s.courseList()).filter((({phase:e})=>e>Ii.AP.Active))}))),[]),g=(0,Ii.Ho)()[Ii.h9],h=1===(null==g?void 0:g.length)&&"en"===(null==g?void 0:g[0]);return s.createElement("div",{className:Jo["splash-wrap"]},s.createElement("div",{className:Jo["splash-wrap-inner"]},(()=>{let e,t;switch(n){case"/":e=`${(0,Qe.H8)(23227)} - ${(0,Qe.H8)(10751)}`,t=(0,Qe.H8)(19956);break;case"/log-in":e=`${(0,Qe.H8)(18855)} - ${(0,Qe.H8)(23227)}`,t=(0,Qe.H8)(28228);break;case"/register":case"/register_user":e=`${(0,Qe.H8)(15785)} - ${(0,Qe.H8)(23227)}`,t=(0,Qe.H8)(1100);break;default:e=`${(0,Qe.H8)(23227)} - ${(0,Qe.H8)(10751)}`,t=(0,Qe.H8)(19956)}return s.createElement(s.Fragment,null,s.createElement(Fo.Z,{content:t}),s.createElement(Ri.q,null,s.createElement("title",null,e)))})(),s.createElement(Zo,{dispatch:e,showButtons:!l,simple:!0,trackingScreen:a,via:"onboarding"},s.createElement(xi,{className:te()(l?Vo.Z["hidden-everywhere"]:Vo.Z["hidden-on-mobile"]),trackingScreen:a})),s.createElement("span",{ref:d},s.createElement($i,{availableCourses:m,dispatch:e,isChoosingLanguage:"/register"===n||"/referred"===n,trackingScreen:a})),"/register"===n||"/referred"===n?null:s.createElement(s.Fragment,null,s.createElement(ii,null,s.createElement(_i,{dispatch:e,trackingScreen:a}),s.createElement(hi,null),s.createElement(vi,null),s.createElement(pi,{trackingScreen:a,via:"splash_page"}),(0,_e.J9)()?null:s.createElement(fi,{trackingScreen:a}),s.createElement(Ki,{trackingScreen:a}),s.createElement(qi,null)),s.createElement("span",{key:"footer-wrap",ref:p},s.createElement(si,{ctaResource:h?1521:591,trackingScreen:a}))),s.createElement(Re,null,s.createElement(Qi,null)),s.createElement(Re,null,s.createElement(er,null)),ui.DQ?s.createElement(Li,null):s.createElement(Ni,null),s.createElement(Di,{sameAs:["https://www.youtube.com/duolingo","https://twitter.com/duolingo","https://www.facebook.com/duolingo","https://www.linkedin.com/company/duolingo/","https://www.instagram.com/duolingo/","https://www.twitch.tv/Duolingo"]})),s.createElement(wi,{elementRefsToWatch:[d,p],onViewportChange:({elementRefsInViewport:e})=>u(e.length>0)}))},nr=(0,Nt.Z)((()=>n.e(9751).then(n.bind(n,49751)))),or=({children:e,location:t,match:{params:n}})=>{const o=(0,R.Pc)();return(0,pe.$h)(o,["/enroll",n.learningLanguageId,n.fromLanguageId,n.text].reduceRight(((e,t)=>t?e?`${t}/${e}`:t:""),""),t.search),o?null:s.createElement(s.Fragment,null,e)},ir=()=>((0,pe.$h)(!0,"/"),null),rr=[s.createElement(c.AW,{component:()=>{const e=(0,pe.tX)(),t=(0,c.k6)(),n=(0,c.TH)(),o=(0,R.Pc)();s.useEffect((()=>{const e=(0,pt.vl)(n.search);if("/referred"===n.pathname)if(o){const n=e.inviter_id;n?t.replace(`/u/${n}?via=referral`):t.replace(K.B6)}else{(0,j.j)("referral click",{});const t=e.user_invite;t&&Xi(void 0,void 0,void 0,(function*(){yield ge.xr.trackSplashLoad(t),(0,se.LS)(se.Qt.InviteCode,t)}))}else if(o){const e="/register"===n.pathname?"/welcome":K.B6;(0,j.mh)(window.location.href,e,"soft"),t.replace({pathname:e,search:n.search})}}),[o]);const i=(0,c.$B)("/register/:languageId"),r=!o&&null!==i;return s.useEffect((()=>{if(r){const{params:{languageId:n}}=i;(0,Ii.jO)(n)?e((0,Te.Kb)(n)):t.replace("/")}}),[r]),o?null:r?s.createElement(Ci.Z,{type:"screen-white"}):s.createElement(tr,null)},exact:!0,key:"splash",path:["/","/log-in","/referred","/register","/register/:languageId","/register_user"]}),s.createElement(c.AW,{component:nr,exact:!0,key:"classroom",path:["/classroom","/classroom/:classroomCode"]}),s.createElement(c.AW,{key:"course",path:"/course/:learningLanguageId/:fromLanguageId?/:text?",render:e=>s.createElement(or,Object.assign({},e),s.createElement(ki,Object.assign({},e)))}),...d.XP((0,Ii.Ho)()).map((e=>s.createElement(c.AW,{component:ir,key:e,path:`/${(0,Ii.D3)(e)}`})))];var sr=n(50548),ar=n(88787),lr=n(3800);let cr;console.log(`On commit https://github.com/duolingo/duolingo-web/commit/${window.duo.version}`),lr.h&&console.log("Showing only plain info"),document.documentElement.lang=window.duo.uiLanguage,window.location.host!==K.Vb&&window.location.host!==K.a_&&"true"===(0,Mi.ej)(Mi.Vj.RedirectToPreview)&&(0,K.Zs)((0,K.gg)(window.location.href),!0),v.Au()&&(0,Ti.KO)();try{cr=(0,R.Jb)()}catch(e){}const ur=(0,Y.xC)(((e=(0,u.from)({}),t)=>{(0,z.cj)(t);const n=e.user;return"RESET_STATE"===t.type&&(e=(0,Y.Dg)("Resetting state")),n!==(e=$(e,t)).user&&(0,z.av)(e.user),e}),(0,Y.aY)(cr));(0,At.Sk)(ur.getState().user)&&v.R(),(()=>{const e=(0,Mi.ej)(Mi.Vj.JWT);e&&((0,Mi.nJ)(Mi.Vj.JWT),(0,Mi.d8)(Mi.Vj.JWT,e,!0,!(0,_e.J9)()))})(),(0,Lt.vi)();const dr=["/","/learn"].includes(window.location.pathname);if(cr)console.log("User is logged in"),dr&&mt.Z.start("splash_to_home");else{console.log("User is not logged in"),dr&&mt.Z.start("splash_to_intro");const e=(0,Mi.ej)(Mi.Vj.LoggedOutUUID);e&&j.XZ(e),(0,o.dl)()}z.YJ((e=>{var t,n,o,i;return j.j("chunk_download_failure",{offline:!navigator.onLine,path:null!==(i=null===(o=/\n\((error: )?(.*?)\)$/.exec(null!==(n=null===(t=e.body.trace)||void 0===t?void 0:t.exception.message)&&void 0!==n?n:""))||void 0===o?void 0:o.slice(-1)[0])&&void 0!==i?i:""})})),z._b((e=>{var t,n,o,i,r;["Cannot load facebook SDK","Cannot load google SDK"].includes(null===(t=e.body.trace)||void 0===t?void 0:t.exception.message)||(null===(o=null===(n=e.body.trace)||void 0===n?void 0:n.exception.message)||void 0===o?void 0:o.startsWith("Request failed with status code "))||j.j("app_crash",{crash_message:null===(i=e.body.trace)||void 0===i?void 0:i.exception.message,crash_type:null===(r=e.body.trace)||void 0===r?void 0:r.exception.class,rollbar_uuid:e.uuid})}));const pr=(0,pt.Lm)();var mr,gr,hr,_r;j.d6(pr)&&j.Cm(pr),j.j("app_open",{}),(0,Mi.ej)(Mi.Vj.ShouldTrackWelcome)&&(j.j("welcome",{}),(0,Mi.nJ)(Mi.Vj.ShouldTrackWelcome)),(0,a.render)(s.createElement(l.zt,{store:ur},s.createElement(c.F0,{history:sr.m},s.createElement((()=>{const e=(0,c.TH)(),t=(0,R.Pc)(),n=(0,v.Au)(),o=s.useMemo((()=>(e=>co((e=>[...e?[]:[{components:[({location:e})=>s.createElement(c.l_,{to:{pathname:"/",search:e.search}})],path:K.B6}],{props:{userMustBeLoggedIn:!0},subroutes:[{components:[$t],subroutes:[{components:[Kt],path:K.B6},{components:[qt],path:"/shop"},{components:[so],path:"/characters"},{components:[lo],exact:!0,path:"/alphabets/:languageAbbrev/tips",props:mo},{components:[ao],path:"/alphabets/:languageAbbrev/tips/:groupIndex/:tipIndex",props:mo}]},{components:[Xt,Jt],props:go,subroutes:[{exact:!0,path:"/alphabets/:languageAbbrev/:alphabetSessionId"},{path:"/checkpoint/:languageAbbrev/:index/:urlType?"},{path:"/placement/:languageAbbrev"},{path:"/practice"},{path:"/preview/:skillId/:lesson"},{path:"/progress-quiz/:languageAbbrev"}]},{components:[nn,Jt],path:"/mistakes-review",props:go},{components:[Yt],exact:!0,path:"/guidebook/:languageAbbrev/:unitNumber",props:mo},{components:[Qt],path:"/skill",subroutes:[{components:[en,Xt,Jt],exact:!0,path:"/:languageAbbrev/:urlName",props:go},{components:[rn],path:"/:languageAbbrev/:urlName/tips-and-notes",props:mo},{components:[sn],path:"/:languageAbbrev/:urlName/tips",props:mo},{components:[Jt],path:"/:languageAbbrev/:urlName/:lesson(practice)",props:go},{components:[tn,Jt],path:"/:languageAbbrev/:urlName/:lesson(test)",props:go},{components:[Xt,Jt],path:"/:languageAbbrev/:urlName/:lesson",props:go}]},{components:[q],path:"/skill/*"},{components:[to],path:"/settings",subroutes:[{components:[no],exact:!0,path:"/"},{components:[ln],path:"/account"},{components:[cn],path:"/coach"},{components:[un],path:"/deactivate"},{components:[dn],path:"/direction"},{components:[pn],path:"/notifications"},{components:[mn],path:"/password"},{components:[gn],path:"/plus"},{components:[hn],path:"/profile"},{components:"experiment"===(0,Ct.j6)("schools_new_dweb_progress_share_setting",void 0)?[vn]:[_n],path:"/observer"},{components:[fn],path:"/reset_lang"},{components:"experiment"===(0,Ct.j6)("schools_new_dweb_progress_share_setting",void 0)?[vn]:[_n],path:"/schools"},{components:[yn],path:"/sound"},{components:[En],path:"/privacy"}]},{components:[on],path:"/progress-quiz"},{components:[kn],path:"/admin_tools"},{components:[an],path:"/new-comment",props:mo},{components:[Xn],path:"/user-search",props:mo},{components:[Qn],exact:!0,path:"/friend-updates"},{components:[eo],path:"/friend-updates/:kudosFilter"},{components:[bn],path:"/welcome/:linkCode?",props:go}]},{components:[Sn],subroutes:[{components:[wn],path:"/approach"},{components:[Tn],path:"/contact"},{components:[In],path:"/info"},{components:[Rn],path:"/team"}]},{components:[Vt],path:"/login-page",props:ho},{components:[Vn],path:"/abc-privacy"},{components:[Cn],path:"/art_commission"},{components:[Nn],path:"/courses/:fromLanguageId?"},{components:[ro],path:"/dictionary*"},{components:[Wt],path:"/forgot_password"},{components:[Zn],path:"/remove/:token/:email"},{components:[Pn],path:"/guidelines"},{components:[Ln],path:"/help"},{components:[()=>s.createElement(c.l_,{to:"join-beta"})],path:"/beta-app"},{components:[On],path:"/join-beta"},{components:[An],path:"/mobile"},{components:[Dn],path:"/participation"},...K.zl.map((e=>({components:[xn],path:e,props:ho}))),{components:[Mn],path:"/redeem",props:ho},...(0,v.gQ)("forceShowBusinessPage")?[{components:[Fn],path:"/business/checkout",props:ho},{components:[Un],path:"/business",props:ho}]:[],{components:[zt],path:"/reset_password/:client_abbrev?"},{components:[Bn],path:"/privacy"},{components:[Hn],path:"/terms"},{components:[jn],path:"/auto-renewal-agreement"},{components:[Gn],path:"/cookies"},{components:[Wn],path:"/verify/:token"},{components:[zn],path:"/words"},{components:[oo],exact:!0,path:"/stories"},{components:[io],path:"/stories/:storyId",props:go},{components:[$n],path:"/profile/:username",subroutes:[{path:"/followers"},{path:"/following"}]},{components:[qn],path:"/profile/:username/achievements"},{components:[Kn],path:"/friend-suggestions"},{components:[Jn],path:"/profile/:username/courses"},{components:[Zt],path:"/enroll/:learningLanguageId/:fromLanguageId?/:text?"},{components:[ao],path:"/alphabets/:languageAbbrev/:alphabetSessionId/tips",props:go},{props:{noMobileTopbar:e},subroutes:[{components:[Yn],path:"/profile/:username"},{components:[Yn],path:"/u/:userId"},{components:[Yn],exact:!0,path:"/:username"}]}])(e)).map((({exact:e,path:t,props:n,components:o=[]})=>s.createElement(c.AW,{exact:e,key:"app",path:t,render:e=>s.createElement(_o,{appProps:null!=n?n:{},components:o,routerProps:e})}))))(t)),[t,n]),[i,r]=s.useState(!1);if(!i){const t=(0,K.o_)(e);if(t.pathname!==e.pathname||t.search!==e.search)return s.createElement(c.l_,{to:t});r(!0)}return s.createElement(Ut,null,s.createElement(s.Suspense,{fallback:null},s.createElement(c.rs,null,...Eo,...rr,...n?fo:[],...Ht,s.createElement(c.l_,{from:"/labs",to:K.B6}),s.createElement(c.l_,{from:"/home",to:K.B6}),s.createElement(c.l_,{from:"/c",to:K.B6}),s.createElement(c.l_,{from:"/o/:classroomCode",to:"/classroom/:classroomCode"}),...xo,...o,s.createElement(c.AW,{component:q}))))}),null))),document.getElementById("root")),mr=void 0,gr=void 0,_r=function*(){try{yield ar.S1()}catch(e){console.warn(e)}},new((hr=void 0)||(hr=Promise))((function(e,t){function n(e){try{i(_r.next(e))}catch(e){t(e)}}function o(e){try{i(_r.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof hr?i:new hr((function(e){e(i)}))).then(n,o)}i((_r=_r.apply(mr,gr||[])).next())}))},40472:(e,t,n)=>{"use strict";n.d(t,{y:()=>s,M:()=>m});const o=[["...","…"]],i=["ca","cs","cy","da","de","en","eo","es","fi","fr","ga","gd","ht","hu","hv","hw","id","it","la","mi","nl-NL","no-BO","pl","pt","ro","sv","sw","tl","tr","vi","xx-ZB","yu"],r=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!==t[n])return n;return e.length},s=e=>i.includes(e),a=[['[’\\"´‘`′ʻ́̀´]',"'"],["¡","!"],["¿","?"]];class l{constructor(e,t={}){this.match=(e,t)=>{e=this.normalize(e);const n=null!=t?t:this.originalTokens,o=t?t.map((e=>this.normalize(e))):this.tokens;let i,r=0;return{highlights:o.map(((t,o)=>{const s=this.matchToken(t,e);return s.index>0&&(s.isComposing?i=-1:void 0===i?i=o:i>-1&&this.normalizeWithoutAccents(n[i])!==this.normalizeWithoutAccents(n[o])&&(i=-1),r++),s})),match:null!=i?i:-1,partialMatches:r}},this.matchAlias=(e,t)=>{var n,o;const i=null!==(o=null===(n=this.options.aliases)||void 0===n?void 0:n.filter((([,t])=>t===e)))&&void 0!==o?o:[];let s;for(const[e]of i){const n=r(e,t);n>0&&(!s||n>s.length)&&(s={isComposing:n<e.length,length:n})}return s},this.matchToken=(e,t)=>{const n={index:0,isComposing:!1};for(let o=0,i=0;o<t.length;o++,i++){if(t[o]===e[i]){n.index++;continue}const r=this.matchAlias(e[i],t.slice(o));if(!r||r.isComposing&&r.length!==t.length-o)return{index:0,isComposing:!1};n.index++,n.isComposing=r.isComposing,o+=r.length-1}return n},this.normalize=e=>(e=this.normalizeAccents(e),e=this.normalizeCase(e),this.normalizePatterns(e)),this.normalizeAccents=e=>{const{accentedCharacterMap:t}=this.options;return t&&(e=e.split("").map((e=>{var n;return null!==(n=t[e])&&void 0!==n?n:e})).join("")),e},this.normalizeCase=e=>{const{ignoreCase:t}=this.options;return t?e.toLowerCase():e},this.normalizePatterns=e=>{const{normalizationData:t}=this.options;return null==t||t.forEach((([t,n])=>{e=e.replace(new RegExp(t,"g"),n)})),e},this.normalizeWithoutAccents=e=>(e=this.normalizeCase(e),this.normalizePatterns(e)),this.options=Object.assign({normalizationData:a},t),this.originalTokens=e,this.tokens=e.map((e=>this.normalize(e)))}}class c extends l{constructor(e,t={}){var n;super(e,Object.assign(Object.assign({},t),{aliases:[["ae","æ"],...null!==(n=t.aliases)&&void 0!==n?n:o]}))}}class u extends l{constructor(e,t={}){var n;super(e,Object.assign(Object.assign({},t),{aliases:null!==(n=t.aliases)&&void 0!==n?n:o}))}}class d extends l{constructor(e,t={}){var n;super(e,Object.assign(Object.assign({},t),{aliases:[["ae","æ"],["oe","œ"],...null!==(n=t.aliases)&&void 0!==n?n:o]}))}}class p extends l{constructor(e,t={}){var n;super(e,Object.assign(Object.assign({},t),{aliases:[["ss","ß"],...null!==(n=t.aliases)&&void 0!==n?n:o]}))}}const m=e=>{switch(e){case"da":case"no-BO":return(...e)=>new c(...e);case"de":return(...e)=>new p(...e);case"fr":return(...e)=>new d(...e);default:return(...e)=>new u(...e)}}},70220:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});const o=matchMedia("(prefers-reduced-motion: reduce)").matches},84389:(e,t,n)=>{"use strict";n.d(t,{bK:()=>c,GC:()=>p,H2:()=>m,Ay:()=>g,A9:()=>h,Kv:()=>_,Mw:()=>v,an:()=>f,vO:()=>y,ET:()=>E,$9:()=>b,UK:()=>S,xu:()=>w,Si:()=>T,mh:()=>I,jO:()=>k});var o=n(99369),i=n(89454),r=n(13840),s=n(87471),a=n(35160),l=n(11908);const c="strategist",u={champion:{displayString:7018,getCompletedDescription:(e,t,n)=>{const o=e-1;if(0===o)return(0,r.H8)(t?27195:15352,{name:n});const i=(0,r.H8)(s.Vq[o]);return(0,r.H8)(t?27196:5667,{league:i,name:n})},getDescription:e=>{const t=e-1;if(0===t)return(0,r.H8)(18931);const n=(0,r.H8)(s.Vq[t]);return(0,r.H8)(9836,{league:n})},position:4},conqueror:{displayString:6676,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27197:17870,{name:n,number:e}),getDescription:e=>(0,r.H8)(24339,{number:e}),position:6},friendly:{displayString:2148,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27198:21686,{name:n}),getDescription:()=>(0,r.H8)(6105),position:10},legendary:{displayString:31855,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27199:7181,{name:n}),getDescription:()=>(0,r.H8)(13781),position:8},overtime:{displayString:19748,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27200:11321,{name:n}),getDescription:()=>(0,r.H8)(10191),position:11},photogenic:{displayString:20036,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27201:22947,{name:n}),getDescription:()=>(0,r.H8)(19790),position:12},regal:{displayString:9220,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27202:4438,{name:n,number_1:e}),getDescription:e=>(0,r.H8)(15694,{number_1:e}),position:3},sage:{displayString:20797,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27203:21311,{name:n,number_1:e}),getDescription:e=>(0,r.H8)(20170,{number_1:e}),position:1},scholar:{displayString:7357,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27204:1301,{name:n,number_of_words:e}),getDescription:e=>(0,r.H8)(22639,{number_of_words:e}),position:2},sharpshooter:{displayString:2932,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27205:17946,{name:n,number_1:e}),getDescription:e=>(0,r.H8)(19943,{number_1:e}),position:5},strategist:{displayString:7441,earn:e=>{i.I7.earnTipsAchievement(e)},getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27206:18657,{name:n}),getDescription:()=>(0,r.H8)(8963),position:9},wildfire:{displayString:6641,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27207:20666,{name:n,number_1:e}),getDescription:e=>(0,r.H8)(5551,{number_1:e}),position:0},winner:{displayString:14814,getCompletedDescription:(e,t,n)=>(0,r.H8)(t?27208:19806,{name:n}),getDescription:()=>(0,r.H8)(14009),position:7}},d={clubs:{lockedDescription:[9511,2867,2684],position:7,supportedOnWeb:!1,unlockedDescription:[398,11778,19408],variableName:void 0},completion:{lockedDescription:[22773,22773,19914],position:1,supportedOnWeb:!0,unlockedDescription:[19057,19057,5091],variableName:"num_skills"},gold_skills:{lockedDescription:[9287,9287,24430],position:6,supportedOnWeb:!1,unlockedDescription:[24056,24056,6063],variableName:"num_gold_skills"},items:{lockedDescription:[11714,16164,15140],position:4,supportedOnWeb:!1,unlockedDescription:[764,12847,8376],variableName:void 0},perfect:{lockedDescription:[5220,5220,5220],position:10,supportedOnWeb:!0,unlockedDescription:[21692,21692,21692],variableName:"num_perfect_lessons"},social:{lockedDescription:[6105,4192,4863],position:3,supportedOnWeb:!0,unlockedDescription:[21686,13965,10258],variableName:void 0},spending:{lockedDescription:[3723,3723,3723],position:8,supportedOnWeb:!0,unlockedDescription:[1507,1507,1507],variableName:"num_lingots"},streak:{lockedDescription:[7589,7589,7589],position:0,supportedOnWeb:!0,unlockedDescription:[14697,14697,14697],variableName:"streak"},time:{lockedDescription:[169,24544,16690],position:9,supportedOnWeb:!0,unlockedDescription:[4715,4834,5834],variableName:"streak"},xp:{lockedDescription:[21803,21803,21803],position:5,supportedOnWeb:!0,unlockedDescription:[13959,13959,13959],variableName:"xp"}},p=e=>(0,o.from)((0,o.asMutable)(e).sort(((e,t)=>d[e.name].position-d[t.name].position)).filter((e=>d[e.name].supportedOnWeb))),m=e=>(0,o.from)((0,o.asMutable)(e).sort(((e,t)=>u[e.name].position-u[t.name].position))),g=e=>{const t=e.filter((e=>!y(e)));if(0!==t.length)return(0,o.from)((0,o.asMutable)(t).sort(((e,t)=>e.tierCounts[e.tier]/e.count-t.tierCounts[t.tier]/t.count)))[0]},h=(e,t,n,o)=>{const i=t?Math.max(0,e.tier-1):e.tier;if(!(e.name in u))return((e,t,n,o)=>{const i=d[e];if(!i)return e;const s=Math.min(2,t),a={};i.variableName&&(a[i.variableName]=n[s]);const l=o?"unlockedDescription":"lockedDescription";return(0,r.H8)(i[l][s],a)})(e.name,i,e.tierCounts,t);const s=u[e.name],a=e.tierCounts[i];return t?s.getCompletedDescription(a,n,o):s.getDescription(a)},_=e=>{if(!(e.name in u))return(e=>{switch(e){case"clubs":return(0,r.H8)(1131);case"completion":return(0,r.H8)(7018);case"gold_skills":return(0,r.H8)(7982);case"items":return(0,r.H8)(5967);case"perfect":return(0,r.H8)(2932);case"social":return(0,r.H8)(2148);case"spending":return(0,r.H8)(18001);case"streak":return(0,r.H8)(6641);case"time":return(0,r.H8)(21888);case"xp":return(0,r.H8)(8908);default:return e}})(e.name);const t=u[e.name];return(0,r.H8)(t.displayString)},v=e=>e.tierCounts[e.tier]||0,f=e=>Math.max(1,e.tier<e.tierCounts.length?e.tier+1:e.tier),y=e=>e.count>=v(e),E=e=>e.reduce(((e,t)=>(e[t.name]=t,e)),{}),b=(e,t,n,o,i,r)=>{e({options:{achievement:t,achieverName:r,name:a.tl.Achievement,thirdPerson:i,useV3:o,viewMore:n},replaceExisting:!1,type:"TOGGLE_MODAL"})},S=(e,t,n)=>{const o={[n]:{shouldShowUnlock:!1}};i.Vi.achievementsUpdate(t,o),e({name:n,type:"MARK_ACHIEVEMENT_UNLOCK_SHOWN"})},w=(e,t,n)=>{i.I7.claimAchievement(n,t),e({achievement:n,type:"MARK_ACHIEVEMENT_UNLOCK_SHOWN_V3"})},T=(e,t,n,i)=>{const r=u[i];(null==r?void 0:r.earn)&&(r.earn(n),t({achievements:(0,o.asMutable)(e).map((e=>e.name===i?(0,o.set)(e,"tier",v(e)):e)),type:"UPDATE_USER_ACHIEVEMENTS_V3"}))},I=e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.featureFlags)||void 0===t?void 0:t.web_achievements_v3_migration)||void 0===n||n},k=(e,t)=>{var n;if(!I(t))return;const o=(0,l.rV)(l.Qt.AchievementsMigrationTimestamp),r=null===(n=null==t?void 0:t.featureFlags)||void 0===n?void 0:n.web_achievements_v3_migration_retries;if(o){if(!r)return;if(o>Date.now()-864e5)return}(0,l.LS)(l.Qt.AchievementsMigrationTimestamp,Date.now()),i.I7.migrateToV3(e)}},51827:(e,t,n)=>{"use strict";n.d(t,{ZD:()=>o,N1:()=>y,nc:()=>E,Z7:()=>b,EY:()=>S,OE:()=>w,NX:()=>T,RZ:()=>I,_H:()=>k,BY:()=>R,ZM:()=>C,i1:()=>O,VF:()=>A,Ph:()=>D,po:()=>x,d2:()=>M,Pg:()=>U,qC:()=>F,V3:()=>j,AD:()=>B,su:()=>H});var o,i=n(80254),r=n(21061),s=n(53229),a=n(74971),l=n(85381),c=n(51158),u=n(11908),d=n(1079),p=n(785),m=n(16086),g=n(20028);!function(e){e.SessionEnd="SESSION_END",e.Tree="TREE"}(o||(o={}));const h=i.IH((()=>(0,s.lh)("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")));let _,v=!0;const f=new Promise((e=>{_=e})),y=e=>{v=e.privacySettings.includes("DISABLE_PERSONALIZED_ADS"),_()},E=()=>{return e=void 0,t=void 0,o=function*(){yield h(),yield f;const e=(0,m.Pc)()?v:!(0,a.Xb)("targeting");(window.adsbygoogle=window.adsbygoogle||[]).requestNonPersonalizedAds=e?1:0,console.log((e?"Disable":"Enable")+" personalized ads"),(window.adsbygoogle=window.adsbygoogle||[]).push({})},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,n,o},b=(e,t)=>{var n,o;if(o=window.location.href,decodeURIComponent(o).includes("@")||(0,g.pN)(e))return null;if(void 0!==(null===(n=e.adsConfig)||void 0===n?void 0:n.units)){const n=e.adsConfig.units[t];if(void 0!==n&&""!==n.id){if(e.hasPlus)return(0,c.Kp)(`Plus user inappropriately provided ads unit for placement '${t}'`),null;if((e=>(0,g.jq)(e)||(0,g.dE)(e))(e)&&!n.familySafe)return(0,c.Kp)(`User inappropriately provided non-family safe ads unit (id='${n.id}') for placement '${t}'`,{once:!0}),null;const[o,i]=n.id.split("/");return{client:o,familySafe:n.familySafe,slot:i}}}return null},S=(e,t)=>`${e.toLowerCase()}_ad${t?`_${t}`:""}`,w=(e,t,n,o)=>{(0,p.j)(e,{ad_network:"adsense",ad_placement:t.toLowerCase(),ad_type:"banner",ad_unit:n,family_safe:o})},T=(e,t)=>!e.inventory.premium_subscription&&!e.inventory.schools_pro_subscription&&(e.shop.isLoaded?e.shop.in_app_purchase.some((({productId:e})=>(0,l.n9)(e))):void 0)&&!(0,l.J9)(t.ipCountry),I=e=>e.shop.isLoaded?e.shop.in_app_purchase.some((({productId:e})=>(0,l.n9)(e)&&(0,l.TF)(e)&&!(0,l.Me)(e))):void 0,k=e=>e.shop.isLoaded?e.shop.in_app_purchase.some((({productId:e})=>(0,l.n9)(e)&&(0,l.Zi)(e))):void 0,R=e=>{var t;if(!e.shop.isLoaded)return;const n=null===(t=e.shop.in_app_purchase.find((e=>(0,l.n9)(e.productId)&&(0,l.u0)(e.productId))))||void 0===t?void 0:t.productId;return void 0!==n&&(0,l.n9)(n)?(0,l.qG)((0,l.ZT)(n)):"USD"},C=(e,t)=>e&&t,O=e=>e,N={"progress-quiz-ad":"duo.internalAds.plus.progressQuizAd","progress-quiz-reminder":"duo.internalAds.sessionEnd.progressQuizReminder",standard:"duo.internalAds.sessionEnd.plus"},P=(e,t)=>{let n=null!=t?t:{lastShowTimestamp:0,showCount:0};return(0,u.No)(N[e])?n=(0,u.rV)(N[e]):L(e,n),n},L=(e,t)=>{(0,u.LS)(N[e],t)},A=({config:e,isDesktop:t,items:n,user:o})=>{if(!T(n,e)||!t||(0,g.pN)(o))return!1;const i=P("standard"),s=Math.min(i.showCount,7)*(0,r.dz)({days:1})*1e3;return 0===i.showCount||Date.now()>i.lastShowTimestamp+s},D=()=>{L("standard",{lastShowTimestamp:Date.now(),showCount:P("standard").showCount+1})},x=({config:e,isDesktop:t,items:n,user:o})=>{if(!T(n,e)||!(e=>e.shop.isLoaded?e.shop.in_app_purchase.some((({productId:e})=>(0,l.gK)(e))):void 0)(n)||!t||(0,g.pN)(o))return!1;const i=o.streak;return 7===i||i>0&&i%50==0},M=(e,t,n)=>{var o;if(!n||!t||(0,g.pN)(e))return!1;const i=e.sessionsCompleted,r=P("progress-quiz-ad",{lastSessionsCompleted:i-Math.floor(10*Math.random()),lastShowTimestamp:Date.now(),showCount:0});return i<(r.lastSessionsCompleted||0)&&(r.lastSessionsCompleted=0,L("progress-quiz-ad",r)),r.showCount<3&&(i-(null!==(o=r.lastSessionsCompleted)&&void 0!==o?o:0)>=10||Date.now()-r.lastShowTimestamp>5184e5)},U=(e,t="recurring")=>{const n=P("progress-quiz-ad");L("progress-quiz-ad",{lastSessionsCompleted:e.sessionsCompleted,lastShowTimestamp:Date.now(),showCount:"introduction"===t?0:n.showCount+1})},F=()=>{const e=P("progress-quiz-ad");L("progress-quiz-ad",{lastSessionsCompleted:e.lastSessionsCompleted,lastShowTimestamp:Date.now(),showCount:0})},j=(e,t,n)=>{var o;if(!t||!e.hasPlus)return!1;const i=e.sessionsCompleted,r=P("progress-quiz-reminder",{lastSessionsCompleted:i-Math.floor(10*Math.random()),lastShowTimestamp:Date.now(),showCount:0});return i<(r.lastSessionsCompleted||0)&&(r.lastSessionsCompleted=0,L("progress-quiz-reminder",r)),((e,t)=>{var n;return t>=(null!==(n=(0,d.dx)(e.learningLanguage).rowsUnlocked)&&void 0!==n?n:0)+2})(e,n)&&(i-(null!==(o=r.lastSessionsCompleted)&&void 0!==o?o:0)>=10||Date.now()-r.lastShowTimestamp>5184e5)},B=e=>{const t=P("progress-quiz-reminder");L("progress-quiz-reminder",{lastSessionsCompleted:e.sessionsCompleted,lastShowTimestamp:Date.now(),showCount:t.showCount+1})},H=e=>{L("progress-quiz-reminder",{lastSessionsCompleted:e.sessionsCompleted,lastShowTimestamp:Date.now(),showCount:0})}},40387:(e,t,n)=>{"use strict";n.d(t,{hM:()=>r,jJ:()=>s,IF:()=>a});var o=n(80254),i=n(11811);const r=e=>{const{currentIndex:t,session:n,session:{adaptiveChallenges:r,challenges:a}}=e;if(!r)return;if(s(n))return;const l=a.slice(0,t+1),c=a.slice(t+1),u=l.every((e=>{var t;return null===(t=e.gradingResult)||void 0===t?void 0:t.correct}))&&c.length===r.length,d=o.jj(a,!1,(e=>e.id)),p=d[d.length-1],m=1===l.filter((e=>{var t;return!1===(null===(t=e.gradingResult)||void 0===t?void 0:t.correct)})).length&&t+1===a.indexOf(p)&&p.type!==i.Sm.Speak;switch(n.type){case i.FF.GlobalPractice:return u?r:m?[r[0]]:void 0;case i.FF.Lesson:case i.FF.SkillPractice:return u?r:void 0;default:return}},s=({adaptiveChallenges:e,challenges:t})=>e&&o.jV(t.map((e=>e.id)),e.map((e=>e.id))).length>0,a=e=>{const{currentIndex:t,session:{adaptiveChallenges:n,challenges:i}}=e;if(void 0===n)return!1;const r=n.map((e=>e.id)),s=i.slice(0,t+1).map((e=>e.id)),a=i[t+1];return 0===o.jV(s,r).length&&r.includes(null==a?void 0:a.id)}},9979:(e,t,n)=>{"use strict";n.d(t,{nN:()=>s,Gg:()=>a,q8:()=>l,jt:()=>c});var o=n(88528),i=n(50498),r=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const s=1e3*parseFloat(o.Z["duration-fade"]),a=()=>new Promise((e=>{requestAnimationFrame((()=>requestAnimationFrame(e)))})),l={EaseInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,EaseInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,EaseInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,EaseInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,EaseInQuad:e=>e*e,EaseInQuart:e=>e*e*e*e,EaseInQuint:e=>e*e*e*e*e,EaseOutCubic:e=>--e*e*e+1,EaseOutExpo:e=>1-Math.pow(2,-10*e),EaseOutQuad:e=>e*(2-e),EaseOutQuart:e=>1- --e*e*e*e,EaseOutQuint:e=>1+--e*e*e*e*e,Linear:e=>e},c=({animationDuration:e,animationDelay:t=0,easingFunction:n=l.Linear,onAnimate:o})=>r(void 0,void 0,void 0,(function*(){t>0&&(yield(0,i._v)(t));const s=Date.now(),a=s+e;return new Promise((e=>{const t=()=>r(void 0,void 0,void 0,(function*(){yield new Promise((e=>{requestAnimationFrame(e)}));const i=Date.now();if(i<a){const e=n((i-s)/(a-s));o(e),yield t()}else o(1),e()}));t()}))}))},89454:(e,t,n)=>{"use strict";n.d(t,{Sl:()=>G,I7:()=>o,d0:()=>T,_s:()=>I,Vi:()=>k,WF:()=>i,Uw:()=>r,zQ:()=>s,bG:()=>a,lr:()=>l,mJ:()=>c,i_:()=>u,zk:()=>d,lB:()=>p,IZ:()=>J,qF:()=>m,dQ:()=>g,Ny:()=>h,zi:()=>_,wO:()=>v,xr:()=>f,s3:()=>a,bu:()=>y,PA:()=>E,uf:()=>b,yG:()=>S,Mw:()=>w,w1:()=>R});var o={};n.r(o),n.d(o,{claimAchievement:()=>oe,earnTipsAchievement:()=>ie,getAchievementsV3:()=>te,migrateToV3:()=>ne});var i={};n.r(i),n.d(i,{createB2BInvoice:()=>le,getB2BPricingData:()=>ae,submitB2BInvoice:()=>ue,updateB2BInvoice:()=>ce});var r={};n.r(r),n.d(r,{getStatus:()=>me});var s={};n.r(s),n.d(s,{getCharacterChart:()=>_e,sessionCreate:()=>fe,sessionSubmit:()=>ve});var a={};n.r(a),n.d(a,{getExplanation:()=>be,getLottieAnimation:()=>Se,getSmartTip:()=>we,requestGradingConfig:()=>Te});var l={};n.r(l),n.d(l,{getDraftExplanation:()=>ke});var c={};n.r(c),n.d(c,{addModerator:()=>De,isSpecialForumTopic:()=>Ne,listAllMods:()=>Ae,listMods:()=>Le,listTopics:()=>Pe,removeModerator:()=>xe,undeleteComment:()=>Oe});var u={};n.r(u),n.d(u,{block:()=>tt,deleteFriendRecommendation:()=>$e,facebookToDuolingo:()=>ot,follow:()=>Qe,getFollowers:()=>Xe,getFollowing:()=>Je,getFriendRecommendations:()=>ze,getKudosAssets:()=>He,getKudosDrawer:()=>Ge,getKudosFeed:()=>je,getKudosReactions:()=>Be,getSocialProfile:()=>qe,searchUsers:()=>Ke,sendKudos:()=>Ve,unblock:()=>nt,unfollow:()=>et,unsendKudos:()=>Ze,updateFriendRecommendations:()=>Ye,updateKudos:()=>We});var d={};n.r(d),n.d(d,{getHints:()=>rt});var p={};n.r(p),n.d(p,{submitDuoconForm:()=>at});var m={};n.r(m),n.d(m,{L:()=>ct});var g={};n.r(g),n.d(g,{LEAGUES_ID:()=>pt,SCHOOLS_CLASSROOM_LEADERBOARD_ID:()=>mt,get:()=>Et,patch:()=>St,post:()=>bt});var h={};n.r(h),n.d(h,{complete:()=>Rt,detectLanguage:()=>Nt,inspect:()=>Pt,search:()=>kt,translate:()=>Ot,translateInfo:()=>Ct});var _={};n.r(_),n.d(_,{ackHomeMessage:()=>Dt,ackSessionEndMessages:()=>xt,getHomeMessages:()=>Mt,getSessionEndMessages:()=>Ut});var v={};n.r(v),n.d(v,{getMistakeCount:()=>Bt,getMistakes:()=>Ht});var f={};n.r(f),n.d(f,{trackSplashLoad:()=>Vt});var y={};n.r(y),n.d(y,{AssignmentType:()=>Zt,getClassroomByCode:()=>qt,getUserAssignments:()=>Kt,getUserClassroomContestState:()=>Qt,getUserClassrooms:()=>$t,joinClassroom:()=>Jt,leaveClassroom:()=>Xt});var E={};n.r(E),n.d(E,{detectDuplicates:()=>nn,fullyConnectDuplicates:()=>on,getSlackReportTypes:()=>rn,getSuggestedFeatures:()=>sn,reportIssue:()=>an});var b={};n.r(b),n.d(b,{sendDownloadSMS:()=>cn});var S={};n.r(S),n.d(S,{ReportReason:()=>mn,reportProfileUser:()=>gn});var w={};n.r(w),n.d(w,{getCarousel:()=>kn,getConfig:()=>wn,getListingUpdate:()=>Tn,getStories:()=>fn,getStory:()=>yn,postStoryComplete:()=>bn,recordUserReply:()=>Sn,seenListingUpdate:()=>In});var T={};n.r(T),n.d(T,{createSentenceDiscussion:()=>Un,deactivate:()=>Pn,dismissNotification:()=>Mn,getDeleteModLog:()=>Fn,getNotifications:()=>An,getSentence:()=>xn,getShadowbannedUsers:()=>jn,getSocialCurrencyStats:()=>Gn,getVocabulary:()=>Vn,inviteFriend:()=>Ln,logout:()=>Nn,resetPassword:()=>Zn,shadowbanUser:()=>Bn,unshadowbanUser:()=>Hn,uploadAvatar:()=>Dn});var I={};n.r(I),n.d(I,{courseList:()=>Xn,courseShow:()=>Qn,courseSubscribe:()=>io,courseUnsubscribe:()=>ro,getDictionaryPage:()=>lo,getExampleSentences:()=>ao,getLanguageTokens:()=>eo,getVerbTable:()=>so,legacyLanguageId:()=>qn,registerDevice:()=>no,unregisterDevice:()=>oo,updateExperiment:()=>to,userBan:()=>$n});var k={};n.r(k),n.d(k,{ChallengeReports:()=>Yo,EventType:()=>Eo,achievementsUpdate:()=>Ro,addUserStripePaymentMethod:()=>ti,challengeCreate:()=>Wo,challengeGrade:()=>zo,consumeDuoPlus:()=>hi,consumeReward:()=>_i,createUserPlusDiscount:()=>yi,emailVerificationSend:()=>Co,emailVerificationUpdate:()=>Oo,forgotPassword:()=>mi,getConfig:()=>ui,getCustomAcquisitionSurveyResponses:()=>vi,getShopItems:()=>Ko,getUnfilteredPrivacySettings:()=>pi,getUserInventory:()=>ei,getUserPaymentMethods:()=>Qo,getUserShopItem:()=>qo,getUserXPSummaries:()=>Mo,login:()=>bo,patchUserShopItem:()=>Jo,purchaseUserShopItem:()=>ni,registerTrackingStatus:()=>gi,removeEmailUpdate:()=>No,removeUserFromFamilyPlan:()=>si,reportSentence:()=>$o,resetPassword:()=>So,sessionCreate:()=>Vo,sessionSubmit:()=>Zo,skillUpdate:()=>Go,subscribeToBangoPlan:()=>ci,subscribeToFamilyPlan:()=>ri,updatePriorProficiencyOnboarding:()=>fi,updateUserStripePaymentMethod:()=>Xo,useUserShopItem:()=>di,userAchievements:()=>ko,userCreate:()=>wo,userDeleteCourse:()=>Ho,userInfo:()=>To,userInfoPartial:()=>Io,userMessage:()=>Bo,userModeratedEvents:()=>jo,userSearch:()=>Lo,userSearchByEmail:()=>Ao,userSubscribersData:()=>Fo,userSubscriptions:()=>xo,userSubscriptionsData:()=>Uo,userUpdate:()=>Do,usernameValidate:()=>Po,validateBangoToken:()=>li,validateFamilyInviteToken:()=>ii,validatePromoCode:()=>oi});var R={};n.r(R),n.d(R,{getReport:()=>bi});var C=n(14206),O=n.n(C),N=n(60581),P=n.n(N),L=n(54412),A=n(53229),D=n(51158),x=n(18804),M=n(16086),U=n(20028),F=n(59815);class j extends F.pY{static from(e,{method:t,url:n}){var o;if(e instanceof j)return e;const i=new j(e.message);return i.code=(null!==(o=e.code)&&void 0!==o?o:"AbortError"===e.name)?"ECONNABORTED":void 0,i.method=t,i.response=e.response,i.url=n,i}}const B=j;var H=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const G=class{constructor(e){this.addBearer=!1,this.addCacheBuster=!1,this.addTraceHeaders=!1,this.errorInterceptors=[],this.interceptors=[],this.serviceMap={},this.useFormEncoding=!1,this.baseUrl=(null==e?void 0:e.startsWith("/"))?`${window.location.origin}${e}`:null!=e?e:""}addErrorInterceptor(e){return this.errorInterceptors.push(e),this}addResponseInterceptor(e){return this.interceptors.push(e),this}delete(e,t,n){return this.request("DELETE",e,t,n)}enableBearer(){return this.addBearer=!0,this}enableCacheBuster(){return this.addCacheBuster=!0,this}enableFormEncoding(){return this.useFormEncoding=!0,this}enableTraceHeaders(){return this.addTraceHeaders=!0,this}get(e,t){return this.request("GET",e,void 0,t)}getBlob(e,t){return this.request("GET",e,void 0,t,"blob")}getBuffer(e,t){return this.request("GET",e,void 0,t,"arraybuffer")}getText(e,t){return this.request("GET",e,void 0,t,"text")}patch(e,t,n){return this.request("PATCH",e,t,n)}post(e,t,n){return this.request("POST",e,t,n)}put(e,t,n){return this.request("PUT",e,t,n)}setServiceEnvironment(e,t){return t?this.serviceMap[e]=t:delete this.serviceMap[e],this}request(e,t,n,o={},i="json"){var r,s;return H(this,void 0,void 0,(function*(){const a=Object.assign({},o.headers),l=o.params instanceof URLSearchParams?new URLSearchParams(o.params):Object.assign({},o.params),c=(0,L.ej)(L.Vj.JWT);if(this.addBearer&&c&&(a.Authorization=`Bearer ${c}`),this.addCacheBuster&&"GET"===e&&(l instanceof URLSearchParams?l.set("_",`${Date.now()}`):l._=Date.now()),this.addTraceHeaders){if(c){const e=null===(r=null===x.y0||void 0===x.y0?void 0:(0,x.y0)())||void 0===r?void 0:r.user,t=null!==(s=(0,M.MJ)(c))&&void 0!==s?s:0;e&&(0,U.Sk)(e)&&(a["Jaeger-Debug-Id"]=`${t}`),a["X-Amzn-Trace-Id"]=`User=${t}`}else a["X-Amzn-Trace-Id"]="User=0";"/deactivate"!==t&&"/logout"!==t&&(a["X-Requested-With"]="XMLHttpRequest")}const u=Object.entries(this.serviceMap);u.length&&(a["x-duolingo-service-map"]=u.map((([e,t])=>`${e}=${t}`)).join(";")),!this.useFormEncoding||!n||n instanceof FormData||(n=(0,A.Vp)(n),a["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8");let d=P()(t,l);d=(0,A.qy)(d.startsWith("//")?d:d.startsWith("/")?`${this.baseUrl}${d}`:d);const p=(()=>H(this,void 0,void 0,(function*(){var r,s;const l=window.duo.useFetch&&void 0!==o.timeout&&!("AbortController"in window);if(l&&(0,D.um)("The AbortController API isn't available. Falling back to Axios.",{once:!0}),window.duo.useFetch&&!l){void 0===n||n instanceof FormData||(null==a?void 0:a["Content-Type"])||(a["Content-Type"]="application/json; charset=UTF-8");const s=new AbortController;void 0!==o.timeout&&setTimeout((()=>s.abort()),o.timeout);const l=yield fetch(d,{body:n instanceof FormData?n:JSON.stringify(n),credentials:this.addBearer?"include":"same-origin",headers:a,method:e,signal:s.signal}),c="https://d3kwyfyztuo0xs.cloudfront.net/config/latest/0.9.6"===t||(null===(r=l.headers.get("content-type"))||void 0===r?void 0:r.split(";").some((e=>"application/json"===e.trim()))),u={data:yield"arraybuffer"===i?l.arrayBuffer():"blob"===i?l.blob():"text"===i?l.text():c?l.json():void 0,headers:Object.fromEntries(l.headers.entries()),status:l.status,statusText:l.statusText};if(!l.ok){const t=new B(`Request failed with status code ${l.status}`);throw t.method=e,t.response=u,t.url=d,t}return u}return O().request({data:n,headers:a,method:e,responseType:i,timeout:null!==(s=o.timeout)&&void 0!==s?s:1e9,url:d,withCredentials:this.addBearer})})))();try{const e=yield p;return this.interceptors.forEach((t=>t(e))),e}catch(n){const o=B.from(n,{method:e,url:d});throw this.errorInterceptors.forEach((e=>e(t,o))),o}}))}};var V=n(80254),Z=n(59273),W=n(8649),z=n(11908);const Y=e=>new G(e).addErrorInterceptor(((e,{response:t})=>{})).addResponseInterceptor((e=>{})).enableBearer().enableCacheBuster().enableTraceHeaders(),$=(e="")=>{const t=(0,Z.pL)();return void 0!==t?Y(`https://www.duolingo.com${e}`).setServiceEnvironment("monolith",`next-${t}`):Y(e)},K=e=>Y(e).enableFormEncoding(),q=()=>{V.VO(L.Vj).forEach((e=>(0,L.nJ)(e))),(0,z.cl)(z.Qt.State);try{new Promise((e=>{window.FB?window.FB.logout((()=>e())):e()}))}catch(e){}try{(0,W.w)()}catch(e){}},J=e=>e instanceof B;var X=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Q=["champion","conqueror","friendly","legendary","overtime","photogenic","regal","sage","scholar","sharpshooter","strategist","wildfire","winner"],ee=Y("https://duolingo-achievements-prod.duolingo.com"),te=(e,t,n,o,i,r,s)=>X(void 0,void 0,void 0,(function*(){const a=`/users/${e}/achievements`;if(!t||!n)return[];const l={fromLanguage:t,hasPlus:s?1:0,isAgeRestricted:o?1:0,isProfilePublic:i?1:0,isSchools:r?1:0,learningLanguage:n};return(c=(yield ee.get(a,{params:l})).data,null!==(u=c.achievements)&&void 0!==u?u:[]).filter((({name:e})=>Q.includes(e)));var c,u})),ne=(e,t=!0)=>X(void 0,void 0,void 0,(function*(){const n=`/users/${e}/migrate`;yield ee.post(n,{async:t,dryRun:!1})})),oe=(e,t)=>X(void 0,void 0,void 0,(function*(){const n=`/users/${t}/${e.name}/${e.tier}/claim`;yield ee.post(n)})),ie=e=>X(void 0,void 0,void 0,(function*(){const t=`/users/${e}/update`;yield ee.post(t,{tip_read:!0})}));var re=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const se=new G("https://duolingo-subscriptions-stage.duolingo.com").addErrorInterceptor(((e,{response:t})=>{})).addResponseInterceptor((e=>{})).enableCacheBuster().enableTraceHeaders(),ae=e=>re(void 0,void 0,void 0,(function*(){return(yield se.get("/b2b/pricing/",{params:{country_code:e}})).data})),le=e=>re(void 0,void 0,void 0,(function*(){return(yield se.post("/b2b/invoices/",e)).data})),ce=(e,t)=>re(void 0,void 0,void 0,(function*(){return(yield se.patch(`/b2b/invoices/${e}/`,t)).data})),ue=e=>re(void 0,void 0,void 0,(function*(){return(yield se.post(`/b2b/invoices/${e}/finalize/`)).data}));var de=n(21061);const pe=new G("https://brb.duolingo.com"),me=()=>{return e=void 0,t=void 0,o=function*(){let e;try{e=(0,M.Jb)()}catch(t){e=0}const t=e%100;try{if(void 0!==(yield pe.get(`/${t}/web.json?user=${e}&ts=${(0,de.Zo)()}&tzoffset=${(0,de.pQ)()/-60}`,{timeout:1e4})).data.brb_version)return"enabled"}catch(e){}return"disabled"},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,n,o};var ge=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const he=Y("https://www-prod.duolingo.com/2017-06-30/alphabets"),_e=(e,t)=>ge(void 0,void 0,void 0,(function*(){return(yield he.get(`/courses/${e}/${t}`)).data})),ve=(e,t)=>ge(void 0,void 0,void 0,(function*(){return he.put(`/sessions/${t.learningLanguage}/${t.fromLanguage}/${e.id}`,e)})),fe=(e,t,n)=>ge(void 0,void 0,void 0,(function*(){return he.post(`/sessions/${e}/${t}`,n)}));var ye=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Ee=new G,be=e=>ye(void 0,void 0,void 0,(function*(){return(yield Ee.get(e)).data})),Se=e=>ye(void 0,void 0,void 0,(function*(){return(yield Ee.get(e)).data})),we=e=>ye(void 0,void 0,void 0,(function*(){return(yield Ee.get(e)).data})),Te=()=>ye(void 0,void 0,void 0,(function*(){return(yield Ee.get("https://d3kwyfyztuo0xs.cloudfront.net/config/latest/0.9.6")).data}));const Ie=Y("https://explanations.duolingo.com"),ke=(e,t)=>{return n=void 0,o=void 0,r=function*(){const n=`/diagnostics-api/explanations/${t}/${e}`;return(yield Ie.get(n)).data},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((r=r.apply(n,o||[])).next())}));var n,o,i,r};var Re=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Ce=K("https://forum-api.duolingo.com"),Oe=e=>Ce.post(`/comments/${e}/undelete`),Ne=e=>null===e.learning_language,Pe=()=>Re(void 0,void 0,void 0,(function*(){return(yield Ce.post("/diagnostics/topic_moderators/list_topics")).data})),Le=e=>Re(void 0,void 0,void 0,(function*(){return(yield Ce.post("/diagnostics/topic_moderators/list_mods",{topic_id:e})).data})),Ae=()=>Re(void 0,void 0,void 0,(function*(){return(yield Ce.post("/diagnostics/topic_moderators/list_mods")).data})),De=(e,t)=>Re(void 0,void 0,void 0,(function*(){return(yield Ce.post("/diagnostics/topic_moderators/add",{topic_id:e,user_id:t})).data})),xe=(e,t)=>Re(void 0,void 0,void 0,(function*(){return(yield Ce.post("/diagnostics/topic_moderators/remove",{topic_id:e,user_id:t})).data}));var Me=n(81149),Ue=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Fe=Y("https://friends-prod.duolingo.com"),je=(e,t,n)=>Ue(void 0,void 0,void 0,(function*(){var o;return(null===(o=null==t?void 0:t.featureFlags)||void 0===o?void 0:o.friends_microservice_web_client)?(yield Fe.get(`/kudos/${(0,M.Jb)()}/feed`,{params:Object.assign({uiLanguage:e},void 0===n?{}:{after:n})})).data:{kudosConfig:{reactions:[],shareLabel:""},kudosFeed:[]}})),Be=(e,t,n,o,i)=>Ue(void 0,void 0,void 0,(function*(){var r;if(null===(r=null==n?void 0:n.featureFlags)||void 0===r?void 0:r.friends_microservice_web_client){const n=void 0===i?{pageSize:o}:{pageAfter:i,pageSize:o};return(yield Fe.get(`/kudos/${e}/reactions/${t}`,{params:n})).data}return{cursor:null,userReactions:[]}})),He=e=>Ue(void 0,void 0,void 0,(function*(){var t;if(null===(t=null==e?void 0:e.featureFlags)||void 0===t?void 0:t.friends_microservice_web_client){const e=(yield Fe.get("/kudos/assets")).data;return Object.assign(Object.assign({},e.kudosFeedAssets),e.kudosDrawerAssets)}return{}})),Ge=(e,t)=>Ue(void 0,void 0,void 0,(function*(){var n;if(null===(n=null==t?void 0:t.featureFlags)||void 0===n?void 0:n.friends_microservice_web_client){const t=(yield Fe.get(`/kudos/${(0,M.Jb)()}/drawer`,{params:{uiLanguage:e}})).data.kudosDrawer;return t?t.isSystemGenerated?null:t:null}return null})),Ve=(e,t,n)=>Ue(void 0,void 0,void 0,(function*(){yield Fe.post("/kudos",{eventIds:e,reactionType:t,screen:n})})),Ze=e=>Ue(void 0,void 0,void 0,(function*(){yield Fe.delete(`/kudos/${e}`)})),We=(e,t,n)=>Ue(void 0,void 0,void 0,(function*(){yield Fe.patch("/kudos",{eventIds:e,isInteractionEnabled:t,screen:n})})),ze=(e,t)=>Ue(void 0,void 0,void 0,(function*(){const n={filterUsers:!0,pageSize:"experiment"===(0,Me.j6)("connect_web_rotating_suggestions",void 0)?50:100,uiLanguage:t};return(yield Fe.get(`/users/${e}/recommendations`,{params:n})).data})),Ye=(e,t)=>Ue(void 0,void 0,void 0,(function*(){return(yield Fe.patch(`/users/${e}/recommendations`,{userIds:t})).data})),$e=(e,t)=>Ue(void 0,void 0,void 0,(function*(){yield Fe.delete(`/users/${e}/recommendations/${t}`)})),Ke=(e,t,n)=>Ue(void 0,void 0,void 0,(function*(){const o={cursor:n,pageSize:e,query:t,searchType:"QUERY"};return(yield Fe.get("/users",{params:o})).data})),qe=(e,t)=>Ue(void 0,void 0,void 0,(function*(){return(yield Fe.get(`/users/${e}/profile`,{params:{pageSize:t}})).data})),Je=(e,t,n)=>Ue(void 0,void 0,void 0,(function*(){return(yield Fe.get(`/users/${e}/following`,{params:Object.assign({pageSize:t},n?{pageAfter:n}:void 0)})).data.following})),Xe=(e,t,n)=>Ue(void 0,void 0,void 0,(function*(){return(yield Fe.get(`/users/${e}/followers`,{params:Object.assign({pageSize:t},n?{pageAfter:n}:void 0)})).data.followers})),Qe=(e,t,n,o,i)=>Ue(void 0,void 0,void 0,(function*(){const r={component:t,follow_reason:n,follow_suggestion_score:i,suggested_reason:o};yield Fe.post(`/users/${(0,M.Jb)()}/follow/${e}`,r)})),et=e=>Ue(void 0,void 0,void 0,(function*(){yield Fe.delete(`/users/${(0,M.Jb)()}/follow/${e}`)})),tt=e=>Ue(void 0,void 0,void 0,(function*(){yield Fe.post(`/users/${(0,M.Jb)()}/block/${e}`)})),nt=e=>Ue(void 0,void 0,void 0,(function*(){yield Fe.delete(`/users/${(0,M.Jb)()}/block/${e}`)})),ot=(e,t)=>Ue(void 0,void 0,void 0,(function*(){return(yield Fe.post("/facebook-connect",{facebookFriends:JSON.stringify(t.map((e=>({id:e})))),facebookId:e})).data.users}));var it=n(74245);const rt=(e,t,n,o)=>{return i=void 0,r=void 0,a=function*(){const{tokens:i}=yield(0,A.g3)(((e,t,n)=>`https://${e}/api/1/dictionary/hints/${(0,it.D3)(t)}/${(0,it.D3)(n)}`)(e,n,t),{cache:"true",format:"new",sentence:o});return i.map((e=>{var{hint_table:t}=e,n=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["hint_table"]);return Object.assign({hintTable:t&&Object.assign(Object.assign({},t),{headers:t.headers?t.headers.map((e=>e.token)):void 0,rows:t.rows.map((e=>e.cells))})},n)}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(n,o)}l((a=a.apply(i,r||[])).next())}));var i,r,s,a},st=new G("https://api.hsforms.com"),at=e=>lt("6860078","f7f63028-e5eb-43e6-842e-945d3041b113",[{name:"email",value:e}]),lt=(e,t,n)=>st.post(`/submissions/v3/integration/submit/${e}/${t}`,{context:{pageUri:window.location.href},fields:n});var ct;!function(e){e.IOS="APPLE",e.Schools="DUOLINGO_SCHOOLS",e.Stripe="DUOLINGO",e.Android="GOOGLE_PLAY",e.ImmersivePlus="IMMERSIVE_PLUS",e.Admin="NONE",e.ReferralInvitee="REFERRAL_INVITEE",e.ReferralInviter="REFERRAL_INVITER",e.Referral="REFERRAL"}(ct||(ct={}));var ut=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const dt=Y("https://duolingo-leaderboards-prod.duolingo.com"),pt="7d9f5dd1-8423-491a-91f2-2532052038ce",mt="7d9f5dd1-8423-491a-91f2-2532052038ce",gt=e=>({itemId:e.item_id,itemQuantity:e.item_quantity,rank:e.rank,rewardType:e.reward_type,tier:e.tier}),ht=e=>({cohortSize:e.cohort_size,cohortType:e.cohort_type,numDemoted:e.num_demoted,numLosers:e.num_losers,numPromoted:e.num_promoted,numWinners:e.num_winners,rewards:e.rewards.map(gt),scoreType:e.score_type}),_t=e=>({contestEnd:Date.parse(e.contest_end),contestStart:Date.parse(e.contest_start),contestState:e.contest_state,registrationEnd:Date.parse(e.registration_end),registrationStart:Date.parse(e.registration_start),registrationState:e.registration_state,ruleset:ht(e.ruleset)}),vt=e=>({avatarUrl:e.avatar_url,displayName:e.display_name,score:e.score,userId:e.user_id}),ft=e=>({rankings:e.rankings.map(vt),tier:e.tier}),yt=e=>({cohort:ft(e.cohort),complete:e.complete,contest:_t(e.contest),score:e.score,userId:e.user_id}),Et=(e,t,n=!1)=>ut(void 0,void 0,void 0,(function*(){const o=`/leaderboards/${e}/users/${t}`,i={};return n&&(i.client_unlocked=!0),(e=>{const t={tier:e.tier};return void 0!==e.num_sessions_remaining_to_unlock&&(t.numSessionsRemainingToUnlock=e.num_sessions_remaining_to_unlock),void 0!==e.active&&(t.active=null===e.active?null:yt(e.active)),void 0!==e.ended&&(t.ended=e.ended.map(yt)),void 0!==e.leaderboard&&(t.leaderboard=(e=>({activeContest:e.active_contest?_t(e.active_contest):null,nextContestStart:e.next_contest_start?Date.parse(e.next_contest_start):null}))(e.leaderboard)),t})((yield dt.get(o,{params:i})).data)})),bt=(e,t)=>ut(void 0,void 0,void 0,(function*(){const n=`/leaderboards/${e}/users/${t}`;yield dt.post(n)})),St=(e,t)=>ut(void 0,void 0,void 0,(function*(){const n=`/leaderboards/${e}/users/${t}`;yield dt.patch(n)}));var wt=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const Tt=Y(((0,Z.NY)(),"https://duolingo-lexicon-prod.duolingo.com/api/1")),It=(e,t)=>t.map((t=>`${e}=${encodeURIComponent(t)}`)).join("&"),kt=({exactitude:e=!1,fromLanguageId:t=it.h9,learningLanguageId:n,query:o})=>wt(void 0,void 0,void 0,(function*(){const i=(yield Tt.get("/search",{params:{exactness:e?1:0,languageId:n,query:o,uiLanguageId:t}})).data;if(!(e=>Array.isArray(e.results)&&e.results.every((e=>(e=>(0,it.jO)(e.languageId)&&"string"==typeof e.lexemeId&&"string"==typeof e.text&&(e=>Object.entries(e).every((([e,t])=>(0,it.jO)(e)&&Array.isArray(t)&&t.every((e=>"string"==typeof e)))))(e.translations)&&(void 0===e.exactMatch||"boolean"==typeof e.exactMatch))(e))))(i))throw Error("Unexpected/non-conformant API response received.");return i})),Rt=(e,t)=>wt(void 0,void 0,void 0,(function*(){return(yield Tt.get("/complete",{params:{languageId:t,query:e,uiLanguageId:it.h9}})).data})),Ct=()=>wt(void 0,void 0,void 0,(function*(){return{supportedLanguageIds:(yield Tt.get("/translate-info")).data.supportedLanguageIDs}})),Ot=e=>wt(void 0,void 0,void 0,(function*(){const t=(yield Tt.get("/translate",{params:e})).data;return t.results.length,t.results.length>1&&(0,D.Kp)("Multiple translation results found, which should not happen.",{data:{request:e,response:t}}),t.results[0]})),Nt=e=>wt(void 0,void 0,void 0,(function*(){const t=(yield Tt.get(`/detect-language?${It("query",e)}`)).data;return t.forEach((e=>e.input=decodeURIComponent(e.input))),t})),Pt=e=>wt(void 0,void 0,void 0,(function*(){e.query.length>16&&((0,D.Kp)(`Truncating an inspection with too many (${e.query.length}) queries.`,{data:e}),e.query=e.query.slice(0,15));const t=(yield Tt.get(`/inspect?${It("query",e.query)}`,{params:{fromLanguageId:e.fromLanguageId,learningLanguageId:e.learningLanguageId,sourceLanguageId:e.sourceLanguageId,targetLanguageId:e.targetLanguageId}})).data;return 0===t.results.length&&(0,D.Kp)(`No inspection results found for (${JSON.stringify(e)})`),t.results.length!==e.query.length&&(0,D.Kp)(`Different number of inspections than items in query: "${e.query}" returned ${t.results.length} inspections.`),t.results}));var Lt=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const At=Y("https://www.duolingo.com/2017-06-30/messaging"),Dt=e=>At.post("/ack-message/",{messageId:{[e]:{}},userId:(0,M.Jb)()}),xt=e=>At.post("/ack-messages/",{sessionEndMessageLogs:e.map((({ctaWasClicked:e,messageId:t,timestamp:n})=>({ctaWasClicked:e,sessionEndMessageId:{[t]:{}},timestamp:n}))),userId:(0,M.Jb)()}),Mt=(e,t)=>Lt(void 0,void 0,void 0,(function*(){return(yield At.post("/get-messages/",{potentialMessageIds:e.map((e=>({[e]:{}}))),useOnboardingBackend:t,userId:(0,M.Jb)()})).data})),Ut=(e,t)=>Lt(void 0,void 0,void 0,(function*(){return(yield At.post("/get-messages/",{sessionEndPotentialMessageIds:e.map((e=>({[e]:{}}))),useOnboardingBackend:t,userId:(0,M.Jb)()})).data}));var Ft=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const jt=Y("https://www.duolingo.com/v2/mistakes"),Bt=(e,t,n,o)=>Ft(void 0,void 0,void 0,(function*(){return(yield jt.get(`/users/${t}/courses/${e}/count`,{params:{includeListening:n,includeSpeaking:o}})).data.numberMistakes})),Ht=(e,t,n,o)=>Ft(void 0,void 0,void 0,(function*(){return(yield jt.get(`/users/${t}/courses/${e}`,{params:{includeListening:n,includeSpeaking:o,limit:10,requestType:"INBOX"}})).data.mistakes})),Gt=Y("https://invite.duolingo.com"),Vt=e=>Gt.post("/user/splash-load",{invite_code:e});var Zt,Wt=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};!function(e){e.SKILL="SKILL",e.STORY="STORY",e.XP="XP_CHALLENGE"}(Zt||(Zt={}));const zt=Y("https://schools.duolingo.com/api/1"),Yt=Y("https://schools.duolingo.com/api/2"),$t=()=>Wt(void 0,void 0,void 0,(function*(){return(yield zt.get("/observers/list_settings_classrooms")).data.classrooms})),Kt=()=>Wt(void 0,void 0,void 0,(function*(){return(yield zt.get("/observers/student_language_assignments")).data})),qt=e=>Wt(void 0,void 0,void 0,(function*(){return(yield zt.get("/observers/get_observer_for_code",{params:{link_code:e}})).data})),Jt=e=>Wt(void 0,void 0,void 0,(function*(){return(yield zt.post("/observers/join_classroom_by_code",{link_code:e})).data})),Xt=e=>Wt(void 0,void 0,void 0,(function*(){yield zt.post("/observers/leave_classroom",{classroom_id:e})})),Qt=e=>Wt(void 0,void 0,void 0,(function*(){return(yield Yt.get("/leaderboards/contest_state",{params:{user_id:e}})).data.contests}));Y("https://www.duolingo.com/v1/score");var en=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const tn=Y("https://jeeves.duolingo.com"),nn=e=>en(void 0,void 0,void 0,(function*(){return(yield tn.get("/api/1/detect_duplicates",{params:{issue_key:e}})).data})),on=e=>tn.post("/api/1/fully_connect_duplicates",{issue_keys:e}),rn=()=>en(void 0,void 0,void 0,(function*(){return(yield tn.get("/api/2/shakira/slack_report_types")).data})),sn=e=>en(void 0,void 0,void 0,(function*(){return(yield tn.get("/api/2/shakira/suggested_features",{params:e})).data})),an=(e,t)=>en(void 0,void 0,void 0,(function*(){const n=new FormData;return n.set("issueData",JSON.stringify(e)),t.forEach((([e,t])=>n.set(e,t))),(yield tn.post("/api/2/shakira/report_issue",n)).data}));const ln=$(""),cn=e=>{return t=void 0,n=void 0,i=function*(){yield ln.post("/d",{phoneNumber:e})},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}l((i=i.apply(t,n||[])).next())}));var t,n,o,i};var un=n(50498),dn=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const pn=Y("https://duolingo-spam-control-prod.duolingo.com");var mn;!function(e){e.NUDITY="nudity",e.SPAM="spam",e.SOMETHING_ELSE="something_else"}(mn||(mn={}));const gn=(e,t)=>dn(void 0,void 0,void 0,(function*(){const{name:n="(Unknown)",picture:o,username:i="(Unknown)",id:r}=e;yield(0,un.XD)((()=>dn(void 0,void 0,void 0,(function*(){return pn.post("/reports/user_profiles",{name:n,picture:`https:${o}/xlarge`,reason:t,user_id:r,username:i})}))),{retries:1})}));var hn=n(36571),_n=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const vn=Y("https://stories.duolingo.com"),fn=(e,t,n,o,i,r,s)=>_n(void 0,void 0,void 0,(function*(){return(yield vn.get("/api2/stories",{params:{crowns:i,filterMature:o,fromLanguage:n,illustrationFormat:"svg",learningLanguage:t,masterVersions:e,proposed:s,setSize:r?4:void 0,unlockingMechanism:r}})).data})),yn=(e,t,n,o,i)=>_n(void 0,void 0,void 0,(function*(){return(yield vn.get(`/api2/stories/${t}`,{params:{crowns:o,debugShowAllChallenges:(0,Z.gQ)("debugShowAllStoryChallenges"),debugShowOnboarding:(0,Z.gQ)("debugShowStoriesOnboarding")?"newUser":void 0,illustrationFormat:"svg",isDesktop:e,masterVersion:n,mode:i,supportedElements:(0,hn.b5)().join(",")}})).data})),En=["story-complete","part-complete","next-part-unlocked"],bn=(e,t,n,o)=>_n(void 0,void 0,void 0,(function*(){var i;const r={awardXp:!0,completedBonusChallenge:null!==(i=t.completedBonusChallenge)&&void 0!==i&&i,customPromptType:t.customPromptType,freeformChallengeCorrectedResponse:t.freeformChallengeCorrectedResponse,freeformChallengeCorrectionModel:t.freeformChallengeCorrectionModel,freeformChallengeCorrectionModelVersion:t.freeformChallengeCorrectionModelVersion,freeformChallengeOriginalResponse:t.freeformChallengeOriginalResponse,freeformChallengePrompt:t.freeformChallengePrompt,freeformChallengePromptType:t.freeformChallengePromptType,freeformChallengeSubmittedResponse:t.freeformChallengeSubmittedResponse,freeformChallengeSumTimeTaken:t.freeformChallengeSumTimeTaken,genericPromptType:t.genericPromptType,hasExamples:t.hasExamples,illustrationFormat:"svg",masterVersion:n,maxScore:t.maxScore,mode:o,numHintsUsed:t.hintsUsed.length,score:t.score,startTime:t.startTime,supportedPartCompleteSubslideTypes:En.join(",")};return(yield vn.post(`/api2/stories/${e}/complete`,r)).data})),Sn=e=>_n(void 0,void 0,void 0,(function*(){return(yield vn.post("/api/userReply",e)).data})),wn=(e,t)=>_n(void 0,void 0,void 0,(function*(){return(yield vn.get("/api2/config",{params:{fields:"courses",fromLanguage:t,learningLanguage:e}})).data})),Tn=(e,t,n,o,i)=>_n(void 0,void 0,void 0,(function*(){return(yield vn.get("/api2/listingUpdate",{params:{crowns:o,filterMature:n,fromLanguage:t,illustrationFormat:"svg",learningLanguage:e,masterVersion:!1,setSize:i?4:void 0,unlockingMechanism:i}})).data})),In=(e,t,n)=>_n(void 0,void 0,void 0,(function*(){yield vn.post("/api2/seenListingUpdate",{fromLanguage:t,learningLanguage:e,timeOfUpdate:n})})),kn=(e,t,n,o,i,r,s,a)=>_n(void 0,void 0,void 0,(function*(){return(yield vn.get("/api2/user/carouselStories",{params:{carouselStories:null==i?void 0:i.join(","),crowns:r,filterMature:o,fromLanguage:n,illustrationFormat:"svg",learningLanguage:t,masterVersions:e,proposed:a,setSize:s?4:void 0,unlockingMechanism:s}})).data}));var Rn=n(88868),Cn=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const On=K(""),Nn=(e="/")=>Cn(void 0,void 0,void 0,(function*(){yield On.post("/logout"),q(),yield(0,Rn.Zs)(e)})),Pn=()=>Cn(void 0,void 0,void 0,(function*(){yield On.post("/deactivate"),(0,z.cl)(z.Qt.State)})),Ln=e=>Cn(void 0,void 0,void 0,(function*(){return(yield On.post("/invite",{email:e})).data})),An=()=>Cn(void 0,void 0,void 0,(function*(){return(yield On.get("/notifications")).data})),Dn=e=>Cn(void 0,void 0,void 0,(function*(){const t=new FormData;t.append("image",e),yield On.post("/avatars",t)})),xn=(e,t,n)=>Cn(void 0,void 0,void 0,(function*(){return(yield On.get(`/sentence/${e}`,{params:{learning_language:(0,it.D3)(t),ui_language:(0,it.D3)(n)}})).data})),Mn=e=>Cn(void 0,void 0,void 0,(function*(){yield On.post("/dismiss_notification",{message:e.toLowerCase()})})),Un=(e,t,n,o)=>Cn(void 0,void 0,void 0,(function*(){return(yield On.post("/sentences/comment",{learning_language:(0,it.D3)(t),message:n,sentence_id:o,ui_language:(0,it.D3)(e)})).data})),Fn=e=>Cn(void 0,void 0,void 0,(function*(){return(yield On.get("/admin_tools",{params:{log_type:"deletes",page:e}})).data})),jn=()=>Cn(void 0,void 0,void 0,(function*(){return(yield On.get("/admin_tools/shadow_banned")).data})),Bn=e=>Cn(void 0,void 0,void 0,(function*(){const t=(yield On.post("/admin_tools/shadow_banned/add",{username:e})).data;if(t.error)throw t.error;return t})),Hn=e=>Cn(void 0,void 0,void 0,(function*(){const t=(yield On.post("/admin_tools/shadow_banned/remove",{user_id:e})).data;if(t.error)throw t.error;return t})),Gn=()=>Cn(void 0,void 0,void 0,(function*(){return(yield On.get("/admin_tools/social_currency_stats")).data})),Vn=()=>Cn(void 0,void 0,void 0,(function*(){return(yield On.get("/vocabulary/overview")).data})),Zn=(e,t,n,o)=>Cn(void 0,void 0,void 0,(function*(){return(yield On.post("/reset",{confirm_new_password:o,email:e,new_password:n,token:t})).data}));var Wn=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},zn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const Yn=K("/api/1"),$n=(e,t,n,o)=>Wn(void 0,void 0,void 0,(function*(){const i=new FormData;i.append("user_id",`${e}`),i.append("username",t),o&&i.append("image",o),n.length&&i.append("ban_description",n),yield Yn.post("/shadowban_user",i)})),Kn=e=>{switch(e){case"zh-CN":return"zh";default:return e}},qn=e=>{switch(e){case"zh":return"zh-CN";default:return e}},Jn=e=>{var{from_language:t,from_language_id:n,from_language_name:o,learning_language:i,learning_language_id:r,learning_language_name:s,num_learners:a,num_learners_string:l}=e,c=zn(e,["from_language","from_language_id","from_language_name","learning_language","learning_language_id","learning_language_name","num_learners","num_learners_string"]);return Object.assign({fromLanguage:t,fromLanguageId:Kn(n),fromLanguageName:o,learningLanguage:i,learningLanguageId:Kn(r),learningLanguageName:s,numLearners:a,numLearnersString:l},c)},Xn=()=>Wn(void 0,void 0,void 0,(function*(){return(yield Yn.get("/courses/list")).data.map(Jn).filter((({fromLanguageId:e,learningLanguageId:t})=>(0,it.zp)(t,e)))})),Qn=(e,t=it.h9,n=it.h9)=>Wn(void 0,void 0,void 0,(function*(){return(e=>{var{beta_date:t,course_data:n,estimated_beta_date:o,estimated_beta_date_string:i,from_language:r,from_language_name:s,from_language_id:a,learning_language:l,learning_language_id:c,learning_language_name:u,num_learners:d,num_learners_string:p,released_date:m,released_date_string:g,start_date:h,subscriber_count:_,user_subscribed:v}=e,f=zn(e,["beta_date","course_data","estimated_beta_date","estimated_beta_date_string","from_language","from_language_name","from_language_id","learning_language","learning_language_id","learning_language_name","num_learners","num_learners_string","released_date","released_date_string","start_date","subscriber_count","user_subscribed"]);return Object.assign({betaDate:t,courseData:n,estimatedBetaDate:o,estimatedBetaDateString:i,fromLanguage:r,fromLanguageId:Kn(a),fromLanguageName:s,learningLanguage:l,learningLanguageId:Kn(c),learningLanguageName:u,numLearners:d,numLearnersString:p,releasedDate:m,releasedDateString:g,startDate:h,subscriberCount:_,userSubscribed:v},f)})((yield Yn.get(`/courses/${qn(e)}/${qn(t)}/show`,{params:{ui_language_abbrev:(0,it.D3)(n)}})).data)})),eo=V.HP((e=>Wn(void 0,void 0,void 0,(function*(){return(yield Yn.get("/get_language_tokens",{params:{language:e}})).data.tokens||[]})))),to=(e,t)=>Wn(void 0,void 0,void 0,(function*(){yield Yn.post(`/experiments/${e}/treatments`,t)})),no=(e,t)=>Wn(void 0,void 0,void 0,(function*(){yield Yn.post("/me/register_device",{registration_id:e,subscription:t})})),oo=e=>Wn(void 0,void 0,void 0,(function*(){yield Yn.post("/me/unregister_device",{registration_id:e})})),io=(e,t,n)=>Wn(void 0,void 0,void 0,(function*(){const o={};n&&(o.email=n),yield Yn.post(`/courses/${qn(e)}/${qn(null!=t?t:it.h9)}/subscribe`,o)})),ro=(e,t,n)=>Wn(void 0,void 0,void 0,(function*(){const o={};n&&(o.email=n),yield Yn.post(`/courses/${qn(e)}/${qn(null!=t?t:it.h9)}/unsubscribe`,o)})),so=(e,t,n)=>Wn(void 0,void 0,void 0,(function*(){return(yield Yn.get(`/dictionary_page/verb_tables/${(0,it.D3)(e)}?${(0,A.Vp)({infinitives:JSON.stringify(t),verb_patterns:n})}`)).data})),ao=e=>Wn(void 0,void 0,void 0,(function*(){return(yield Yn.get("/vocab/example_sentences",{params:{lexeme_ids:e.join(",")}})).data})),lo=(e,t,n=!0)=>Wn(void 0,void 0,void 0,(function*(){const o={lexeme_id:e,use_cache:n};return t&&(o.from_language_id=t),(yield Yn.get("/dictionary_page",{params:o})).data}));var co=n(46435),uo=n(41364),po=n(71371),mo=n(85381),go=n(54448),ho=n(785),_o=n(11811),vo=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const fo=$("/2017-06-30");fo.addErrorInterceptor(((e,{response:t})=>{if(401===(null==t?void 0:t.status)&&!e.includes("login")){if((0,M.Pc)())return(0,D.um)("Requiring logged-out user to log in again",{sample:.1}),q(),(0,Rn.Zs)();(0,D.vU)("Attempted authenticated call while logged-out")}})),(0,Z.gQ)("debugStripe")&&fo.setServiceEnvironment("purchasing-backend","staging").setServiceEnvironment("shop-backend","staging").setServiceEnvironment("subscriptions-backend","staging");const yo=()=>["acquisitionSurveyReason","adsConfig","betaStatus","bio","blockedUserIds","canUseModerationTools","courses","creationDate","currentCourse","email","emailAnnouncement","emailAssignment","emailAssignmentComplete","emailClassroomJoin","emailClassroomLeave","emailEditSuggested","emailEventsDigest","emailFollow","emailPass","emailPromotion","emailWeeklyProgressReport","emailSchoolsAnnouncement","emailSchoolsNewsletter","emailSchoolsProductUpdate","emailSchoolsPromotion","emailStreamPost","emailVerified","emailWeeklyReport","enableMicrophone","enableSoundEffects","enableSpeaker",`experiments{${co.rn}}`,"facebookId","fromLanguage","globalAmbassadorStatus","googleId","hasPlus","id","inviteURL","joinedClassroomIds","lastStreak{isAvailableForRepair,length}","learningLanguage","lingots","location","monthlyXp","name","observedClassroomIds","persistentNotifications","picture","plusDiscounts","practiceReminderSettings","privacySettings","referralInfo","rewardBundles","roles","streak","streakData{length}","timezone","timezoneOffset","totalXp","trackingProperties","unconsumedGiftIds","username","webNotificationIds","weeklyXp","xpGains","xpGoal","zhTw","_achievements"];var Eo;!function(e){e.COMMENT="COMMENT",e.FOLLOW="FOLLOW",e.LESSON="LESSON",e.MASTER="MASTER",e.PASS="PASS",e.PRACTICE="PRACTICE",e.STREAM_POST="STREAM_POST",e.TEST="TEST",e.TRANSLATION="TRANSLATION",e.WELCOME="WELCOME"}(Eo||(Eo={}));const bo=(e,t=!0)=>vo(void 0,void 0,void 0,(function*(){yield fo.post("/login",Object.assign({distinctId:(0,ho.kG)()},e),{params:{fields:t?yo().join(","):""}})})),So=e=>vo(void 0,void 0,void 0,(function*(){yield fo.post("/login",Object.assign({distinctId:(0,ho.kG)()},e),{params:{fields:""}})})),wo=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.post("/users",Object.assign({distinctId:(0,ho.kG)()},e),{params:{fields:"id"}})).data})),To=(0,uo.p)("GET_USER")((e=>vo(void 0,void 0,void 0,(function*(){return yield Io(e,yo())})))),Io=(e,t)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${e}`,{params:{fields:t.join(",")}})).data})),ko=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${e}`,{params:{fields:"_achievements"}})).data})),Ro=(e,t={})=>vo(void 0,void 0,void 0,(function*(){yield fo.patch(`/users/${e}/achievements`,Object.assign({},t))})),Co=e=>fo.post(`/users/${e}/email-verifications`),Oo=(e,t)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.patch(`/users/${e}/email-verifications/${t}`,{verified:!0})).data})),No=(e,t)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.post("/email-removals",{email:e,token:t})).data})),Po=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get("/onboarding/validate-username",{params:{username:e}})).data})),Lo=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get("/users",{params:{username:e}})).data.users})),Ao=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get("/users",{params:{email:e}})).data.users})),Do=(e,t,n)=>vo(void 0,void 0,void 0,(function*(){const o=n?{fields:n.join(",")}:{};return(yield fo.patch(`/users/${e}`,Object.assign({},t),{params:o})).data})),xo=(e,t)=>vo(void 0,void 0,void 0,(function*(){const n=t?{fields:t.join(",")}:{};return(yield fo.get(`/users/${e}/subscriptions`,{params:n})).data.subscriptions})),Mo=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${e}/xp_summaries`)).data.summaries})),Uo=(e,t,n)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${e}/subscriptions`,{params:{pageAfter:n,pageSize:t}})).data})),Fo=(e,t,n)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${e}/subscribers`,{params:{pageAfter:n,pageSize:t}})).data})),jo=(e,t,n)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${e}/moderated-events`,{params:{limit:n,types:t.join(",")}})).data.events})),Bo=(e,t)=>vo(void 0,void 0,void 0,(function*(){yield fo.post(`/users/${e}/messages`,{message:t})})),Ho=e=>fo.delete(`/users/${(0,M.Jb)()}/courses/${e}`,{}),Go=(e,t,n)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.patch(`/users/${(0,M.Jb)()}/courses/${e}/skills/${t}`,n)).data})),Vo=e=>vo(void 0,void 0,void 0,(function*(){const t=(e.type===_o.FF.AlphabetLesson&&(0,Z.NY)()?yield fe(e.learningLanguage,e.fromLanguage,e):yield fo.post("/sessions",e)).data;if(!Array.isArray(t.challenges))throw Error("No challenges present in session");return t})),Zo=({cancelToken:e,currentCourse:t,onError:n,session:o})=>(0,un.XD)((()=>vo(void 0,void 0,void 0,(function*(){try{let e;if(e=o.type===_o.FF.AlphabetLesson?yield ve(o,t):yield fo.put(`/sessions/${o.id}`,Object.assign({},o),{headers:{"Idempotency-Key":o.id},timeout:1e4}),202===e.status)throw Error("Session has been accepted but not yet processed.");return e.data}catch(t){throw po.Z.remove("session_end_grade"),null==n||n(t),t.response&&(t.response.status>=500&&t.response.status<600&&!t.response.headers["no-retry"]||e.cancel()),t}}))),{backoffFn:e=>{const t=.75+2*Math.random()*.25;return 250*Math.pow(2,e-1)*t},cancelToken:e,retries:1/0,stopAtTime:Date.now()+24e4}),Wo=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.post(`/sessions/${e.id}/challenges`,Object.assign({},e))).data})),zo=e=>vo(void 0,void 0,void 0,(function*(){return V.ei((yield fo.put(`/challenges/${e.id}`,Object.assign({},e))).data,"blameMessage","blameType","closestSolution","correct","gradingMetadata","guess","highlights")})),Yo={BAD_AUDIO:"BAD_AUDIO",BAD_HINTS:"BAD_HINTS",BAD_IMAGE:"BAD_IMAGE",BAD_OPTION:"BAD_OPTION",BAD_PROMPT:"BAD_PROMPT",CHARACTER_DISPLAY:"CHARACTER_DISPLAY",MISSING_AUDIO:"MISSING_AUDIO",MISSING_HINTS:"MISSING_HINTS",MISSING_IMAGE:"MISSING_IMAGE",NOT_ACCEPTED:"NOT_ACCEPTED",OFFENSIVE_OPTION:"OFFENSIVE_OPTION",OTHER_ISSUE:"OTHER_ISSUE",WRONG_ACCEPTED:"WRONG_ACCEPTED"},$o=(e,t)=>vo(void 0,void 0,void 0,(function*(){const n={challenge:(0,go.g)(e),problems:t};yield fo.post(`/challenges/${e.id}/reports`,n)})),Ko=()=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get("/shop-items")).data.shopItems})),qo=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${(0,M.Jb)()}/shop-items/${e}`)).data})),Jo=(e,t)=>vo(void 0,void 0,void 0,(function*(){return fo.patch(`/users/${(0,M.Jb)()}/shop-items/${e}`,t)})),Xo=(e,t,n,o)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.put(`/users/${(0,M.Jb)()}/payment-methods/${e}`,{product:t,stripeToken:n},{headers:{"Idempotency-Key":o}})).data})),Qo=()=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${(0,M.Jb)()}`,{params:{fields:"paymentMethods"}})).data.paymentMethods})),ei=()=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${(0,M.Jb)()}`,{params:{fields:"shopItems{familyPlanInfo{inviteToken,ownerId,secondaryMembers},itemName,purchaseDate,purchaseId,purchasePrice,quantity,subscriptionInfo{currency,expectedExpiration,extendedFreeTrialLength,isFreeTrialPeriod,periodLength,price,renewer,renewing},wagerDay}"}})).data.shopItems})),ti=(e,t)=>vo(void 0,void 0,void 0,(function*(){return(yield fo.post(`/users/${(0,M.Jb)()}/payment-methods`,{product:mo.hp.Duolingo,stripeToken:e},{headers:{"Idempotency-Key":t}})).data})),ni=(e,t={},n)=>vo(void 0,void 0,void 0,(function*(){const o=new un.$B;let i=0;return(0,un.XD)((()=>vo(void 0,void 0,void 0,(function*(){try{return{item:(yield fo.post(`/users/${(0,M.Jb)()}/shop-items`,Object.assign({itemName:e},t),{headers:n?{"Idempotency-Key":n}:void 0})).data,numRetries:i}}catch(e){throw e.response&&(e.response.status>=500&&e.response.status<600&&!e.response.headers["no-retry"]&&"experiment"===(0,Me.j6)("plus_web_purchase_error_retry",void 0)?i++:o.cancel()),e}}))),{cancelToken:o,retries:1})})),oi=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/plus-coupon-codes/${e}`)).data})),ii=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/family-plan/invite/${e}`)).data.isValid})),ri=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.post(`/users/${(0,M.Jb)()}/family-plan/members/invite/${e}`,{})).data})),si=(e,t)=>fo.delete(`/users/${e}/family-plan/members/${t}`,{}),ai=["ageRestrictionLimit",`clientExperiments{${co.Sg}}`,"courses","dictionaryHost","featureFlags","ipCountry","speechHost"],li=e=>vo(void 0,void 0,void 0,(function*(){return 200===(yield fo.get(`/bango/invite/${e}`)).status})),ci=e=>vo(void 0,void 0,void 0,(function*(){return 200===(yield fo.post(`/users/${(0,M.Jb)()}/activate-bango-subscription`,{inviteToken:e})).status})),ui=()=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get("/config",{params:{fields:ai.join(",")}})).data})),di=e=>vo(void 0,void 0,void 0,(function*(){yield fo.delete(`/users/${(0,M.Jb)()}/shop-items`,{itemName:e})})),pi=()=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/users/${(0,M.Jb)()}/privacy-settings`)).data.privacySettings.map((e=>Object.assign(Object.assign({},e),{id:e.id.toUpperCase()})))})),mi=e=>fo.post("/password-reset",{email:e}),gi=(e,t)=>vo(void 0,void 0,void 0,(function*(){yield fo.post("/tracking-status",{distinctId:t,enabled:e})})),hi=e=>vo(void 0,void 0,void 0,(function*(){yield fo.post(`/users/${e}/referral-bonuses`)})),_i=(e,t)=>vo(void 0,void 0,void 0,(function*(){yield fo.patch(`/users/${e}/rewards/${t}`,{consumed:!0})})),vi=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.get(`/attribution/survey/custom?uiLanguage=${e}`)).data.responses})),fi=(e,t,n)=>vo(void 0,void 0,void 0,(function*(){const o=`/users/${e}/prior-proficiency-onboarding`;yield fo.post(o,{fromLanguage:it.h9,learningLanguage:qn(t),priorProficiency:n})})),yi=e=>vo(void 0,void 0,void 0,(function*(){return(yield fo.post(`/users/${(0,M.Jb)()}/plus-discounts`,{discountType:e})).data}));const Ei=Y("https://www.duolingo.com/2017-06-30"),bi=()=>{return e=void 0,t=void 0,o=function*(){var e;if(null===(e=window.webkit)||void 0===e?void 0:e.messageHandlers)return new Promise((e=>{window.weekly_data_callback=t=>{window.user_model_callback=n=>{if(t.current_streak=n.streakData.length,t.current_learning_language=n.currentCourse.learningLanguage,n.currentCourse.skills){const e=n.currentCourse.skills;let o=0,i=0;e.forEach((e=>{e.forEach((({finishedLevels:e})=>{o+=1,e>0&&(i+=1)}))})),t.current_course_progress=i/o}e(t)},window.webkit.messageHandlers.observer.postMessage({get_user_model:{callback:"user_model_callback",fields:["currentCourse","streakData"]}})},window.webkit.messageHandlers.observer.postMessage({get_weekly_report_info:{callback:"weekly_data_callback"}})}));const{data:t}=yield Ei.get("/weekly-report-info");return t},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,n,o}},50498:(e,t,n)=>{"use strict";n.d(t,{$B:()=>s,p4:()=>a,f:()=>l,XD:()=>c,_v:()=>u});var o=n(80254),i=n(59815),r=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};class s{constructor(){this.cancelled=!1,this.cancel=()=>{this.cancelled=!0},this.isCancelled=()=>this.cancelled}}const a=e=>r(void 0,void 0,void 0,(function*(){const t={};try{return(yield Promise.race([e,t]))===t?"pending":"fulfilled"}catch(e){return"rejected"}})),l=o.IH((()=>new Promise((()=>{})))),c=(e,{backoffFn:t,cancelToken:n,retries:o,stopAtTime:s})=>r(void 0,void 0,void 0,(function*(){let r,a=0;for(;a<o+1;){if(a>0){const e=t?t(a):Math.round(Math.min(1e3*a,3e4)*(Math.random()+1));console.log(`Backing off for ${e}ms before retrying`),yield u(e)}if((null==n?void 0:n.isCancelled())||s&&Date.now()>=s)break;try{return yield e(a)}catch(e){r=e}if(a++,null==n?void 0:n.isCancelled())break}throw null!=r?r:new i.$K})),u=e=>new Promise((t=>{window.setTimeout(t,e)}))},13942:(e,t,n)=>{"use strict";n.d(t,{Tc:()=>b,N$:()=>O,cq:()=>N,IZ:()=>A,a1:()=>D,GN:()=>x,nU:()=>M,Ap:()=>U,Ms:()=>B});var o=n(91367),i=n(80254),r=n(1330),s=n(39158),a=n(81891),l=n(37939),c=n(33418),u=n(21384),d=n(1563),p=n(62103),m=n(50498),g=n(80388),h=n(71371),_=n(51158),v=n(18804),f=n(785);const y={BONUS:{url:r,volume:.5},CORRECT:{url:l,volume:.35},FAILED:{url:a,volume:.5},INCORRECT:{url:p,volume:.35},PASSED:{url:s,volume:.5},TEST:{url:u,volume:.4},TIMER:{url:d,volume:.6}},E=Symbol("SOUND_OPTIONS_KEY"),b=i.Xc(y,(e=>e.url)),S=i.Ry(i.VO(y).map((({url:e,volume:t})=>[e,t]))),w=[],T={},I={};let k,R=!1;const C=({failureReason:e,source:t,timeTaken:n,url:o})=>{const i=(0,g.J9)()?.005:5e-4;if(Math.random()<i){const r=new URL(F(o));(0,f.j)("tts_play_finished",{failure_reason:e,host:r.host,path:r.pathname,sampling_rate:i,successful:void 0===e,time_taken:n,tts_source:t})}},O=({text:e,url:t})=>{const n=(0,g.J9)()?.1:.01;Math.random()<n&&(0,f.j)("tts_download_failure",{offline:!navigator.onLine,path:t?F(t):"",text:e})},N=()=>w.length>0||R,P=e=>{var t;return new o.Howl({format:["mp3"],html5:!0,onloaderror:(t,n)=>(0,_.vU)("Failed to load audio",{data:{errorCode:n,url:e},sample:1e-4}),onplayerror:(t,n)=>(0,_.vU)("Failed to play audio",{data:{errorCode:n,url:e},sample:1e-4}),preload:!0,src:[e],volume:null!==(t=S[e])&&void 0!==t?t:1})},L=e=>{switch(e){case"ended":return"end";case"error":return"loaderror";default:return e}},A=e=>{if(!e)return Promise.reject();if(e=F(e),!T[e]){const t=P(e);T[e]=new Promise(((e,n)=>{t.on("load",e),t.on("loaderror",n)})),I[e]=t}return T[e]},D=(e,{requestedAt:t},n)=>{var o;if(!e)return(0,_.Kp)("TTS URL is null"),void C({failureReason:"empty_url",source:"network",timeTaken:0,url:""});const i=T[e];let r="network";var s,a,l,c;s=void 0,a=void 0,c=function*(){const e=i?yield(0,m.p4)(i):"empty";r="fulfilled"===e?"cache":"pending"===e?"pending-cache":"network"},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l((function(e){e(i)}))).then(n,o)}i((c=c.apply(s,a||[])).next())}));const u=window.performance.now();return x(e,Object.assign(Object.assign({},n),{eventListeners:[...null!==(o=null==n?void 0:n.eventListeners)&&void 0!==o?o:[],["error",()=>C({failureReason:"load_error",source:r,timeTaken:window.performance.now()-u,url:e})],["play",()=>{const n=window.performance.now();h.Z.start("tts_play",{startTime:t}),h.Z.finish("tts_play"),C({failureReason:void 0,source:r,timeTaken:n-u,url:e})}],["playerror",()=>C({failureReason:"play_promise_rejected",source:r,timeTaken:window.performance.now()-u,url:e})]]}))},x=(e,t={})=>{var n,o,r,s,a,l;if(!e)return void(0,_.Kp)("TTS URL is null");if(e=F(e),i.VO(b).includes(e)&&!(null===(n=(0,v.y0)())||void 0===n?void 0:n.user.enableSoundEffects))return;if(!t.overlay&&k&&k.howl.playing()&&k.options.forceListen&&k.url!==e&&k.url!==t.allowInterrupt)return;const c=null!==(o=I[e])&&void 0!==o?o:P(e),u=c[E];return c[E]=t,null===(r=null==u?void 0:u.eventListeners)||void 0===r||r.forEach((([e,t])=>c.off(L(e),t))),null===(s=t.eventListeners)||void 0===s||s.forEach((([e,t])=>c.on(L(e),t))),I[e]||c.on("end",(()=>j(c))),t.overlay||(U(),k={howl:c,options:t,url:e}),c.seek(null!==(a=t.currentTime)&&void 0!==a?a:0),c.rate(null!==(l=t.playbackRate)&&void 0!==l?l:1),c.play(),{get currentTime(){return c.seek()},get duration(){return c.duration()},get paused(){return!c.playing()}}},M=i.IH((()=>{try{const e=new o.Howl({src:[c]});e.on("unlock",(()=>{e.unload(),R=!0}))}catch(e){(0,_.vU)("Howler failed to unlock audio",{ex:e})}})),U=()=>null==k?void 0:k.howl.stop(),F=e=>e.replace("http://static.duolingo.com","https://d7mj4aqfscim2.cloudfront.net"),j=e=>{var t;const n=e[E];null===(t=null==n?void 0:n.eventListeners)||void 0===t||t.forEach((([t,n])=>e.off(L(t),n))),e[E]=void 0,e.unload()},B=e=>{e&&(e=F(e),T[e]&&(delete T[e],j(I[e]),delete I[e]))}},70326:(e,t,n)=>{"use strict";n.d(t,{Wj:()=>v,pK:()=>y,$C:()=>E,x4:()=>b,IS:()=>S,rV:()=>T,lV:()=>I});var o=n(80254),i=n(89454),r=n(54412),s=n(21061),a=n(59815),l=n(41679),c=n(67574),u=n(13840),d=n(74245),p=n(51158),m=n(11908),g=n(785),h=n(16086),_=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};class v extends a.pY{constructor(e,t){super(),this.useImprovedErrorMessages=e,this.errorFields=t}}const f=e=>_(void 0,void 0,void 0,(function*(){var t;const n={timezone:(0,s.NP)()};try{const n=l.E6()&&(null===(t=yield l.Jb())||void 0===t?void 0:t.accessToken);n&&(e.facebookToken=n)}catch(e){}try{const t=c.E6()&&(yield c.hP());t&&(e.googleToken=t)}catch(e){}const o=(0,m.rV)(m.Qt.InviteCode);o&&(e.inviteCode=o,(0,m.cl)(m.Qt.InviteCode));const a=(0,r.ej)(r.Vj.LandingURL);a!==r.m_&&(e.landingUrl=a);const u=(0,r.ej)(r.Vj.InitialReferrer);u!==r.m_&&(e.initialReferrer=u),e.lastReferrer=(0,r.ej)(r.Vj.LastReferrer),(0,r.d8)(r.Vj.LastReferrer,"");const d=(yield i.Vi.userCreate(Object.assign(Object.assign({},n),e))).id;yield(0,g.bm)(d),(0,g.XZ)(d)})),y=(e,t=d.h9)=>_(void 0,void 0,void 0,(function*(){if(e===t)throw(0,p.vU)("Tried to create trial user with same from and learning languages",{data:{fromLanguage:t,learningLanguage:e}}),Error("learningLanguage and fromLanguage cannot be the same");yield f({fromLanguage:t,learningLanguage:e})})),E=(e={},t=d.h9)=>_(void 0,void 0,void 0,(function*(){yield f(Object.assign({fromLanguage:t},e))})),b=(e,t=!0)=>_(void 0,void 0,void 0,(function*(){const n=(0,r.ej)(r.Vj.LandingURL);n!==r.m_&&(e.landingUrl=n),e.lastReferrer=(0,r.ej)(r.Vj.LastReferrer),(0,r.d8)(r.Vj.LastReferrer,""),yield i.Vi.login(e,t);const o=(0,h.Jb)();(0,g.XZ)(o)})),S=(e,t=!0)=>_(void 0,void 0,void 0,(function*(){const n={};if(e.identifier.trim()||(n.identifier=(0,u.H8)(11696)),e.password.trim()||(n.password=(0,u.H8)(5030)),!o.xb(n))throw new v(!1,n);try{yield b(o.ei(e,"identifier","password"),!1)}catch(o){if(t){const t=yield w(e.identifier);n.password=t?(0,u.H8)(6852):void 0,n.identifier=t?void 0:(0,u.H8)(17234,{email_or_username:e.identifier})}else n.connectivity=(0,u.H8)(19737);throw new v(!0,n)}})),w=e=>_(void 0,void 0,void 0,(function*(){const t=i.Vi.userSearch(e),n=i.Vi.userSearchByEmail(e),o=yield n,r=yield t;return o.length>0||r.length>0})),T=e=>_(void 0,void 0,void 0,(function*(){const t=yield i.Vi.usernameValidate(e),n={};if(t.suggestedUsernames&&t.suggestedUsernames.length>0)throw n.suggestedUsernames=t.suggestedUsernames,n.username=t.isUsernameTaken?(0,u.H8)(6284):(0,u.H8)(14591),new v(!0,n)})),I=e=>new v(!1,Object.assign({},...e.map((e=>{switch(e){case"AGE_INVALID":return{age:(0,u._i)(15012)};case"EMAIL_INVALID":return{email:(0,u._i)(11696)};case"EMAIL_TAKEN":return{email:(0,u._i)(1760)};case"NAME_INVALID":return{name:(0,u._i)(24091)};case"PASSWORD_INCORRECT":return{currentPassword:(0,u._i)(8182)};case"PASSWORD_INVALID":return{password:(0,u._i)(5030)};case"USERNAME_INVALID":return{username:(0,u._i)(14591)};case"USERNAME_TAKEN":return{username:(0,u._i)(6284)};default:return}}))))},30033:(e,t,n)=>{"use strict";n.d(t,{m5:()=>r,Aq:()=>s,_q:()=>a});var o=n(80254),i=n(39852);const r="data-test",s=(e,t)=>{console.log(`${e}${JSON.stringify(t)}`,i.$U)},a=(...e)=>{const t=o.jj(o.oA(e).map((e=>e.split(" "))).flat()).sort();return t.length?{[r]:t.join(" ")}:{}}},83719:(e,t,n)=>{"use strict";n.d(t,{Oj:()=>o,zD:()=>a,ub:()=>l,ul:()=>c});var o,i=n(80254);!function(e){e.Accent="accent",e.ExtraSpace="extra_space",e.MissingSpace="missing_space",e.MissingWord="missing_word",e.Typo="typo",e.WrongWord="wrong_word"}(o||(o={}));const r=[12244,9366,748,6198,12541,9987,1358,11280,22136,11684],s=[1547,8153,10795,15212,8539],a="Nice! You’re building your writing skills!",l=()=>i.UP(r),c=e=>e?i.UP(s):15039},80388:(e,t,n)=>{"use strict";n.d(t,{J9:()=>o,lS:()=>i,vQ:()=>r});const o=()=>window.location.host.endsWith(".cn"),i=()=>"zh-CN"===navigator.language,r=e=>{return t=void 0,n=void 0,i=function*(){navigator.clipboard?yield navigator.clipboard.writeText(e):s(e)},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}l((i=i.apply(t,n||[])).next())}));var t,n,o,i},s=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{if(!document.execCommand("copy"))throw Error('Cannot execute "copy" command')}finally{document.body.removeChild(t)}}},95332:(e,t,n)=>{"use strict";n.d(t,{Tu:()=>p,yH:()=>m,SJ:()=>g,j$:()=>h,rF:()=>_,nT:()=>v,r1:()=>f,eK:()=>y,jc:()=>b,cf:()=>S,j6:()=>w});var o=n(80254),i=n(40472),r=n(37590),s=n(68903),a=n(13840),l=n(74245),c=n(51158),u=n(43006),d=n(11811);const p=3,m=[d.Sm.CompleteReverseTranslation,d.Sm.Form,d.Sm.GapFill,d.Sm.Judge,d.Sm.Listen,d.Sm.ListenTap,d.Sm.SelectPronunciation,d.Sm.SelectTranscription,d.Sm.Speak,d.Sm.Translate],g={[d.Sm.Assist]:"assist",[d.Sm.CharacterIntro]:"character_intro",[d.Sm.CharacterMatch]:"character_match",[d.Sm.CharacterPuzzle]:"character_puzzle",[d.Sm.CharacterSelect]:"character_select",[d.Sm.CharacterTrace]:"character_trace",[d.Sm.CompleteReverseTranslation]:"complete_reverse_translation",[d.Sm.Definition]:"definition",[d.Sm.Dialogue]:"dialogue",[d.Sm.Form]:"form",[d.Sm.FreeResponse]:"free_response",[d.Sm.GapFill]:"gap_fill",[d.Sm.Judge]:"judge",[d.Sm.Listen]:"listen",[d.Sm.ListenComplete]:"listen_complete",[d.Sm.ListenComprehension]:"listen_comprehension",[d.Sm.ListenTap]:"listen_tap",[d.Sm.Match]:"match",[d.Sm.Name]:"name",[d.Sm.ReadComprehension]:"read_comprehension",[d.Sm.Select]:"select",[d.Sm.SelectPronunciation]:"select_pronunciation",[d.Sm.SelectTranscription]:"select_transcription",[d.Sm.Speak]:"speak",[d.Sm.TapCloze]:"tap_cloze",[d.Sm.TapClozeTable]:"tap_cloze_table",[d.Sm.TapComplete]:"tap_complete",[d.Sm.TapCompleteTable]:"tap_complete_table",[d.Sm.TapDescribe]:"tap_describe",[d.Sm.Translate]:"translate",[d.Sm.TypeCloze]:"type_cloze",[d.Sm.TypeClozeTable]:"type_cloze_table",[d.Sm.TypeCompleteTable]:"type_complete_table"},h=e=>{const t=[];return e.forEach(((e,n,o)=>{e.isBlank&&n>0&&o[n-1].isBlank?t[t.length-1].text+=e.text:t.push(Object.assign({},e))})),t},_=e=>[!0,void 0].includes(e.grader.whitespaceDelimited)?" ":"",v=(e,t)=>{e.length!==t.length&&(0,c.Kp)("Mismatch between text sequence lengths",{data:{differentTexts:t,originalTexts:e}});let n=0;const o=[];for(let i=0;i<Math.min(e.length,t.length);i++){const r=e[i];r!==t[i]&&o.push([n,n+r.length]),n+=r.length}return o},f=e=>{var t;switch(e.type){case d.Sm.Assist:case d.Sm.CharacterIntro:case d.Sm.CharacterPuzzle:case d.Sm.CharacterSelect:case d.Sm.CharacterTrace:case d.Sm.CompleteReverseTranslation:case d.Sm.Judge:case d.Sm.Listen:case d.Sm.ListenComplete:case d.Sm.ListenTap:case d.Sm.Name:case d.Sm.Select:case d.Sm.Speak:case d.Sm.Translate:return[e.prompt];case d.Sm.CharacterMatch:return[e.pairs.map((e=>e.character)).join(", ")];case d.Sm.Definition:return[e.displayTokens.map((e=>e.text)).join(""),(0,a.H8)(1831,{string_1:e.phraseToDefine})];case d.Sm.Dialogue:{const t=e.dialogue.map((e=>{const t=h(e.displayTokens).map((e=>e.isBlank?u.qv:e.text)).join("");return(0,a.H8)(20248,{message:t,speaker:e.speaker})}));return e.promptTokens&&t.push(e.promptTokens.map((e=>e.value)).join("")),t}case d.Sm.Form:return[`${e.promptPieces[0]} ${u.qv} ${e.promptPieces[1]}`];case d.Sm.FreeResponse:return[null!==(t=e.prompt)&&void 0!==t?t:""];case d.Sm.GapFill:return[h(e.displayTokens).map((e=>e.isBlank?u.qv:e.text)).join("")];case d.Sm.ListenComprehension:return[e.prompt,e.question?e.question:(0,a.H8)(2005)];case d.Sm.Match:return[e.pairs.map((e=>e.learningToken)).join(", ")];case d.Sm.ReadComprehension:return[e.passage,e.question?e.question:(0,a.H8)(2005)];case d.Sm.SelectPronunciation:case d.Sm.SelectTranscription:return[e.choices[e.correctIndex].text];case d.Sm.TapCloze:case d.Sm.TapClozeTable:case d.Sm.TapCompleteTable:case d.Sm.TypeCloze:case d.Sm.TypeClozeTable:case d.Sm.TypeCompleteTable:return[(0,r.JH)(e)];case d.Sm.TapComplete:return[e.displayTokens.map((e=>e.isBlank?u.qv:e.text)).join("")];case d.Sm.TapDescribe:return[e.correctSolutions[0]];default:throw(0,s.RJ)(e),Error(`Cannot get prompt for ${e.type} challenge`)}},y=({browserSettings:e,challenge:t,isDesktop:n,isGrammar:o,session:i})=>{if(i.type===d.FF.Checkpoint||i.type===d.FF.PlacementTest)switch(t.type){case d.Sm.Translate:return{canToggleTyping:!1,isToggledToTyping:!E(t)};default:return{canToggleTyping:!1,isToggledToTyping:!1}}if(i.type===d.FF.AlphabetLesson)return{canToggleTyping:!1,isToggledToTyping:!1};switch(t.type){case d.Sm.CompleteReverseTranslation:return{canToggleTyping:!0,isToggledToTyping:e.completeReverseTranslationTypingEnabled&&!o};case d.Sm.ListenTap:return n?{canToggleTyping:!0,isToggledToTyping:e.typingEnabled}:{canToggleTyping:!1,isToggledToTyping:!1};case d.Sm.Translate:return E(t)?{canToggleTyping:!0,isToggledToTyping:e.typingEnabled}:{canToggleTyping:!1,isToggledToTyping:!0};default:return{canToggleTyping:!1,isToggledToTyping:!0}}},E=e=>e.choices.length>0,b=({fromLanguage:e,learningLanguage:t})=>(0,i.y)(t)&&(0,i.y)(e),S=(e,t,n)=>(e*n+t+1)%(2*n),w=(e,t,n=[])=>{if((0,l.k4)(e))return t.map(((e,t)=>n.includes(e.value)?t:void 0)).filter((e=>void 0!==e));const i=t.map((({value:e})=>e)).join("");return n.reduce(((e,t)=>{const n=i.indexOf(t);return e.concat(o.DZ(t.length,(e=>e+n)))}),[])}},74923:(e,t,n)=>{"use strict";n.d(t,{KT:()=>E,uZ:()=>S,w6:()=>w,Q5:()=>T,uu:()=>I,tv:()=>k,j4:()=>R,Gs:()=>C,BY:()=>O,w4:()=>N,sS:()=>P});var o=n(80254),i=n(76986),r=n(89454),s=n(83719),a=n(95332),l=n(11202),c=n(33037),u=n(37590),d=n(13840),p=n(51158),m=n(87477),g=n(59096),h=n(11811),_=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const v=i;class f{continueChallenge({challengeState:e}){return Object.assign({},e)}hasDiscussion({}){return!1}prepareChallenge({challenge:e}){const t=Object.assign({},e);return t.character&&!t.character.image&&delete t.character,t}}const y={[h.Sm.Assist]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.options.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.text,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:t.guess}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.CharacterIntro]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.CHARACTER_DISPLAY,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>[{autoplay:!0,required:!1,text:e.prompt,url:e.tts}],this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.CharacterMatch]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.CHARACTER_DISPLAY,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.pairs.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.character,url:e.tts}))),this.grade=({challengeState:e})=>Promise.resolve({correct:void 0!==e.guess,guess:e.guess}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.CharacterPuzzle]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_OPTION,r.Vi.ChallengeReports.CHARACTER_DISPLAY,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA([...e.choices.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.text,url:e.tts})),{autoplay:!0,required:!1,text:e.correctSolutions[0],url:e.tts}]),this.grade=({challenge:e,challengeState:t})=>{var n;const o=null===(n=t.guess)||void 0===n?void 0:n.choices.map((t=>t>=0?e.choices[t].text:"")).join(""),i=e.correctIndices.map((t=>e.choices[t].text)).join("");return Promise.resolve({correct:o===i,guess:o})},this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t})=>{var n,o;return(null===(o=null===(n=t.guess)||void 0===n?void 0:n.choices)||void 0===o?void 0:o.filter((e=>e>=0)).length)===e.correctIndices.length}}},[h.Sm.CharacterSelect]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_OPTION,r.Vi.ChallengeReports.CHARACTER_DISPLAY,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.choices.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.character,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.CharacterTrace]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO],this.getTts=({challenge:e})=>e.tts?[{autoplay:!0,required:!1,text:e.prompt,url:e.tts}]:[],this.grade=({challenge:e,challengeState:t})=>{var n;return Promise.resolve({correct:(null!==(n=t.guess)&&void 0!==n?n:0)>=e.strokes.length,guess:t.guess})},this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t})=>{var n;return(null!==(n=t.guess)&&void 0!==n?n:0)>=e.strokes.length}}},[h.Sm.CompleteReverseTranslation]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tokens.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t,challengeToggleState:n})=>_(this,void 0,void 0,(function*(){if(n.isToggledToTyping){const o=this.getTypedSentence(t);return(0,c.wM)({allowTypoBlame:!0,challenge:e,guess:o,isTypingInLearningLanguage:n.isToggledToTyping})}const i=this.getTypedWords(e,t),r=this.getAllWords(e,t).join(""),s=e.displayTokens.filter((e=>e.isBlank)).map((e=>e.text));if(o.Xy(i,s))return Promise.resolve({correct:!0,guess:r});const a=yield(0,c.wM)({allowTypoBlame:!0,challenge:e,guess:r,isTypingInLearningLanguage:n.isToggledToTyping});return a.correct||delete a.blameMessage,a})),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:{translatedWords:e.displayTokens.map((()=>""))},type:e.type}),this.validate=({challenge:e,challengeState:t,challengeToggleState:n})=>n.isToggledToTyping?this.getTypedSentence(t).length>0:this.getTypedWords(e,t).every((e=>e)),this.getTypedWords=(e,t)=>{var n,o;const i=null!==(o=null===(n=t.guess)||void 0===n?void 0:n.translatedWords)&&void 0!==o?o:[];return e.displayTokens.flatMap(((e,t)=>e.isBlank?i[t]:[]))},this.getAllWords=(e,t)=>{const{displayTokens:n}=e;let o=0;const i=this.getTypedWords(e,t);return n.map((e=>e.isBlank?i[o++]:e.text))},this.getTypedSentence=e=>{var t,n;return(null!==(n=null===(t=e.guess)||void 0===t?void 0:t.translatedSentence)&&void 0!==n?n:"").trim()}}},[h.Sm.Definition]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA([...e.displayTokens.map((e=>e.hintToken.tts&&{autoplay:!1,required:!1,text:e.text,url:e.hintToken.tts})),e.tts&&{autoplay:!0,required:!1,text:e.displayTokens.map((e=>e.text)).join(""),url:e.tts}]),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:t.guess}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Dialogue]:new class extends f{constructor(){super(...arguments),this.continueChallenge=({challengeState:e})=>Object.assign(Object.assign({},e),{currentDialogueIndex:e.currentDialogueIndex+1}),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>{var t;return o.oA([...e.dialogue.map((e=>e.hintTokens)).flat(),...null!==(t=e.promptTokens)&&void 0!==t?t:[]].map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts})))},this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.isReadyForGuessing=({challenge:e,challengeState:t})=>{const{dialogue:n}=e,{currentDialogueIndex:o}=t;return o>=n.length},this.prepareChallengeState=({challenge:e})=>({currentDialogueIndex:0,type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Form]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=()=>[],this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,gradingMetadata:(0,g.u5)(e,t.guess),guess:`${t.guess}`}),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallenge=e=>{const t=super.prepareChallenge(e);return t.options||(t.options=t.choices.map((e=>({text:e})))),t},this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.FreeResponse]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[],this.getTts=()=>[],this.grade=({challengeState:e})=>Promise.resolve({correct:""!==this.getResponse(e),guess:this.getResponse(e)}),this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t})=>{const{maxGuessLength:n}=e,o=this.getResponse(t);return o.length>0&&o.length<=n},this.getResponse=e=>{var t;return(null!==(t=e.guess)&&void 0!==t?t:"").trim()}}},[h.Sm.GapFill]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tokens.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:void 0===t.guess?void 0:e.choices[t.guess]}),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Judge]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.BAD_OPTION,r.Vi.ChallengeReports.OFFENSIVE_OPTION,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=()=>[],this.grade=({challenge:e,challengeState:t})=>(e.correctIndices.length>1&&(0,p.vU)(`Judge has more than one right answer: ${e.prompt}`),Promise.resolve({correct:void 0!==t.guess&&e.correctIndices.includes(t.guess),guess:t.guess})),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Listen]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA([e.slowTts&&{autoplay:!1,required:!1,text:e.prompt,url:e.slowTts},{autoplay:!0,required:!0,text:e.prompt,url:e.tts}]),this.grade=({challenge:e,challengeState:t,learningLanguage:n})=>(0,c.wM)({allowTypoBlame:!0,challenge:e,guess:this.getGuess(t),isTypingInLearningLanguage:e.grader.language===n}),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>!!this.getGuess(e),this.getGuess=e=>{var t;return(null!==(t=e.guess)&&void 0!==t?t:"").trim()}}},[h.Sm.ListenComplete]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA([e.slowTts&&{autoplay:!1,required:!1,text:e.prompt,url:e.slowTts},{autoplay:!0,required:!0,text:e.prompt,url:e.tts}]),this.grade=({challenge:e,challengeState:t,learningLanguage:n})=>(0,c.wM)({allowTypoBlame:!0,challenge:e,guess:this.getUserInput(e,t,!0).join(""),isTypingInLearningLanguage:e.grader.language===n}),this.isReadyForGuessing=()=>!0,this.prepareChallenge=e=>{const t=super.prepareChallenge(e);return t.prompt=t.displayTokens.map((e=>e.text)).join(""),t},this.prepareChallengeState=({challenge:e})=>({guess:e.displayTokens.map((()=>"")),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getUserInput(e,t,!1).every((e=>e)),this.getUserInput=(e,t,n)=>{var o;const i=null!==(o=t.guess)&&void 0!==o?o:[];return e.displayTokens.flatMap(((e,t)=>{const o=n?e.text:[];return e.isBlank?i[t]:o}))}}},[h.Sm.Match]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.pairs.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.learningToken,url:e.tts}))),this.grade=({challengeState:e})=>Promise.resolve({correct:void 0!==e.guess,guess:e.guess}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Name]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_IMAGE,r.Vi.ChallengeReports.MISSING_IMAGE,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=()=>[],this.grade=({challenge:e,challengeState:t})=>{const n=[this.getTranslation(t)],o=this.getArticle(e,t);o&&n.unshift(o);const i=(e.correctSolutions||[]).map((e=>(0,l.lG)(v,e)));return i.includes((0,l.lG)(v,n.join(" ")))||i.includes((0,l.lG)(v,n.join("")))?Promise.resolve({correct:!0,guess:n}):(0,c.EZ)(Object.assign(Object.assign({},e),{guess:n}))},this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t})=>(!e.articles||this.getArticle(e,t).length>0)&&this.getTranslation(t).length>0,this.getArticle=(e,t)=>{var n,o,i,r;return null!==(r=(null!==(n=e.articles)&&void 0!==n?n:[])[null!==(i=null===(o=t.guess)||void 0===o?void 0:o.article)&&void 0!==i?i:-1])&&void 0!==r?r:""},this.getTranslation=e=>{var t,n;return(null!==(n=null===(t=e.guess)||void 0===t?void 0:t.translation)&&void 0!==n?n:"").trim()}}},[h.Sm.ListenComprehension]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>{var t;return o.oA([e.slowTts&&{autoplay:!1,required:!1,text:e.prompt,url:e.slowTts},{autoplay:!0,required:!0,text:e.prompt,url:e.tts},...(null!==(t=e.questionTokens)&&void 0!==t?t:[]).map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))])},this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.ListenTap]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA([e.slowTts&&{autoplay:!1,required:!1,text:e.prompt,url:e.slowTts},{autoplay:!0,required:!0,text:e.prompt,url:e.tts},...e.choices.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.text,url:e.tts}))]),this.grade=({challenge:e,challengeState:t,challengeToggleState:n})=>_(this,void 0,void 0,(function*(){if(n.isToggledToTyping)return(0,c.wM)({allowTypoBlame:!0,challenge:e,guess:this.getTranscription(t),isTypingInLearningLanguage:n.isToggledToTyping});const i=(0,a.rF)(e),r=this.getTapTranscriptions(e,t),s=r.join(i),l=e.correctIndices.map((t=>e.choices[t].text));if(o.Xy(l,r))return Promise.resolve({correct:!0,guess:s});const u=yield(0,c.wM)({allowTypoBlame:!1,challenge:e,guess:s,isTypingInLearningLanguage:n.isToggledToTyping});return u.correct?u:Promise.resolve({correct:u.correct,guess:s})})),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t,challengeToggleState:n})=>n.isToggledToTyping?this.getTranscription(t).length>0:this.getTapTranscriptions(e,t).length>0,this.getTapTranscriptions=(e,t)=>{var n,o,i;return null!==(i=null===(o=null===(n=t.guess)||void 0===n?void 0:n.tapTranscriptions)||void 0===o?void 0:o.map((t=>e.choices[t].text)))&&void 0!==i?i:[]},this.getTranscription=e=>{var t,n;return(null!==(n=null===(t=e.guess)||void 0===t?void 0:t.transcription)&&void 0!==n?n:"").trim()}}},[h.Sm.ReadComprehension]:new class extends f{constructor(){super(...arguments),this.continueChallenge=({challengeState:e})=>Object.assign(Object.assign({},e),{finishedPassage:!0}),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>{var t,n;return o.oA([...null!==(t=e.passageTokens)&&void 0!==t?t:[],...null!==(n=e.questionTokens)&&void 0!==n?n:[]].map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts})))},this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.hasDiscussion=()=>!1,this.isReadyForGuessing=({challengeState:e})=>e.finishedPassage,this.prepareChallengeState=({challenge:e})=>({finishedPassage:!1,type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Select]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_IMAGE,r.Vi.ChallengeReports.BAD_OPTION,r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.MISSING_IMAGE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.choices.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.phrase,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.SelectPronunciation]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>e.choices.map(((t,n)=>({autoplay:n===e.correctIndex,required:!0,text:t.text,url:t.tts}))),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.SelectTranscription]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA([{autoplay:!0,required:!0,text:e.choices[e.correctIndex].text,url:e.tts},...e.choices.map((e=>e.tts&&{autoplay:!1,required:!0,text:e.text,url:e.tts}))]),this.grade=({challenge:e,challengeState:t})=>Promise.resolve({correct:t.guess===e.correctIndex,guess:`${t.guess}`}),this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challengeState:e})=>void 0!==e.guess}},[h.Sm.Speak]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_PROMPT,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>[{autoplay:!0,required:!1,text:e.prompt,url:e.tts}],this.grade=({challenge:e,challengeState:t})=>{var n,o,i,r;const s=(null!==(o=null===(n=t.guess)||void 0===n?void 0:n.score)&&void 0!==o?o:0)>=e.threshold;return Promise.resolve({correct:s,guess:t.guess,numRetriesLeft:s||void 0===(null===(i=t.guess)||void 0===i?void 0:i.usedGuesses)?0:a.Tu-(null===(r=t.guess)||void 0===r?void 0:r.usedGuesses)})},this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=()=>!1}},[h.Sm.TapCloze]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tokens.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>{const n=this.getGuessedTexts(e,t),i=(0,u.Ub)(e);return Promise.resolve({correct:o.Xy(n,i),guess:n.join(""),highlights:this.getHighlights(e,t)})},this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:(0,u.jL)(e.displayTokens),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).every((e=>void 0!==e)),this.getGuessedTexts=(e,t)=>{const{displayTokens:n}=e;let o=0;const i=this.getGuesses(e,t);return n.map((e=>{if(void 0===e.damageStart)return e.text;const t=i[o++];return void 0===t?e.text.slice(0,e.damageStart):`${e.text.slice(0,e.damageStart)}${t}`}))},this.getHighlights=(e,t)=>{const n=this.getGuessedTexts(e,t),o=(0,u.Ub)(e);return(0,a.nT)(o,n)},this.getGuesses=(e,t)=>{const{displayTokens:n}=e;return t.guess?t.guess.map((e=>e.guess)):(0,u.jL)(n).map((()=>{}))}}},[h.Sm.TapClozeTable]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tableTokens.flat(2).map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>{const n=this.getGuessedTexts(e,t),i=(0,u.Ub)(e);return Promise.resolve({correct:o.Xy(n,i),guess:n.join(""),highlights:this.getHighlights(e,t)})},this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:(0,u.Xh)(e.displayTableTokens),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).every((e=>void 0!==e.guess)),this.getGuessedTexts=(e,t)=>{const{displayTableTokens:n,headers:o}=e,i=this.getGuesses(e,t);return(0,u.x6)(n,o,((e,t,n)=>{if(void 0===n.damageStart)return n.text;const o=i.find((n=>n.colIndex===e&&n.rowIndex===t));return(null==o?void 0:o.guess)?`${n.text.slice(0,n.damageStart)}${o.guess}`:n.text.slice(0,n.damageStart)}))},this.getHighlights=(e,t)=>{const n=this.getGuessedTexts(e,t),o=(0,u.Ub)(e);return(0,a.nT)(o,n)},this.getGuesses=(e,t)=>{var n;const{displayTableTokens:o}=e;return null!==(n=t.guess)&&void 0!==n?n:(0,u.Xh)(o)}}},[h.Sm.TapComplete]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.BAD_IMAGE,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.MISSING_IMAGE,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tokens.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>{const n=this.getGuesses(e,t),i=n.values(),r=e.displayTokens.map((t=>{if(t.isBlank){const t=i.next().value;return null===t?"":e.choices[t].text}return t.text})).join("");return Promise.resolve({correct:o.Xy(n,e.correctIndices),guess:r,highlights:this.getHighlights(e,t)})},this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).filter((e=>null!==e)).length===e.correctIndices.length,this.getGuesses=(e,t)=>t.guess?t.guess:new Array(e.correctIndices.length).fill(null),this.getHighlights=(e,t)=>{const n=this.getGuesses(e,t).values();return(0,a.nT)(e.displayTokens.map((e=>e.text)),e.displayTokens.map((t=>{if(t.isBlank){const t=n.next().value;return null===t?"":e.choices[t].text}return t.text})))}}},[h.Sm.TapCompleteTable]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tableTokens.flat(2).map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>{const n=this.getGuessedTexts(e,t),i=(0,u.Ub)(e);return Promise.resolve({correct:o.Xy(n,i),guess:n.join(""),highlights:this.getHighlights(e,t)})},this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:(0,u.Xh)(e.displayTableTokens),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).every((e=>void 0!==e.guess)),this.getGuessedTexts=(e,t)=>{const{displayTableTokens:n,headers:o}=e,i=this.getGuesses(e,t);return(0,u.x6)(n,o,((e,t,n)=>{if(!n.isBlank)return n.text;const o=i.find((n=>n.colIndex===e&&n.rowIndex===t));return(null==o?void 0:o.guess)?o.guess:""}))},this.getHighlights=(e,t)=>{const n=this.getGuessedTexts(e,t),o=(0,u.Ub)(e);return(0,a.nT)(o,n)},this.getGuesses=(e,t)=>{var n;const{displayTableTokens:o}=e;return null!==(n=t.guess)&&void 0!==n?n:(0,u.Xh)(o)}}},[h.Sm.TapDescribe]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_IMAGE,r.Vi.ChallengeReports.MISSING_IMAGE,r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.choices.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.text,url:e.tts}))),this.grade=({challenge:e,challengeState:t})=>_(this,void 0,void 0,(function*(){const n=this.getGuess(e,t),o=yield(0,c.wM)({allowTypoBlame:!1,challenge:e,guess:n,isTypingInLearningLanguage:!1});return o.correct?o:{correct:o.correct,guess:n}})),this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getChoices(t).length===e.correctIndices.length,this.getChoices=e=>{var t;return null!==(t=e.guess)&&void 0!==t?t:[]},this.getGuess=(e,t)=>{const n=(0,a.rF)(e);return this.getChoices(t).map((t=>e.choices[t].text)).join(n)}}},[h.Sm.Translate]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.BAD_IMAGE,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.MISSING_IMAGE,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e,hints:t,learningLanguage:n})=>o.oA([e.tts&&{autoplay:e.sourceLanguage===n,required:!1,text:e.prompt,url:e.tts},...e.choices.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.text,url:e.tts})),...(null!=t?t:[]).map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))]),this.grade=({challenge:e,challengeState:t,challengeToggleState:n,learningLanguage:i})=>_(this,void 0,void 0,(function*(){if(n.isToggledToTyping)return(0,c.wM)({allowTypoBlame:n.isToggledToTyping,challenge:e,guess:this.getTranslation(t),isTypingInLearningLanguage:n.isToggledToTyping&&e.grader.language===i});const r=(0,a.rF)(e),l=this.getTapTranslations(e,t),u=l.join(r),d=e.correctIndices.map((t=>e.choices[t].text));if(o.Xy(d,l))return Promise.resolve({correct:!0,guess:u});const p=yield(0,c.wM)({allowTypoBlame:n.isToggledToTyping,challenge:e,guess:u,isTypingInLearningLanguage:n.isToggledToTyping&&e.grader.language===i});return p.correct?p.blameType===s.Oj.ExtraSpace?{correct:p.correct,guess:u}:p:Promise.resolve({correct:p.correct,guess:u})})),this.hasDiscussion=()=>!0,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({type:e.type}),this.validate=({challenge:e,challengeState:t,challengeToggleState:n})=>n.isToggledToTyping?this.getTranslation(t).length>0:this.getTapTranslations(e,t).length>0,this.getTapTranslations=(e,t)=>{var n,o,i;return null!==(i=null===(o=null===(n=t.guess)||void 0===n?void 0:n.tapTranslations)||void 0===o?void 0:o.map((t=>e.choices[t].text)))&&void 0!==i?i:[]},this.getTranslation=e=>{var t,n;return(null!==(n=null===(t=e.guess)||void 0===t?void 0:t.translation)&&void 0!==n?n:"").trim()}}},[h.Sm.TypeCloze]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tokens.map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t,learningLanguage:n})=>_(this,void 0,void 0,(function*(){const i=this.getGuessedTexts(e,t),r=(0,u.Ub)(e),s=yield(0,l.C3)(n);return Promise.resolve({correct:o.Xy(i.map((e=>(0,l.PW)(s.accentedCharacterMap,s.normalizationData,e))),r.map((e=>(0,l.PW)(s.accentedCharacterMap,s.normalizationData,e)))),guess:i.join(""),highlights:this.getHighlights(e,t)})})),this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:(0,u.jL)(e.displayTokens),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).every((e=>void 0!==e)),this.getGuessedTexts=(e,t)=>{const{displayTokens:n}=e;let o=0;const i=this.getGuesses(e,t);return n.map((e=>{if(void 0===e.damageStart)return e.text;const t=i[o++];return void 0===t?e.text.slice(0,e.damageStart):`${e.text.slice(0,e.damageStart)}${t}`}))},this.getHighlights=(e,t)=>{const n=this.getGuessedTexts(e,t),o=(0,u.Ub)(e);return(0,a.nT)(o,n)},this.getGuesses=(e,t)=>{const{displayTokens:n}=e;return t.guess?t.guess.map((e=>e.guess)):(0,u.jL)(n).map((()=>{}))}}},[h.Sm.TypeClozeTable]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tableTokens.flat(2).map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t,learningLanguage:n})=>_(this,void 0,void 0,(function*(){const i=this.getGuessedTexts(e,t),r=(0,u.Ub)(e),s=yield(0,l.C3)(n);return{correct:o.Xy(i.map((e=>(0,l.PW)(s.accentedCharacterMap,s.normalizationData,e))),r.map((e=>(0,l.PW)(s.accentedCharacterMap,s.normalizationData,e)))),guess:i.join(""),highlights:this.getHighlights(e,t)}})),this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:(0,u.Xh)(e.displayTableTokens),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).every((e=>void 0!==e.guess)),this.getGuessedTexts=(e,t)=>{const{displayTableTokens:n,headers:o}=e,i=this.getGuesses(e,t);return(0,u.x6)(n,o,((e,t,n)=>{if(void 0===n.damageStart)return n.text;const o=i.find((n=>n.colIndex===e&&n.rowIndex===t));return(null==o?void 0:o.guess)?`${n.text.slice(0,n.damageStart)}${o.guess}`:n.text.slice(0,n.damageStart)}))},this.getHighlights=(e,t)=>{const n=this.getGuessedTexts(e,t),o=(0,u.Ub)(e);return(0,a.nT)(o,n)},this.getGuesses=(e,t)=>{const{displayTableTokens:n}=e;return t.guess?t.guess:(0,u.Xh)(n)}}},[h.Sm.TypeCompleteTable]:new class extends f{constructor(){super(...arguments),this.getAlwaysDisplayedReportTypes=()=>[r.Vi.ChallengeReports.OTHER_ISSUE],this.getConditionallyDisplayedReportTypes=()=>[r.Vi.ChallengeReports.BAD_AUDIO,r.Vi.ChallengeReports.BAD_HINTS,r.Vi.ChallengeReports.MISSING_AUDIO,r.Vi.ChallengeReports.MISSING_HINTS,r.Vi.ChallengeReports.NOT_ACCEPTED,r.Vi.ChallengeReports.WRONG_ACCEPTED],this.getTts=({challenge:e})=>o.oA(e.tableTokens.flat(2).map((e=>e.tts&&{autoplay:!1,required:!1,text:e.value,url:e.tts}))),this.grade=({challenge:e,challengeState:t,learningLanguage:n})=>_(this,void 0,void 0,(function*(){const i=this.getGuessedTexts(e,t),r=(0,u.Ub)(e),s=yield(0,l.C3)(n);return{correct:o.Xy(i.map((e=>(0,l.PW)(s.accentedCharacterMap,s.normalizationData,e))),r.map((e=>(0,l.PW)(s.accentedCharacterMap,s.normalizationData,e)))),guess:i.join(""),highlights:this.getHighlights(e,t)}})),this.hasDiscussion=()=>!1,this.isReadyForGuessing=()=>!0,this.prepareChallengeState=({challenge:e})=>({guess:(0,u.Xh)(e.displayTableTokens),type:e.type}),this.validate=({challenge:e,challengeState:t})=>this.getGuesses(e,t).every((e=>void 0!==e.guess)),this.getGuessedTexts=(e,t)=>{const{displayTableTokens:n,headers:o}=e,i=this.getGuesses(e,t);return(0,u.x6)(n,o,((e,t,n)=>{if(!n.isBlank)return n.text;const o=i.find((n=>n.colIndex===e&&n.rowIndex===t));return(null==o?void 0:o.guess)?o.guess:""}))},this.getHighlights=(e,t)=>{const n=this.getGuessedTexts(e,t),o=(0,u.Ub)(e);return(0,a.nT)(o,n)},this.getGuesses=(e,t)=>{const{displayTableTokens:n}=e;return t.guess?t.guess:(0,u.Xh)(n)}}}},E=o.XP(y),b=e=>t=>{const n=t.challenge.type;if(!(n in y))throw Error(`Unknown challenge type: ${n}`);return y[n][e](t)},S=b("getAlwaysDisplayedReportTypes"),w=b("getConditionallyDisplayedReportTypes"),T=e=>{const{challenge:t,challengeState:n,session:o}=e;if(t.skipped&&!(0,m.LJ)(o.type)){if(n.hasBrokenTts)return Promise.resolve({correct:!0,guess:""});if((0,m.tq)().includes(t.type))return Promise.resolve({blameMessage:(0,d.H8)(4469),blameSubtext:(0,d.H8)(19205),correct:!0,guess:""});if((0,m.bc)().includes(t.type)){const e=n.recognizerFailed?(0,d.H8)(7768):(0,d.H8)(15747);return Promise.resolve({blameMessage:(0,d.H8)(12946),blameSubtext:e,correct:!0,guess:""})}}return b("grade")(e)},I=b("continueChallenge"),k=b("hasDiscussion"),R=b("isReadyForGuessing"),C=b("prepareChallenge"),O=b("prepareChallengeState"),N=b("validate"),P=b("getTts")},16970:(e,t,n)=>{"use strict";n.d(t,{S9:()=>a,hN:()=>l,w:()=>c,Yt:()=>u,YR:()=>p,AX:()=>m});var o=n(81149),i=n(74245),r=n(11811);const s=[["ja<en",void 0],["ru<en",void 0],["uk<en",void 0],["he<en",void 0],["yi<en",void 0],["el<en",void 0],["hi<en",void 0],["ar<en",void 0],["ko<en",void 0]],a=(e,t)=>{const n=`${e}<${t}`;for(const[e,t]of s)if(e===n&&(!t||"experiment"===(0,o.j6)(t,void 0)))return!0;return!1},l=(e,t)=>{var n;return!(null!==(n=null==t?void 0:t.featureFlags.alphabets_web_maintenance)&&void 0!==n&&n)&&a(e.learningLanguage,e.fromLanguage)},c=({learningLanguage:e,fromLanguage:t})=>"ja"===e&&"en"===t,u=e=>{const{currentIndex:t,session:{challenges:n}}=e;if(n.slice(0,t+1).some((e=>e.indicatorType===r.A.LimitedTts)))return!1;const o=n[t+1];return(null==o?void 0:o.indicatorType)===r.A.LimitedTts},d=["ja"],p=e=>d.includes(e)?"characters":"letters",m=e=>`Learn ${(0,i.vY)(e)} ${p(e)} here!`},11202:(e,t,n)=>{"use strict";n.d(t,{sd:()=>S,C3:()=>v,YK:()=>T,PW:()=>E,tc:()=>h,gE:()=>g,lG:()=>b});var o=n(87251),i=n.n(o),r=n(80254);const s=JSON.parse('{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","×":"x","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","÷":"/","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","ĝ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ș":"S","ș":"s","Ț":"T","ț":"t","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ό":"Ο","Ύ":"Υ","Ώ":"Ω","ΐ":"ι","Ϊ":"Ι","Ϋ":"Υ","ά":"α","έ":"ε","ή":"η","ί":"ι","ΰ":"υ","ϊ":"ι","ϋ":"υ","ό":"ο","ύ":"υ","ώ":"ω","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y"}');var a=n(76986),l=n(89454),c=n(83719),u=n(81149),d=n(11908),p=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const m=a,g=()=>{const e=d.Qt.GradingConfig;if(!(0,d.No)(e))return!0;const t=d.Qt.GradingConfigTimestamp;let n=0;return(0,d.No)(t)&&(n=(0,d.rV)(t)),Date.now()-n>3456e5||n<1611267079e3},h=e=>{(0,d.LS)(d.Qt.GradingConfig,e),(0,d.LS)(d.Qt.GradingConfigTimestamp,Date.now())},_=r.HP((e=>(0,d.rV)(`${d.Qt.LanguageTokens}.${e}`)||[])),v=e=>p(void 0,void 0,void 0,(function*(){var t,n,o,i;let r=s,a=m;if(e){const s=yield p(void 0,void 0,void 0,(function*(){if(!g())return(0,d.rV)(d.Qt.GradingConfig);const e=yield l.bG.requestGradingConfig();return h(e),e}));r=Object.assign(Object.assign({},s.language_data.default.accented_character_map),null!==(n=null===(t=s.language_data[e])||void 0===t?void 0:t.accented_character_map)&&void 0!==n?n:{}),a=[...s.language_data.default.normalization_data,...null!==(i=null===(o=s.language_data[e])||void 0===o?void 0:o.normalization_data)&&void 0!==i?i:[]]}return{accentedCharacterMap:r,normalizationData:a}})),f={Accent:[c.Oj.Accent,1e-12],ExtraSpace:[c.Oj.ExtraSpace,.002],MissingSpace:[c.Oj.MissingSpace,.001],MissingWord:[c.Oj.MissingWord,.6],Typo:[c.Oj.Typo,1e-6],WrongWord:[c.Oj.WrongWord,.6]},y=r.Ry(r.VO(f)),E=(e,t,n)=>b(t,n).split("").map((t=>{var n;return null!==(n=e[t])&&void 0!==n?n:t})).join(""),b=(e,t)=>e.reduce(((e,[t,n])=>e.replace(new RegExp(t,"g"),n)),t.toLowerCase()),S=(e,t)=>{if(!e)return null!=t?t.length:Number.MAX_VALUE;if(!t)return e.length;const n=[];let o,i;for(o=0;o<=t.length;o++)n[o]=[o];for(i=0;i<=e.length;i++)n[0][i]=i;for(o=1;o<=t.length;o++)for(i=1;i<=e.length;i++)t.charAt(o-1)===e.charAt(i-1)?n[o][i]=n[o-1][i-1]:n[o][i]=Math.min(n[o-1][i-1]+1,Math.min(n[o][i-1]+1,n[o-1][i]+1));return n[t.length][e.length]};class w{constructor({accentedCharacterMap:e={},allowTypoBlame:t,isTypingInLearningLanguage:n,isWhitespaceDelimited:o=!0,language:i,submittedValue:r,vertices:s}){if(this.startState=()=>[0,0],this.isEndState=([e,t])=>e===this.vertices.length-1&&t===this.submittedValue.length,this.iterEdges=e=>{const t=[],n=(e,[t,n])=>Object.assign(Object.assign({},e),{type:t,weight:n+(e.auto?1e-4:0)}),[o,i]=e;if(i>this.submittedValue.length)throw Error('"pos" must be less than the length of "submittedValue".');const r=this.submittedValue.slice(i);return this.vertices[o].forEach((e=>{let o,s;const a=e.lenient;if(!a.length)return void t.push([e,[e.to,i]]);if(" "===a)return void(r.startsWith(" ")?t.push([e,[e.to,i+1]]):""===r?t.push([e,[e.to,i]]):(s=n(e,f.MissingSpace),t.push([s,[s.to,i]])));if(this.isWhitespaceDelimited){let l=!0,c=0;a.split("").some((e=>{for(;c<r.length&&" "===r[c];)c+=1;return c===r.length||e!==r[c]?(l=!1,!0):(c+=1,!1)})),l&&(s=n(e,f.ExtraSpace),o=i+c,t.push([s,[s.to,o]]))}const l=r.indexOf(" "),c=l<0?r:r.slice(0,l);if(o=i+c.length,a===c)t.push([e,[e.to,o]]);else if(this.isWhitespaceDelimited&&c.length){const i=((e,t,n)=>((e,t,n=((e,t)=>e===t))=>{if(Math.abs(e.length-t.length)>1)return 2;t.length>e.length&&([e,t]=[t,e]);const o=e.length,i=t.length;let r=0;for(;r<i&&n(e[r],t[r]);)r+=1;if(r===i)return o>i?1:0;let s=0;for(;s<i&&n(e[o-1-s],t[i-1-s]);)s+=1;return r+s+1>=o||o===i&&r+1<o&&n(e[r],t[r+1])&&n(e[r+1],t[r])&&r+s+2===o?1:2})(e,t,((e,t)=>{var o,i;return(null!==(o=n[e])&&void 0!==o?o:e)===(null!==(i=n[t])&&void 0!==i?i:t)})))(a,c,this.accentedCharacterMap);if(0===i)s=n(e,f.Accent),t.push([s,[s.to,o]]);else if(1===i){const i=this.isValidToken(c),r=!this.allowTypoBlame||i&&this.isTypingInLearningLanguage?f.WrongWord:f.Typo;return s=n(e,r),void t.push([s,[s.to,o]])}}c.startsWith(a)&&t.push([e,[e.to,i+a.length]]),!this.isWhitespaceDelimited&&c.startsWith(a)||(s=n(e,f.MissingWord),this.isWhitespaceDelimited&&(s=this.spaceSkippingEdge(s)),t.push([s,[s.to,i]]),c.length&&(s=n(e,f.WrongWord),t.push([s,[s.to,o]])))})),t},this.edgeWeight=e=>void 0===e.weight?0:e.weight,this.isValidToken=e=>this.languageTokens.includes(e),this.spaceSkippingEdge=e=>{const t=Object.assign({},e),n=this.vertices[e.to];return 1===n.length&&" "===n[0].lenient&&(t.to=n[0].to,t.lenient+=" ","orig"in t&&(t.orig+=" ")),t},s[s.length-1].length)throw Error("Malformed vertices array: Last element is not empty.");this.accentedCharacterMap=e,this.isWhitespaceDelimited=o,this.isTypingInLearningLanguage=n,this.languageTokens=_(i),this.submittedValue=r,this.vertices=s,this.allowTypoBlame=t}}const T=({accentedCharacterMap:e,allowTypoBlame:t,compiledNormalizationData:n,gradingData:o,isTypingInLearningLanguage:s,submittedValue:a})=>{let l=b(n,a);const{language:d,version:p,vertices:m}=o;if(0!==p)throw Error("Client-side grading version incompatible");let g=o.whitespaceDelimited;void 0===g&&(g=!0);const h=/\s+/;!g&&h.exec(l)&&"experiment"===(0,u.j6)("learning_fix_whitespace_grading",void 0)&&(l=l.replace(h,""));const _=new w({accentedCharacterMap:e,allowTypoBlame:t,isTypingInLearningLanguage:s,isWhitespaceDelimited:g,language:d,submittedValue:l,vertices:m}),[v,f]=((e,t,n,o,s)=>{const a=new(i())(((e,t)=>e.weight-t.weight||e.tieBreaker-t.tieBreaker));a.push({path:[],state:e,tieBreaker:0,weight:0});const l={};for(;a.size();){const e=r.Fp(a.toArray().map((({tieBreaker:e})=>e)))+1,{path:i,state:s,weight:c}=a.pop();if(!l[`${s}`]){if(l[`${s}`]=!0,c>1)return[null,null];if(t(s))return[i,c];n(s).forEach((([t,n],r)=>{const l=o(t);if(l<0)throw Error("Negative weight edge in solution DAG");a.push({path:[...i,[s,t]],state:n,tieBreaker:e+r,weight:c+l})}))}}return[null,null]})(_.startState(),_.isEndState,_.iterEdges,_.edgeWeight);if(null===v||null===f)return{correct:!1};const E=I(v);if(void 0!==E)return{correct:!1,gradingMetadata:E};const S=f<=.5,T={};let k="";v.forEach((([{},e])=>{var t;let n=e.type;n=void 0===n?"correct":n;let o=e.orig;if(o=void 0===o?e.lenient:o,"correct"!==n){const e=k.length;let i=e+o.length;n===c.Oj.MissingWord&&o.endsWith(" ")&&(i-=1);const r=null!==(t=T[n])&&void 0!==t?t:[];r.push([e,i]),T[n]=r}k+=o}));const R=r.xb(T)?void 0:r.Fp(r.XP(T),(e=>y[e])),C=R?T[R]:void 0;return{blameType:R,closestSolution:k,correct:S,highlights:C}},I=e=>{const t=e.filter((([{},e])=>e.lenient.trim().length>0)).map((([{},e])=>e.metadata)),n=t.filter((e=>void 0!==e));if(0!==n.length&&n.length===t.length)return n[0].filter((e=>n.every((t=>t.some((t=>r.Xy(e,t)))))))}},54412:(e,t,n)=>{"use strict";n.d(t,{Vj:()=>i,ej:()=>s,d8:()=>a,nJ:()=>l,m_:()=>c});var o=n(67921);const i={CSRFToken:"csrf_token",Gdpr:"gdpr_cookie",Impersonate:"impersonate",InitialReferrer:"initial_referrer",JWT:(window.location.host.includes("testbed")?"testbed_":"")+"jwt_token",LandingPage:"lp",LandingURL:"lu",LastReferrer:"lr",LoggedIn:"logged_in",LoggedOutUUID:"logged_out_uuid",RedirectToPreview:"redirect_to_preview",ShouldTrackWelcome:"should_track_welcome",Test:"test",TimeSiteLoaded:"tsl",UTMParameters:"utm_parameters"},r=window.location.host.includes("duolingo.com")?".duolingo.com":window.location.host.includes("duolingo.cn")?".duolingo.cn":window.location.host.includes("githubpreview.dev")?window.location.host:"localhost",s=e=>o.get(e),a=(e,t,n,i)=>{const s={domain:r,expires:365};n&&(s.SameSite="Lax"),i&&(s.secure=!0),o.set(e,t,s)},l=e=>{o.remove(e),o.remove(e,{domain:"duolingo.com"}),o.remove(e,{domain:"www.duolingo.com"}),o.remove(e,{domain:r})},c="N/A"},13310:(e,t,n)=>{"use strict";n.d(t,{p:()=>r,g:()=>s});var o=n(80254),i=n(13840);const r=o.IH((()=>[{code:"US",name:(0,i.H8)(19200)},{code:"AD",name:(0,i.H8)(1661)},{code:"AE",name:(0,i.H8)(24175)},{code:"AF",name:(0,i.H8)(19709)},{code:"AG",name:(0,i.H8)(3215)},{code:"AL",name:(0,i.H8)(10445)},{code:"AM",name:(0,i.H8)(15083)},{code:"AO",name:(0,i.H8)(11977)},{code:"AR",name:(0,i.H8)(20686)},{code:"AT",name:(0,i.H8)(7091)},{code:"AU",name:(0,i.H8)(6122)},{code:"AW",name:(0,i.H8)(18917)},{code:"AZ",name:(0,i.H8)(58)},{code:"BA",name:(0,i.H8)(16849)},{code:"BB",name:(0,i.H8)(24504)},{code:"BD",name:(0,i.H8)(440)},{code:"BE",name:(0,i.H8)(15599)},{code:"BF",name:(0,i.H8)(3703)},{code:"BG",name:(0,i.H8)(2790)},{code:"BH",name:(0,i.H8)(23446)},{code:"BI",name:(0,i.H8)(4552)},{code:"BJ",name:(0,i.H8)(3665)},{code:"BN",name:(0,i.H8)(14963)},{code:"BO",name:(0,i.H8)(16392)},{code:"BR",name:(0,i.H8)(1343)},{code:"BS",name:(0,i.H8)(23855)},{code:"BT",name:(0,i.H8)(24564)},{code:"BW",name:(0,i.H8)(4225)},{code:"BY",name:(0,i.H8)(13248)},{code:"BZ",name:(0,i.H8)(4708)},{code:"CA",name:(0,i.H8)(17423)},{code:"CD",name:(0,i.H8)(2693)},{code:"CF",name:(0,i.H8)(16133)},{code:"CG",name:(0,i.H8)(4858)},{code:"CH",name:(0,i.H8)(870)},{code:"CI",name:(0,i.H8)(15641)},{code:"CL",name:(0,i.H8)(11465)},{code:"CM",name:(0,i.H8)(6026)},{code:"CN",name:(0,i.H8)(6653)},{code:"CO",name:(0,i.H8)(23594)},{code:"CR",name:(0,i.H8)(3743)},{code:"CU",name:(0,i.H8)(17320)},{code:"CV",name:(0,i.H8)(20338)},{code:"CY",name:(0,i.H8)(5394)},{code:"CZ",name:(0,i.H8)(18566)},{code:"DE",name:(0,i.H8)(5609)},{code:"DJ",name:(0,i.H8)(8216)},{code:"DK",name:(0,i.H8)(18937)},{code:"DM",name:(0,i.H8)(22411)},{code:"DO",name:(0,i.H8)(2132)},{code:"DZ",name:(0,i.H8)(934)},{code:"EC",name:(0,i.H8)(12307)},{code:"EE",name:(0,i.H8)(21746)},{code:"EG",name:(0,i.H8)(9354)},{code:"ER",name:(0,i.H8)(5328)},{code:"ES",name:(0,i.H8)(1405)},{code:"ET",name:(0,i.H8)(1257)},{code:"FI",name:(0,i.H8)(21203)},{code:"FJ",name:(0,i.H8)(7156)},{code:"FM",name:(0,i.H8)(17324)},{code:"FR",name:(0,i.H8)(8341)},{code:"GA",name:(0,i.H8)(19620)},{code:"GB",name:(0,i.H8)(20374)},{code:"GD",name:(0,i.H8)(20683)},{code:"GE",name:(0,i.H8)(10964)},{code:"GF",name:(0,i.H8)(11783)},{code:"GH",name:(0,i.H8)(6580)},{code:"GM",name:(0,i.H8)(16775)},{code:"GN",name:(0,i.H8)(1180)},{code:"GQ",name:(0,i.H8)(17350)},{code:"GR",name:(0,i.H8)(7314)},{code:"GT",name:(0,i.H8)(15166)},{code:"GW",name:(0,i.H8)(7975)},{code:"GY",name:(0,i.H8)(10217)},{code:"HK",name:(0,i.H8)(18495)},{code:"HN",name:(0,i.H8)(3185)},{code:"HR",name:(0,i.H8)(23085)},{code:"HT",name:(0,i.H8)(22879)},{code:"HU",name:(0,i.H8)(1864)},{code:"ID",name:(0,i.H8)(13363)},{code:"IE",name:(0,i.H8)(11496)},{code:"IL",name:(0,i.H8)(6398)},{code:"IN",name:(0,i.H8)(8315)},{code:"IQ",name:(0,i.H8)(9122)},{code:"IR",name:(0,i.H8)(21306)},{code:"IS",name:(0,i.H8)(13728)},{code:"IT",name:(0,i.H8)(8336)},{code:"JM",name:(0,i.H8)(21906)},{code:"JO",name:(0,i.H8)(7648)},{code:"JP",name:(0,i.H8)(24368)},{code:"KE",name:(0,i.H8)(13495)},{code:"KG",name:(0,i.H8)(20420)},{code:"KH",name:(0,i.H8)(23444)},{code:"KI",name:(0,i.H8)(9421)},{code:"KM",name:(0,i.H8)(10877)},{code:"KN",name:(0,i.H8)(24385)},{code:"KP",name:(0,i.H8)(9892)},{code:"KR",name:(0,i.H8)(269)},{code:"KW",name:(0,i.H8)(12939)},{code:"KZ",name:(0,i.H8)(15721)},{code:"LA",name:(0,i.H8)(16811)},{code:"LB",name:(0,i.H8)(5150)},{code:"LC",name:(0,i.H8)(16896)},{code:"LI",name:(0,i.H8)(482)},{code:"LK",name:(0,i.H8)(10183)},{code:"LR",name:(0,i.H8)(5753)},{code:"LS",name:(0,i.H8)(3946)},{code:"LT",name:(0,i.H8)(11865)},{code:"LU",name:(0,i.H8)(7440)},{code:"LV",name:(0,i.H8)(3148)},{code:"LY",name:(0,i.H8)(15958)},{code:"MA",name:(0,i.H8)(1023)},{code:"MC",name:(0,i.H8)(7500)},{code:"MD",name:(0,i.H8)(13139)},{code:"ME",name:(0,i.H8)(1389)},{code:"MG",name:(0,i.H8)(21684)},{code:"MH",name:(0,i.H8)(11382)},{code:"MK",name:(0,i.H8)(10165)},{code:"ML",name:(0,i.H8)(4568)},{code:"MM",name:(0,i.H8)(8737)},{code:"MN",name:(0,i.H8)(22997)},{code:"MO",name:(0,i.H8)(5552)},{code:"MR",name:(0,i.H8)(22069)},{code:"MT",name:(0,i.H8)(20675)},{code:"MU",name:(0,i.H8)(23276)},{code:"MV",name:(0,i.H8)(5216)},{code:"MW",name:(0,i.H8)(9043)},{code:"MX",name:(0,i.H8)(6470)},{code:"MY",name:(0,i.H8)(10322)},{code:"MZ",name:(0,i.H8)(4948)},{code:"NA",name:(0,i.H8)(18262)},{code:"NE",name:(0,i.H8)(11148)},{code:"NG",name:(0,i.H8)(14356)},{code:"NI",name:(0,i.H8)(23710)},{code:"NL",name:(0,i.H8)(5364)},{code:"NO",name:(0,i.H8)(6861)},{code:"NP",name:(0,i.H8)(24413)},{code:"NR",name:(0,i.H8)(7239)},{code:"NZ",name:(0,i.H8)(1678)},{code:"OM",name:(0,i.H8)(6811)},{code:"PA",name:(0,i.H8)(6880)},{code:"PE",name:(0,i.H8)(9085)},{code:"PG",name:(0,i.H8)(19328)},{code:"PH",name:(0,i.H8)(4245)},{code:"PK",name:(0,i.H8)(8768)},{code:"PL",name:(0,i.H8)(6735)},{code:"PS",name:(0,i.H8)(20067)},{code:"PT",name:(0,i.H8)(19175)},{code:"PW",name:(0,i.H8)(13155)},{code:"PY",name:(0,i.H8)(17494)},{code:"QA",name:(0,i.H8)(22919)},{code:"RO",name:(0,i.H8)(13442)},{code:"RS",name:(0,i.H8)(11925)},{code:"RU",name:(0,i.H8)(21332)},{code:"RW",name:(0,i.H8)(183)},{code:"SA",name:(0,i.H8)(9621)},{code:"SB",name:(0,i.H8)(8564)},{code:"SC",name:(0,i.H8)(17947)},{code:"SD",name:(0,i.H8)(5861)},{code:"SE",name:(0,i.H8)(9711)},{code:"SG",name:(0,i.H8)(21857)},{code:"SI",name:(0,i.H8)(10372)},{code:"SK",name:(0,i.H8)(19520)},{code:"SL",name:(0,i.H8)(15644)},{code:"SM",name:(0,i.H8)(8062)},{code:"SN",name:(0,i.H8)(11272)},{code:"SO",name:(0,i.H8)(9159)},{code:"SR",name:(0,i.H8)(19026)},{code:"SS",name:(0,i.H8)(12943)},{code:"ST",name:(0,i.H8)(14657)},{code:"SV",name:(0,i.H8)(18862)},{code:"SY",name:(0,i.H8)(16846)},{code:"SZ",name:(0,i.H8)(21804)},{code:"TD",name:(0,i.H8)(9960)},{code:"TG",name:(0,i.H8)(5310)},{code:"TH",name:(0,i.H8)(12032)},{code:"TJ",name:(0,i.H8)(22572)},{code:"TL",name:(0,i.H8)(14744)},{code:"TM",name:(0,i.H8)(12046)},{code:"TN",name:(0,i.H8)(5142)},{code:"TO",name:(0,i.H8)(13798)},{code:"TR",name:(0,i.H8)(6216)},{code:"TT",name:(0,i.H8)(3369)},{code:"TV",name:(0,i.H8)(23262)},{code:"TW",name:(0,i.H8)(22274)},{code:"TZ",name:(0,i.H8)(4372)},{code:"UA",name:(0,i.H8)(11993)},{code:"UG",name:(0,i.H8)(20911)},{code:"UY",name:(0,i.H8)(8706)},{code:"UZ",name:(0,i.H8)(3618)},{code:"VA",name:(0,i.H8)(20774)},{code:"VC",name:(0,i.H8)(7707)},{code:"VE",name:(0,i.H8)(9262)},{code:"VN",name:(0,i.H8)(17630)},{code:"VU",name:(0,i.H8)(3979)},{code:"WS",name:(0,i.H8)(15041)},{code:"XK",name:(0,i.H8)(18746)},{code:"YE",name:(0,i.H8)(20581)},{code:"ZA",name:(0,i.H8)(12816)},{code:"ZM",name:(0,i.H8)(24132)},{code:"ZW",name:(0,i.H8)(13833)}])),s=e=>void 0!==e&&r().some((t=>t.code===e))},26886:(e,t,n)=>{"use strict";n.d(t,{Eb:()=>d,KO:()=>p,og:()=>m,s7:()=>g});var o=n(80254),i=n(81149),r=n(53229),s=n(13840),a=n(74245),l=n(16086);const c={"fr<-ja":{experiment:"courses_fr_ja_v1",featureFlag:"web_enable_french_from_japanese"},"zh-HK<-zh":{experiment:"china_zh-HK_zh-CN_v1",featureFlag:"web_enable_cantonese_from_chinese"}},u={AR_BLURB:11241,AR_DESCRIPTION:4909,CA_BLURB:8506,CA_DESCRIPTION:21183,CS_BLURB:20024,CS_DESCRIPTION:18066,CY_BLURB:10701,CY_DESCRIPTION:10429,DA_BLURB:9800,DA_DESCRIPTION:9178,DE_BLURB:6542,DE_DESCRIPTION:7582,EL_BLURB:18561,EL_DESCRIPTION:20429,EN_BLURB:1646,EN_DESCRIPTION:16668,EO_BLURB:23473,EO_DESCRIPTION:2491,ES_BLURB:7319,ES_DESCRIPTION:19850,FI_BLURB:void 0,FI_DESCRIPTION:11646,FR_BLURB:9723,FR_DESCRIPTION:17267,GA_BLURB:4364,GA_DESCRIPTION:22122,GD_BLURB:void 0,GD_DESCRIPTION:18683,GN_BLURB:24569,GN_DESCRIPTION:11938,HE_BLURB:15278,HE_DESCRIPTION:15586,HI_BLURB:8016,HI_DESCRIPTION:10589,HT_BLURB:void 0,HT_DESCRIPTION:33373,HU_BLURB:12368,HU_DESCRIPTION:11959,HV_BLURB:3675,HV_DESCRIPTION:18996,HW_BLURB:4934,HW_DESCRIPTION:11500,ID_BLURB:12109,ID_DESCRIPTION:16127,IT_BLURB:3816,IT_DESCRIPTION:13241,JA_BLURB:16465,JA_DESCRIPTION:14968,KO_BLURB:617,KO_DESCRIPTION:12438,LA_BLURB:void 0,LA_DESCRIPTION:3495,NL_NL_BLURB:7666,NL_NL_DESCRIPTION:3564,NO_BO_BLURB:10523,NO_BO_DESCRIPTION:1378,NV_BLURB:3404,NV_DESCRIPTION:23224,PL_BLURB:2749,PL_DESCRIPTION:11727,PT_BLURB:1296,PT_DESCRIPTION:17196,RO_BLURB:10940,RO_DESCRIPTION:18512,RU_BLURB:17561,RU_DESCRIPTION:5413,SV_BLURB:16903,SV_DESCRIPTION:14282,SW_BLURB:13815,SW_DESCRIPTION:2071,TLH_BLURB:17152,TLH_DESCRIPTION:13015,TR_BLURB:5007,TR_DESCRIPTION:10435,UK_BLURB:11573,UK_DESCRIPTION:4802,VI_BLURB:14762,VI_DESCRIPTION:13549,YI_BLURB:void 0,YI_DESCRIPTION:26696,ZH_BLURB:20640,ZH_DESCRIPTION:6308,ZH_HK_BLURB:void 0,ZH_HK_DESCRIPTION:3e4},d=e=>{const t=u[`${(e=>e.toUpperCase().replace("-","_"))(e)}_DESCRIPTION`];return void 0===t?void 0:(0,s._i)(t)},p=()=>{const e=(0,a.Ho)(),t={};o.VO(e).forEach((e=>{e.forEach((e=>t[e]=!0))}));const n=o.XP(t).reduce(((e,t)=>(void 0===d(t)&&(e[t]=!0),e)),{}),i=o.XP(n);if(i.length)throw Error(`Runtime check for course data failed. Blurb or description missing for courses: ${i.join(", ")}. Add them to TEXT_MAP in course.ts`)},m=(e,t=a.h9)=>{const n=(0,r.lV)((0,s.H8)(2471,{learning_language_name:(0,a.vY)(e)}));return`/${(0,l.Pc)()?"enroll":"course"}/${e}/${t}/${n}`},g=(e,t,n,o,r)=>{var s;if(r>=a.AP.Beta)return!0;const l=c[((e,t)=>`${t}<-${e}`)(t,o)];return!!l&&!!((null===(s=e.featureFlags)||void 0===s?void 0:s[l.featureFlag])||n&&"experiment"===(0,i.j6)(l.experiment,void 0))}},21061:(e,t,n)=>{"use strict";n.d(t,{wD:()=>s,VD:()=>a,A4:()=>l,SA:()=>c,Zo:()=>u,Ml:()=>d,dz:()=>p,RF:()=>m,pQ:()=>g,zM:()=>h,zk:()=>_,zK:()=>v,zO:()=>f,NP:()=>y,Ko:()=>b,ji:()=>S,nC:()=>w,HR:()=>T,pY:()=>I,mm:()=>k,Z2:()=>R,M:()=>C,LG:()=>O,zj:()=>N,Gz:()=>P});var o=n(80254),i=n(51158);const r="America/New_York",s=2147483647,a=86400,l=604800,c=e=>{const[t,n,o]=e.split("-");return new Date(parseInt(t,10),parseInt(n,10)-1,parseInt(o,10))},u=()=>Math.floor(Date.now()/1e3),d=()=>Math.floor(Date.now()/36e5),p=e=>{const{days:t=0,hours:n=0,minutes:o=0,seconds:i=0}=e;return 86400*t+3600*n+60*o+i},m=e=>Math.floor(Date.now()/1e3)-p(e),g=()=>(new Date).getTimezoneOffset(),h=e=>new Date(1e3*e),_=e=>{const t=h(e),n=new Date;return t.toDateString()===n.toDateString()},v=e=>new Date(1e3*e).toISOString().slice(0,10),f=e=>new Date(1e3*e),y=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone||((0,i.Kp)("Got empty time zone from browser API",{once:!0,sample:.1}),r)}catch(e){(0,i.Kp)("Failed to detect time zone",{ex:e,once:!0})}return r},E=o.HP((e=>{let t;try{t=parseInt(e,10)}catch(n){(0,i.Kp)("Invalid timezoneOffset",{data:{timezoneOffset:e}}),t=parseInt("-500",10)}const n=Math.sign(t);return t=Math.abs(t),n*(Math.floor(t/100)+t%100/60)})),b=(e="-500")=>{const t=new Date,n=3600*(t.getUTCHours()+E(e))+60*t.getUTCMinutes()+t.getUTCSeconds();return(n+(o=86400))%o;var o},S=(e="-500")=>new Date(Date.now()+36e5*E(e)).getUTCDay(),w=(e,t)=>{const n=t/1e3;let o=u();return window.setInterval((()=>{const t=u();t-o<n||(o=t,e())}),1e4)},T=e=>Date.now()+1e3*e,I=e=>Date.now()>=e,k=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setHours(0,0,0,0)},R=()=>{const e=new Date;return e.setDate(1),e.setHours(0,0,0,0),e.setMonth(e.getMonth()+1),e},C=(e,t)=>(t-1e3*e)/864e5,O=(e,t,n="floor")=>{const o=new Date(e),i=new Date(t),r=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()),s=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),a=864e5;switch(n){case"round":return Math.round((s-r)/a);case"ceil":return Math.ceil((s-r)/a);default:return Math.floor((s-r)/a)}},N=e=>{if(e<0)throw RangeError("The argument must be greater than or equal to 0.");const t=e/1e3,n=t/60,o=n/60,i=o/24,r=Math.floor(i),s=24*r,a=Math.floor(o-s),l=60*(s+a),c=Math.floor(n-l),u=60*(l+c);return{days:r,hours:a,hoursTotal:a+24*r,minutes:c,seconds:Math.floor(t-u)}},P=e=>new Date(e)},59273:(e,t,n)=>{"use strict";n.d(t,{oj:()=>c,NY:()=>u,pL:()=>d,R:()=>p,Au:()=>m,sW:()=>g,s7:()=>h,gQ:()=>v,ky:()=>f});var o=n(80254),i=n(53229),r=n(11908);let s=!1,a=null,l=[];const c=o.IH((()=>/(next-1|preview)\./.test(window.location.host))),u=o.IH((()=>window.location.host.includes("next-"))),d=o.IH((()=>{var e;return null===(e=/^next-(.*)\.duolingo\.com/.exec(window.location.host))||void 0===e?void 0:e[1]})),p=o.IH((()=>{s=!0,y(),console.log("Enabled debug mode")})),m=()=>u()||s,g=()=>m()?a||(()=>e=>t=>(a?console.log(t):console.log("Logging action before redux-logger has initialized.",t),e(t))):()=>e=>t=>e(t),h=()=>l,_=(0,i.vl)(window.location.search),v=e=>void 0!==f(e),f=e=>m()?Object.assign(Object.assign({},(0,i.vl)((0,r.rV)(r.Qt.DebugFlags))),void 0===_.stickyDebugFlags?(0,i.vl)(window.location.search):_)[e]:void 0,y=()=>{return e=void 0,t=void 0,i=function*(){const[e,t]=yield Promise.all([n.e(1711).then(n.bind(n,85662)),n.e(1711).then(n.bind(n,62091))]);a=e.default,l=t.sampleStoryListing},new((o=void 0)||(o=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}));var e,t,o,i};m()&&y()},51748:(e,t,n)=>{"use strict";var o;n.d(t,{w:()=>o}),function(e){e.AfterThirdMistakeCheckpointTest="after_third_mistake_checkpoint_test",e.BigRightStreak="big_right_streak",e.BigRightStreakCheckpointTest="big_right_streak_checkpoint_test",e.BigRightStreakPlacement="big_right_streak_placement",e.FirstCorrectCheckpointTest="first_correct_checkpoint_test",e.FirstWrongCheckpointTest="first_wrong_checkpoint_test",e.FourQuestionsLeftCheckpointTest="four_questions_left_checkpoint_test",e.MediumRightStreakCheckpointTest="medium_right_streak_checkpoint_test",e.MidPointCheckpointTest="mid_point_checkpoint_test",e.PerfectLesson="perfect_lesson",e.SmallRightStreak="small_right_streak",e.SmallRightStreakPlacement="small_right_streak_placement",e.WrongStreak="wrong_streak",e.WrongStreakPlacement="wrong_streak_placement"}(o||(o={}))},94786:(e,t,n)=>{"use strict";var o;n.d(t,{Q:()=>o}),function(e){e.AlphabetLesson="alphabet_lesson",e.Checkpoint="checkpoint",e.CheckpointTest="big_test",e.FinalLevelLesson="final_level_lesson",e.GlobalPractice="practice",e.Lesson="lesson",e.MistakesReview="mistakes_review",e.PlacementTest="placement_test",e.ProgressQuiz="progress_quiz",e.SectionPractice="section_practice",e.SkillPractice="skill_practice",e.SkillTest="test",e.Stories="stories"}(o||(o={}))},67173:(e,t,n)=>{"use strict";var o;n.d(t,{V:()=>o}),function(e){e.AccountNotFound="account-not-found",e.AchievementSlide="achievement-slide",e.AchievementV3Slide="achievementV3-slide",e.AcquisitionSurvey="acquisitionSurvey",e.AddButton="add-button",e.AgeInput="age-input",e.AllowButton="allow-button",e.AppStoreButtons="app-store-buttons",e.AudioButton="audio-button",e.BackArrow="back-arrow",e.BigRedButton="big-red-button",e.Blame="blame",e.BlameCorrect="blame-correct",e.BlameIncorrect="blame-incorrect",e.BlockButton="block-button",e.CcCancelButton="cc-cancel-button",e.CcExpirationInput="cc-expiration-input",e.CcExpirationLabel="cc-expiration-label",e.CcNameInput="cc-name-input",e.CcNameLabel="cc-name-label",e.CcNumberInput="cc-number-input",e.CcNumberLabel="cc-number-label",e.CcPostalCodeInput="cc-postal-code-input",e.CcPostalCodeLabel="cc-postal-code-label",e.CcRejectedImage="cc-rejected-image",e.CcSecurityInput="cc-security-input",e.CcSecurityLabel="cc-security-label",e.CcSubmitButton="cc-submit-button",e.CcTermsConditionsLabel="cc-terms-conditions-label",e.CcTermsConditionsLink="cc-terms-conditions-link",e.Challenge="challenge",e.ChallengeChoice="challenge-choice",e.ChallengeHeader="challenge-header",e.ChallengeJudgeText="challenge-judge-text",e.ChallengeTapToken="challenge-tap-token",e.ChallengeTapTokenText="challenge-tap-token-text",e.ChallengeTextInput="challenge-text-input",e.ChallengeTranslateInput="challenge-translate-input",e.CheckpointBadge="checkpoint-badge",e.CheckpointPracticeButton="checkpoint-practice-button",e.CheckpointStartButton="checkpoint-start-button",e.ChinesePrivacy="chinese-privacy",e.ChineseTerms="chinese-terms",e.ChoosePlanHeader="choose-plan-header",e.CloseButton="close-button",e.CloseButtonStories="close-button-stories",e.CourseSelect="course-select",e.CoursesLink="courses-link",e.CreateProfile="create-profile",e.CreateProfileLater="create-profile-later",e.DailyReminder="daily-reminder",e.DailyReminderContinueButton="daily-reminder-continue-button",e.DictionarySearchInput="dictionary-search-input",e.DictionarySearchResult="dictionary-search-result",e.DictionaryTranslate="dictionary-translate",e.DiscussionButton="discussion-button",e.DrawerCloseButton="drawer-close-button",e.EmailField="email-field",e.EmailInput="email-input",e.EnglishPrivacy="english-privacy",e.EnglishTerms="english-terms",e.FaqLink="faq-link",e.FinalLevelPromo="final-level-promo",e.FooterLinks="footer-links",e.ForgotPassword="forgot-password",e.ForgotPasswordThankYou="forgot-password-thank-you",e.FriendUsername="friend-username",e.FullNameInput="full-name-input",e.GetStartedTop="get-started-top",e.GlobalPractice="global-practice",e.GoalCasual="daily-goal-10",e.GoalIntense="daily-goal-50",e.GoalRegular="daily-goal-20",e.GoalSerious="daily-goal-30",e.HaveAccount="have-account",e.HdyhauFriends="hdyhau-friendsOrFamily",e.HdyhauNews="hdyhau-newsArticleOrBlog",e.HdyhauOnline="hdyhau-onlineAds",e.HdyhauOther="hdyhau-other",e.HdyhauRadio="hdyhau-radio",e.HdyhauSearch="hdyhau-webSearch",e.HdyhauSocial="hdyhau-socialMedia",e.HdyhauTv="hdyhau-tv",e.HintPopover="hint-popover",e.HintToken="hint-token",e.Home="home",e.IntroLesson="intro-lesson",e.IntroPopover="intro-popover",e.InvalidFormField="invalid-form-field",e.LanguageCard="language-card",e.Leaderboard="leaderboard",e.LeaderboardsPopover="leaderboards-popover",e.LearnWithPlus="learn-with-plus",e.LevelCrown="level-crown",e.LingotSlide="lingot-slide",e.LockedStoriesDuoImage="locked-stories-duo-image",e.LoggedOutTopbar="logged-out-topbar",e.LongscrollTitle="longscroll-title",e.MaybeLater="maybe-later",e.MobileApps="mobile-apps",e.NotificationButton="notification-button",e.NotificationDrawerNoThanksButton="notification-drawer-no-thanks-button",e.NotNow="not-now",e.PasswordInput="password-input",e.PlacementTest="placement-test",e.PlayerNext="player-next",e.PlayerPracticeAgain="player-practice-again",e.PlayerSkip="player-skip",e.PlayerToggleKeyboard="player-toggle-keyboard",e.PlusChecklistTitle="plus-checklist-title",e.PlusCloseX="plus-close-x",e.PlusContinue="plus-continue",e.PlusLogo="plus-logo",e.PlusNoThanks="plus-no-thanks",e.PlusOfferButton="plus-offer-button",e.PlusOfferLogo="plus-offer-logo",e.PlusTimelineIcon="plus-timeline-icon",e.PlusViewAllPlans="plus-view-all-plans",e.PodcastSlide="podcast-slide",e.ProfileUsername="profile-username",e.PurchaseButton="purchase-button",e.PurchaseStepActive="purchase-step-active",e.QuitButton="quit-button",e.QuizHistory="quiz-history",e.QuizHistoryHeader="quiz-history-header",e.RegisterButton="register-button",e.Reset="reset",e.ResetPassword="reset-password",e.RewardSlide="reward-slide",e.SaveButton="save-button",e.SearchButton="search-button",e.SearchFriendButton="search-friend-button",e.SearchInput="search-input",e.SentenceDiscussion="sentence-discussion",e.SessionDuo="session-duo",e.SessionSplashTitle="session-splash-title",e.SetGoal="set-goal",e.SetHdyhau="set-hdyhau",e.ShopSection="shop-section",e.SignInJuicy="sign-in-juicy",e.SignUpButton="sign-up-button",e.SignUpLink="sign-up-link",e.Skill="skill",e.SkillIcon="skill-icon",e.SkillPath="skill-path",e.SkillPopout="skill-popout",e.SkillSlide="skill-slide",e.SkillTree="skill-tree",e.SkillTreeTrophy="skill-tree-trophy",e.SoundSettings="sound-settings",e.StartBasics="start-basics",e.StartButton="start-button",e.StartLesson="start-lesson",e.StartPlacement="start-placement",e.StartQuiz="start-quiz",e.StoriesChoice="stories-choice",e.StoriesElement="stories-element",e.StoriesPlayerContinue="stories-player-continue",e.StoriesPlayerDone="stories-player-done",e.StoriesSlide="stories-slide",e.StoriesTextInput="stories-text-input",e.StoryStart="story-start",e.StoryStartButton="story-start-button",e.StoryTitle="story-title",e.StreakFreezeSlide="streak-freeze-slide",e.StreakPanel="streak-panel",e.StreakSlide="streak-slide",e.StreakWagerSlide="streak-wager-slide",e.Submit="submit",e.SurveyBrain="brain",e.SurveyCulture="culture",e.SurveyOther="other",e.SurveySchool="school",e.SurveyTravel="travel",e.SurveyWork="work",e.TakeQuiz="take-quiz",e.TestOutButton="test-out-button",e.TipsButton="tips-button",e.TreeSection="tree-section",e.TryPlusBadge="try-plus-badge",e.UseAnotherAccount="use-another-account",e.UsernameInput="username-input",e.UserProfile="user-profile",e.WeekendAmuletSlide="weekend-amulet-slide",e.WordBank="word-bank",e.XpSlide="xp-slide"}(o||(o={}))},59815:(e,t,n)=>{"use strict";n.d(t,{pY:()=>o,$K:()=>i,w:()=>r,Di:()=>s,Wp:()=>a});class o extends Error{constructor(e){const t=new.target.prototype;super(e),Object.setPrototypeOf(this,t)}}class i extends o{constructor(){super("Aborted by user")}}class r extends o{}class s extends o{constructor(){super("Encountered stale data")}}const a=e=>"CSS_CHUNK_LOAD_FAILED"===e.code||"ChunkLoadError"===e.name},46435:(e,t,n)=>{"use strict";n.d(t,{RM:()=>d,Sg:()=>p,rn:()=>c,fv:()=>u});var o=n(80254);const i=e=>e.toString();class r{constructor(e={}){this.conditions=["control","experiment"],this.isActive=!1,this.isSticky=!1,this.urlModifier=r.URL_MODIFIERS.DEFAULT,Object.entries(e).forEach((([e,t])=>this[e]=t))}}r.URL_MODIFIERS={COURSE_ID:e=>{const t=e.pathname.split("/");return`${t[1]}_${t[2]}`},DEFAULT:i,FULL_ABSOLUTE_URL:i,LEXEME_ID:e=>e.pathname.split("/")[4],SUBDOMAIN_AND_PATHNAME:e=>`${e.hostname.split(".")[0]}-${e.pathname}`};const s=new r,a={conditions:["control","experiment"],contexts:[void 0]},l={"china_zh-HK_zh-CN_v1":a,connect_web_rotating_suggestions:a,courses_fr_ja_v1:a,events_classes_rename:a,gen_sess_web_listen_speak_replacements:a,learning_det_scores_v1:a,learning_duolingo_score_v1:a,learning_fix_whitespace_grading:a,plus_web_pf_intro_cta_copy:a,plus_web_promo_code_cta:a,plus_web_purchase_error_message:a,plus_web_purchase_error_retry:a,plus_web_purchase_page_redesign_v2:a,retention_web_dg_sf_chest_dr:a,retention_web_port_multiple_streak:a,schools_new_dweb_progress_share_setting:a,security_web_profile_reporting:{conditions:["control","button","dropdown_option"],contexts:[void 0]},sigma_web_family_se_promo:{conditions:["control","experiment_1","experiment_2"],contexts:[void 0]},sigma_web_legendary_purchase_flow_v2:a,stories_remove_tts_generation_for_hoots:a,stories_use_quill_v4_in_stories:a,stories_web_conversation_mode:{conditions:["control","session_update","session_flow_update"],contexts:[void 0]},stories_web_freeform_writing_polish:a,web_alphabets_guardrail_tracing:a,web_alphabets_transliterations_ja_en:a,web_type_to_select_tokens_callout:a},c=o.XP(l).sort().join(","),u={seo_dictionary_bread_crumbs:Object.assign(Object.assign({},s),{isSticky:!0,urlModifier:r.URL_MODIFIERS.SUBDOMAIN_AND_PATHNAME})},d=[...o.XP({nurr_web_change_mobile_course_picker_v2:{conditions:["control","experiment"],contexts:[null]},plus_web_code_redemption_redesign_v2:{conditions:["control","experiment"],contexts:[null]}}),...o.XP(u)],p=d.join(",")},81149:(e,t,n)=>{"use strict";n.d(t,{j6:()=>E,nY:()=>S,Uy:()=>w,xz:()=>T,cu:()=>I,N3:()=>R});var o=n(5029),i=n(89454),r=n(54412),s=n(21061),a=n(59273),l=n(46435),c=n(53229),u=n(74245),d=n(39852),p=(n(51158),n(11908)),m=n(18804),g=n(785),h=n(16086);const _={},v=(e,t,n,o={})=>{const i=o.localOverride?`Condition ${e} overridden from experiment ${t} in HOF local override`:o.queryOverride?`Condition ${e} overridden from experiment ${t} in HOF query string`:o.url?o.cache?`Condition ${e} retrieved from cache for URL experiment ${t}`:o.default?`Condition control queried from URL experiment ${t}, but experiment record not found`:`Condition ${e} queried from URL experiment ${t}`:`Condition ${e} queried from ${o.loggedOut?"logged out experiment":"experiment"} ${t} in context ${n}${o.cache?", provided by cache":o.default?", but record not found":o.notInRollout?", but user not in rollout":""}`;_[t]!==i&&(console.log(i,d.$U),_[t]=i)},f=e=>(t,...n)=>{var o;if((0,a.Au)()){const e=(0,c.vl)();if(e[t])return v(e[t],t,void 0,{queryOverride:!0}),e[t];const n=null===(o=(0,p.rV)(p.Qt.DebugExperimentOverrides))||void 0===o?void 0:o[t];if(n)return v(n,t,void 0,{localOverride:!0}),`${n}`}return e(t,...n)},y={},E=f(((e,t)=>{const n=`${e} ${t}`;if(n in y){const[o,i]=y[n];if((0,s.Zo)()<i)return v(o,e,t,{cache:!0}),o}const o=((e,t)=>{const n=t,o=(null!==(s=null===(r=(0,m.y0)())||void 0===r?void 0:r.user.experiments)&&void 0!==s?s:{})[e];var r,s;if(!o)return"control";if(!o.eligible)return o.condition;const a=void 0!==n&&!o.contexts.includes(n);if(!o.treated||a){const t={};n&&(t.context=n),i._s.updateExperiment(e,t),window.setTimeout((()=>(0,m.WI)({contexts:a?[...o.contexts,n].sort():void 0,name:e,type:"UPDATE_EXPERIMENT_RECORD"})),0),(0,g.j)("treatment_record_updated",{experiment_name:e})}return o.condition})(e,t);return y[n]=[o,"schools_new_dweb_progress_share_setting"===e?1/0:(0,s.Zo)()+30],v(o,e,t),o})),b=e=>{const t=(0,o.sha256)(e);return parseInt(t.slice(t.length-8),16)},S=(e,t)=>{const n=T(),o=n[e]||{condition:t,contexts:[null]};o.condition=t,n[e]=o,(0,p.LS)(p.Qt.LoggedOutExperiments,n)},w=e=>{const t=T();delete t[e],(0,p.LS)(p.Qt.LoggedOutExperiments,t)},T=()=>(0,p.rV)(p.Qt.LoggedOutExperiments)||{},I=f(((e,t,n,o)=>{(0,h.Pc)()&&console.warn(`Logged in users should not usually be treated for logged out experiments! (${e})`);const i=T(),s=i[e],a=n[e];if(!a&&!s)return v(null!=o?o:"control",e,t,{default:!0,loggedOut:!0}),null!=o?o:"control";if(a&&void 0!==a.condition)return v(a.condition,e,t,{loggedOut:!0}),a.condition;let l;if(s)l=s.condition;else{if(!(b(`${(0,r.ej)(r.Vj.LoggedOutUUID)}-${e}`)/Math.pow(2,32)<a.rollout))return v(a.conditions[0],e,t,{loggedOut:!0,notInRollout:!0}),a.conditions[0];const n=a.conditions;l=n[b(`${(0,r.ej)(r.Vj.LoggedOutUUID)}-${e}-condition`)%n.length]}if(!s||!s.contexts.includes(t)){const n=s?{condition:l,contexts:s.contexts.includes(t)?s.contexts:[...s.contexts,t]}:{condition:l,contexts:[t]};i[e]=n,(0,p.LS)(p.Qt.LoggedOutExperiments,i),(0,g.j)("counterfactuals_client_treat",{condition:n.condition,context:t,experiment_name:e})}return v(l,e,t,{loggedOut:!0}),l})),k={},R=f(((e,t,n=new URL(window.location.href))=>{const o=t[e];if(!o)return v("control",e,void 0,{default:!0,url:!0}),"control";const{conditions:i,rollout:r}=o,{isSticky:s,urlModifier:a}=l.fv[e],c=a(n),d=s?e:`${e}-${c}`;if(k[d])return v(k[d],e,void 0,{cache:!0,url:!0}),k[d];const p=b(`${e}-${c}-rollout`)/Math.pow(2,32)<r?i[b(`${e}-${c}`)%i.length]:i[0];return(0,h.Pc)()||(0,g.j)("url_experiment_treat",{condition:p,experiment_name:e,ui_language:(0,u.D3)(u.h9)}),k[d]=p,v(p,e,void 0,{url:!0}),p}))},41679:(e,t,n)=>{"use strict";n.d(t,{L8:()=>m,E6:()=>h,Jb:()=>_,k3:()=>y,T8:()=>E,RJ:()=>b,Vr:()=>S});var o=n(80254),i=n(94144),r=n(89454),s=n(70326),a=n(67899),l=n(53229),c=n(6986),u=n(785),d=n(16086),p=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const m=o.IH((()=>new Promise(((e,t)=>{window.fbAsyncInit=()=>p(void 0,void 0,void 0,(function*(){window.FB.init({appId:"234536436609303",version:"v7.0",xfbml:!0}),window.FB.AppEvents.logPageView(),yield _(),e()})),p(void 0,void 0,void 0,(function*(){try{yield(0,l.lh)("//connect.facebook.net/en_US/sdk.js","facebook-jssdk")}catch(e){t(Error("Cannot load facebook SDK"))}}))}))));let g=!1;const h=()=>g,_=()=>new Promise((e=>{window.FB.getLoginStatus((t=>{switch(t.status){case"connected":console.log("User already granted Facebook-access"),e(t.authResponse);break;default:console.log("User didn't grant Facebook-access yet"),e(void 0)}}))})),v=(e=[],t=!1)=>p(void 0,void 0,void 0,(function*(){if(g=!0,!t){const e=yield _();if(e)return e}return new Promise(((t,n)=>{window.FB.login((e=>{e.authResponse?(console.log("Facebook-access granted"),t(e.authResponse)):(console.log("User closed Facebook popup or denied access"),n())}),{scope:["email",...e].join(",")})}))})),f=()=>new Promise((e=>{window.FB.api("/me",{fields:"name,email,id"},e)})),y=({allowLanguagelessUser:e=!1,dispatch:t,gildedStoriesCount:n,history:o,onLoginSuccess:l,redirectPath:g="/",via:h})=>p(void 0,void 0,void 0,(function*(){var _,y;yield m();const E=(yield v()).accessToken;try{return yield(({dispatch:e,facebookToken:t,history:n,onLoginSuccess:o,redirectPath:r="/"})=>p(void 0,void 0,void 0,(function*(){yield(0,s.x4)({facebookToken:t});const a=e((0,i.eY)(!1,r,(e=>{(0,c.oV)("social",e)})));return console.log("Logging into existing account"),yield a,o?o():n.push(r),!0})))({dispatch:t,facebookToken:E,history:o,onLoginSuccess:l,redirectPath:g})}catch(o){if(!(0,r.IZ)(o)||401!==(null===(_=o.response)||void 0===_?void 0:_.status)&&403!==(null===(y=o.response)||void 0===y?void 0:y.status))throw o;if((0,d.Pc)()){const e=yield f();yield t((0,i.DZ)({email:e.email,facebookToken:E,name:e.name})),yield t((0,i.eY)()),(0,u.j)("register",{num_gilded_stories:n,successful:!0,through:"facebook",via:h}),(0,a.SX)({event:"sign_up"})}else if(e){const e=yield f();yield(0,s.$C)({email:e.email,name:e.name}),yield t((0,i.eY)()),(0,u.j)("register",{num_gilded_stories:n,successful:!0,through:"facebook",via:h}),(0,a.SX)({event:"sign_up"})}return!1}})),E=e=>p(void 0,void 0,void 0,(function*(){yield m();const t=(yield v()).accessToken;yield e((0,i.DZ)({facebookToken:t}))})),b=e=>p(void 0,void 0,void 0,(function*(){yield e((0,i.DZ)({facebookToken:null}))})),S=e=>p(void 0,void 0,void 0,(function*(){yield m();const t=(yield v(["user_friends"])).userID,n=(yield new Promise((e=>{window.FB.api("/me/friends",{fields:"id,installed,name,picture",limit:"500"},e)}))).data||[],i=yield r.i_.facebookToDuolingo(t,o.jg(n,"id")),s=n.filter((e=>e.id in i)).map((e=>({id:i[e.id].id,isFollowing:i[e.id].isFollowing,name:e.name,picture:e.picture.data.is_silhouette?`${i[e.id].picture}/medium`:e.picture.data.url,username:i[e.id].username}))).filter((t=>(e&&!t.isFollowing||!e)&&t.username));return o.MR(s,(e=>e.name))}))},8649:(e,t,n)=>{"use strict";n.d(t,{d:()=>s,w:()=>a});var o=n(80254),i=n(53229),r=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const s=o.IH((()=>new Promise(((e,t)=>{window.gapiLoaded=()=>{window.gapi.load("auth2",(()=>{window.gapi.auth2.init({client_id:"450298686065.apps.googleusercontent.com",prompt:"select_account consent"}).then((t=>{e({googleAuth:t})})).catch((()=>{t("Cannot initialize google SDK")}))}))},r(void 0,void 0,void 0,(function*(){try{yield(0,i.lh)("https://apis.google.com/js/platform.js?onload=gapiLoaded","gapiLoaded")}catch(e){t(Error("Cannot load google SDK"))}}))})))),a=()=>r(void 0,void 0,void 0,(function*(){const{googleAuth:e}=yield s();yield e.signOut()}))},67574:(e,t,n)=>{"use strict";n.d(t,{E6:()=>m,hP:()=>g,Fc:()=>h});var o=n(94144),i=n(89454),r=n(70326),s=n(8649),a=n(67899),l=n(6986),c=n(785),u=n(16086),d=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let p=!1;const m=()=>p,g=()=>d(void 0,void 0,void 0,(function*(){const{googleAuth:e}=yield(0,s.d)();if(e.isSignedIn.get())return(yield e.currentUser.get().reloadAuthResponse()).access_token})),h=({allowLanguagelessUser:e=!1,dispatch:t,gildedStoryCount:n,history:m,onLoginSuccess:h,redirectPath:_="/",via:v})=>d(void 0,void 0,void 0,(function*(){var f,y;const{googleAuth:E}=yield(0,s.d)();yield(e=>d(void 0,void 0,void 0,(function*(){if(p=!0,e.isSignedIn.get())console.log("User already granted Google-access");else{console.log("User didn't grant Google-access yet");try{yield e.signIn()}catch(e){throw console.log("User closed Google popup or denied access"),e}console.log("Google-access granted")}})))(E);const b=yield g();try{return yield(({dispatch:e,googleToken:t,history:n,redirectPath:i,onLoginSuccess:s})=>d(void 0,void 0,void 0,(function*(){yield(0,r.x4)({googleToken:t});const a=e((0,o.eY)(!1,i,(e=>{(0,l.oV)("social",e)})));return console.log("Logging into existing account"),yield a,s?s():n.push(i),!0})))({dispatch:t,googleToken:b,history:m,onLoginSuccess:h,redirectPath:_})}catch(s){if(!(0,i.IZ)(s)||401!==(null===(f=s.response)||void 0===f?void 0:f.status)&&403!==(null===(y=s.response)||void 0===y?void 0:y.status))throw s;if((0,u.Pc)()){const e=yield E.currentUser.get().getBasicProfile();yield t((0,o.DZ)({email:e.getEmail(),googleToken:b,name:e.getName()})),yield t((0,o.eY)()),(0,c.j)("register",{num_gilded_stories:n,successful:!0,through:"google",via:v}),(0,a.SX)({event:"sign_up"})}else if(e){const e=yield E.currentUser.get().getBasicProfile();yield(0,r.$C)({email:e.getEmail(),name:e.getName()}),yield t((0,o.eY)()),(0,c.j)("register",{num_gilded_stories:n,successful:!0,through:"google",via:v}),(0,a.SX)({event:"sign_up"})}return!1}}))},67899:(e,t,n)=>{"use strict";n.d(t,{SX:()=>r,KU:()=>l,Nf:()=>u,dl:()=>d,zu:()=>p});var o=n(80254),i=n(53229);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gtm.js","gtm.start":Date.now()}),window.dataLayer.push({cookie_domain:window.location.hostname});const r=e=>{window.dataLayer.push(e)},s=window.setInterval((()=>{const e=window;if(!e.ga||!e.ga.getAll)return;const[t]=e.ga.getAll().filter((e=>"UA-21595814-1"===e.get("trackingId")));t&&(window.clearInterval(s),new e.gaplugins.UrlChangeTracker(t))}),200),a=["card_entry_accept","card_entry_reject","plus_landing_page_load","premium_ad_click","premium_ad_dismiss","premium_ad_show","premium_purchase_cancel","premium_purchase_failure","premium_purchase_page_dismiss","premium_purchase_page_show","premium_purchase_start","premium_purchase_success","premium_trial_offer_click","premium_trial_offer_dismiss","premium_trial_offer_show","registration_load","sign_in_load","web_to_app_store_tap"],l=(e,t)=>{if(!a.includes(e))return;const n=o.ei(t,["free_trial_period","iap_context","subscription_tier"]);r(Object.assign(Object.assign({},n),{event:e}))};let c;const u=()=>c,d=()=>{return e=void 0,t=void 0,o=function*(){try{yield(0,i.lh)("https://www.googletagmanager.com/gtm.js?id=GTM-TX6Z97C"),c=!!window.google_tag_manager}catch(e){c=!1}},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,n,o},p="gtm-attribution-link"},33037:(e,t,n)=>{"use strict";n.d(t,{LN:()=>S,zn:()=>w,tx:()=>T,wM:()=>I,EZ:()=>k});var o=n(80254),i=n(83936),r=n(89454),s=n(83719),a=n(95332),l=n(11202),c=n(37590),u=n(68903),d=n(13840),p=n(74245),m=n(51158),g=n(18804),h=n(43006),_=n(785),v=n(11811),f=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const y={[s.Oj.Accent]:18634,[s.Oj.ExtraSpace]:4476,[s.Oj.MissingSpace]:18757,[s.Oj.MissingWord]:8435,[s.Oj.Typo]:4081,[s.Oj.WrongWord]:576},E=e=>{if(y[e])return(0,d.H8)(y[e])},b=e=>{const{choices:t,correctIndices:n}=e,i=(0,a.rF)(e),r=n.map((e=>t[e].text)).join(i);return e.correctSolutions.indexOf(o.VV(e.correctSolutions,(e=>(0,l.sd)(r,e))))},S=e=>{switch(e.type){case v.Sm.Assist:{const{correctIndex:t,options:n}=e;return[n[t].text]}case v.Sm.CharacterIntro:{const{choices:t,correctIndex:n}=e;return[t[n]]}case v.Sm.CharacterPuzzle:return[e.correctSolutions[0]];case v.Sm.CharacterTrace:return[e.prompt];case v.Sm.CharacterMatch:case v.Sm.FreeResponse:case v.Sm.Match:return[];case v.Sm.CharacterSelect:{const{choices:t,correctIndex:n}=e;return[t[n].character]}case v.Sm.CompleteReverseTranslation:{const{displayTokens:t}=e;return[t.map((e=>e.text)).join("")]}case v.Sm.Definition:{const{choices:t,correctIndex:n}=e;return[t[n]]}case v.Sm.Dialogue:{const{choices:t,correctIndex:n}=e;return[t[n]]}case v.Sm.Form:{const{options:t,correctIndex:n}=e;return[t[n].text]}case v.Sm.GapFill:{const{choices:t,correctIndex:n}=e;return[t[n]]}case v.Sm.Judge:{const{choices:t,correctIndices:n}=e;return n.map((e=>t[e]))}case v.Sm.Listen:case v.Sm.ListenComplete:return[e.prompt];case v.Sm.ListenComprehension:{const{choices:t,correctIndex:n}=e;return[t[n]]}case v.Sm.ListenTap:return[e.prompt];case v.Sm.Name:return e.correctSolutions;case v.Sm.ReadComprehension:{const{choices:t,correctIndex:n}=e;return[t[n]]}case v.Sm.Select:{const{choices:t,correctIndex:n}=e;return[t[n].phrase]}case v.Sm.SelectPronunciation:case v.Sm.SelectTranscription:{const{choices:t,correctIndex:n}=e;return[t[n].text]}case v.Sm.Speak:return[e.prompt];case v.Sm.TapCloze:case v.Sm.TapClozeTable:return[(0,c.Ub)(e).join("")];case v.Sm.TapComplete:{const{displayTokens:t}=e;return[t.map((e=>e.text)).join("")]}case v.Sm.TapCompleteTable:return[(0,c.Ub)(e).join("")];case v.Sm.TapDescribe:return e.correctSolutions;case v.Sm.Translate:{const t=(0,g.y0)();return t&&(0,i.Y_)(t).isToggledToTyping?e.correctSolutions:[e.correctSolutions[b(e)]]}case v.Sm.TypeCloze:case v.Sm.TypeClozeTable:case v.Sm.TypeCompleteTable:return[(0,c.Ub)(e).join("")];default:throw(0,u.RJ)(e),Error(`Unexpected challenge type: ${e.type}`)}},w=e=>{var t,n,o,r;switch(e.type){case v.Sm.ListenTap:return e.promptTransliteration;case v.Sm.Select:return e.choices[e.correctIndex].phraseTransliteration;case v.Sm.Translate:{const o=(0,g.y0)();return o&&(0,i.Y_)(o).isToggledToTyping?null===(t=e.correctSolutionTransliterations)||void 0===t?void 0:t[0]:null===(n=e.correctSolutionTransliterations)||void 0===n?void 0:n[b(e)]}case v.Sm.CharacterIntro:return null===(o=e.choiceTransliterations)||void 0===o?void 0:o[e.correctIndex];case v.Sm.Form:return e.options[e.correctIndex].textTransliteration;case v.Sm.Judge:return null===(r=e.choiceTransliterations)||void 0===r?void 0:r[e.correctIndices[0]];default:return}},T=(e,t,n,o)=>e&&n&&o.length&&!o.includes(n)&&(0,h.Dg)(t)!==(0,h.Dg)(o[0]),I=({challenge:e,guess:t,isTypingInLearningLanguage:n,allowTypoBlame:o})=>f(void 0,void 0,void 0,(function*(){var i;try{const r=Date.now(),s=null===(i=e.grader)||void 0===i?void 0:i.language,a=yield(0,l.C3)(s),c=!!e.smartTipsGraderV2,u=(0,l.YK)({accentedCharacterMap:a.accentedCharacterMap,allowTypoBlame:o,compiledNormalizationData:a.normalizationData,gradingData:c?e.smartTipsGraderV2:e.grader,isTypingInLearningLanguage:n,submittedValue:t}),{blameType:d,closestSolution:p,correct:m,gradingMetadata:g,highlights:h}=u;return R(e,m,r,c),{blameMessage:d?E(d):void 0,blameType:d,closestSolution:p,correct:m,gradingMetadata:g,guess:t,highlights:h}}catch(e){(0,m.vU)("Client-side grading failed",{ex:e})}return k(Object.assign(Object.assign({},e),{guess:t}))})),k=e=>f(void 0,void 0,void 0,(function*(){console.log("Attempting server grade");const t=yield r.Vi.challengeGrade(e);return Object.assign(Object.assign({},t),{blameMessage:t.blameType?E(t.blameType):void 0})})),R=(e,t,n,o)=>f(void 0,void 0,void 0,(function*(){Math.random()>.001||(yield(0,_.j)("challenge_grade",{challenge_type:e.type,correct:t,from_language:p.h9,grading_method:o?"client_library_smart_tips":"client_library",sampling_rate:.001,target_language:e.grader.language,time_spent_grading:Date.now()-n}))}))},37590:(e,t,n)=>{"use strict";n.d(t,{x6:()=>a,jL:()=>l,Xh:()=>c,ao:()=>u,Ub:()=>d,JH:()=>p,tl:()=>g});var o=n(68903),i=n(51158),r=n(43006),s=n(11811);const a=(e,t,n=(({},{},e)=>e.text))=>m(e,n).slice(t?1:0).flatMap((e=>[", ",...e.flatMap((e=>[" ",e])).slice(1)])).slice(1),l=e=>e.flatMap(((e,t)=>void 0===e.damageStart?[]:{index:t})),c=e=>e.flatMap(((e,t)=>e.flatMap(((e,n)=>e.filter((e=>"isBlank"in e&&e.isBlank||"damageStart"in e)).length?[{colIndex:n,rowIndex:t}]:[])))),u=e=>{const t=c(e)[0];return{colIndex:t.colIndex,rowIndex:t.rowIndex}},d=e=>{switch(e.type){case s.Sm.TapCloze:case s.Sm.TypeCloze:return e.displayTokens.map((e=>e.text));case s.Sm.TapClozeTable:case s.Sm.TypeClozeTable:case s.Sm.TapCompleteTable:case s.Sm.TypeCompleteTable:{const{displayTableTokens:t,headers:n}=e;return a(t,n)}default:throw(0,o.RJ)(e),Error(`Tried to call getGrammarChallengeCorrectTexts on an unsupported challenge type: ${e.type}`)}},p=e=>{switch(e.type){case s.Sm.TapCloze:case s.Sm.TypeCloze:return e.displayTokens.map((e=>void 0===e.damageStart?e.text:`${e.text.slice(0,e.damageStart)}${r.qv}`)).join("");case s.Sm.TapClozeTable:case s.Sm.TypeClozeTable:case s.Sm.TapCompleteTable:case s.Sm.TypeCompleteTable:{const{displayTableTokens:t,headers:n}=e;return a(t,n).join("")}default:throw(0,o.RJ)(e),Error(`Tried to call getGrammarChallengePrompt on an unsupported challenge type: ${e.type}`)}},m=(e,t=(({},{},e)=>e.text))=>e.map(((e,n)=>e.map(((e,o)=>e.map((e=>t(o,n,e))).join(""))))),g=(e,t,n)=>e.map(((o,r)=>o.map(((o,s)=>o.map(((o,a)=>{let l;try{l=t[r][s][a]}catch(t){(0,i.vU)("No matching token found for display token in table challenge",{data:{displayTableTokens:e}})}return n({colIndex:s,rowIndex:r},o,l)}))))))},68903:(e,t,n)=>{"use strict";n.d(t,{RJ:()=>i,cY:()=>r,gB:()=>s,$K:()=>a,p:()=>l,dl:()=>c});var o=n(80254);const i=e=>e,r=(e,t)=>e.some((e=>o.Xy(e,t))),s=(e,t)=>t.includes(e),a=e=>void 0!==e,l=e=>t=>e.includes(t),c=(...e)=>e.reduce(((e,t)=>o.jj([...o.e5(e,t),...o.e5(t,e)])),[])},50548:(e,t,n)=>{"use strict";n.d(t,{m:()=>l,Z:()=>c});var o=n(92534),i=n(27378),r=n(51158),s=n(18804);const a=[],l=(0,o.lX)({getUserConfirmation:(e,t)=>{(0,s.WI)({options:{message:e,name:"CONFIRM",onClose:()=>t(!1),onConfirm:()=>{var e,n;const{shouldCancelRouteChange:o=!1}=null!==(n=null===(e=a[0])||void 0===e?void 0:e.call(a))&&void 0!==n?n:{};t(!o)}},type:"TOGGLE_DRAWER"})}}),c=e=>{i.useEffect((()=>(a.length>0&&(0,r.Kp)("Adding ConfirmedRouteChangeHandler when another handler is already present",{once:!0}),a.unshift(e),()=>{const t=a.indexOf(e);t>=0&&a.splice(t,1)})),[e])}},60610:(e,t,n)=>{"use strict";n.d(t,{PX:()=>u,YY:()=>g,HF:()=>d,tX:()=>f,Fx:()=>y,CC:()=>E,Gj:()=>v,ZF:()=>h,xy:()=>_,Yz:()=>p,Tb:()=>m,$h:()=>b});var o=n(27378),i=n(50065),r=n(69635),s=n(80254);const a={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","flippable-img":"_1G1lu",clearfix:"_23rtc","stop-ios-vanishing":"_32AJE","no-scrollbar":"_1fay8","no-scrollbar-overflow":"_1ORYU","scroll-capture":"_270mD _1fay8"};var l=n(70220),c=n(785);const u=(e,t,n)=>{const[i,r]=o.useState(e);return o.useEffect((()=>{let e=!0;return n=void 0,o=void 0,s=function*(){const n=yield t();e&&r(n)},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(n,o||[])).next())})),()=>{e=!1};var n,o,i,s}),n),i},d=(e,t)=>{const n=f();o.useLayoutEffect((()=>{if(e){const e=document.getElementById("root");if(e){const o=document.documentElement.scrollTop;return n({type:"CAPTURE_SCROLL",y:o}),e.classList.add(...a["scroll-capture"].split(" ")),e.scrollTop=o,()=>{e.classList.remove(...a["scroll-capture"].split(" ")),document.documentElement.scrollTop=t?o:0,n({type:"RELEASE_SCROLL"})}}}}),[e])},p=(e,t)=>{const n=o.useRef(e);o.useEffect((()=>{n.current=e}),[e]),o.useEffect((()=>{if(void 0!==t){const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}}),[t])},m=()=>y((e=>e.browserSettings.prefersReducedMotion))||l.H,g=(e=1e3)=>{const[t,n]=o.useState(Date.now());return p((()=>n(Date.now())),e),t},h=(e,t)=>{const n=o.useRef();var i,r;return void 0!==n.current&&(i=t,r=n.current.lastDeps,i&&r&&i.length===r.length&&i.every(((e,t)=>Object.is(e,r[t]))))||(n.current={lastDeps:t,lastValue:e()}),n.current.lastValue},_=(e,t)=>{var n;const i=o.useRef();return void 0!==(null===(n=i.current)||void 0===n?void 0:n.lastDeps)&&s.Xy(t,i.current.lastDeps)||(i.current={lastDeps:t,lastValue:e()}),i.current.lastValue},v=(e,t)=>{const n=o.useRef(!1);o.useEffect((()=>{if(n.current)return e();n.current=!0}),t)},f=()=>(0,i.I0)(),y=(0,i.gR)(),E=(0,i.fw)(),b=(e,t,n="")=>{const i=(0,r.k6)();o.useEffect((()=>{e&&((0,c.mh)(window.location.href,t,"soft"),i.replace({pathname:t,search:n}))}),[t,e])}},53229:(e,t,n)=>{"use strict";n.d(t,{vl:()=>r,Lm:()=>s,Vp:()=>a,lh:()=>l,g3:()=>c,lV:()=>u,qy:()=>d});var o=n(80254);const i=()=>`duo${`${Math.random()}`.split(".")[1]}_${Date.now()}`,r=(e=window.location.search)=>Object.fromEntries(new URLSearchParams(e).entries()),s=(e=window.location.search)=>r(e.replace(/\+/g,"%2B")),a=e=>o.XP(e).sort().map((t=>[t,e[t]].map(encodeURIComponent).join("="))).join("&"),l=o.HP(((e,t)=>new Promise(((n,o)=>{const r=document.createElement("script");r.async=!0,r.id=null!=t?t:i(),r.onerror=o,r.onload=n,r.src=e,r.type="text/javascript";const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s)})))),c=(e,t={})=>{const n=i();return t=Object.assign(Object.assign({},t),{callback:n}),new Promise(((o,i)=>{var r,s,c,u;window[n]=o,r=void 0,s=void 0,u=function*(){try{yield l(`${e}?${a(t)}`,n)}catch(e){i(Error("JSONP script failed to load."))}},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function o(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,o)}i((u=u.apply(r,s||[])).next())}))}))},u=e=>encodeURIComponent(e.replace(/[!"#$%&'()*+,\-./:;<=>?@[\]^_`{|}~ \b\f\n\r\t\v¿]+/g," ").trim().replace(" ","-")),d=e=>e},13840:(e,t,n)=>{"use strict";n.d(t,{lw:()=>v,_i:()=>E,H8:()=>b,Eb:()=>I,yL:()=>R,uf:()=>C,ip:()=>O,Q7:()=>N,Hy:()=>P,VG:()=>L,mD:()=>A,Ti:()=>x,k_:()=>w,sS:()=>M,T$:()=>D});var o=n(27378),i=n(37803),r=n(80254);const s=JSON.parse('{"el":{"100000000000000-count-one":"000 τρισ.","100000-count-other":"000 χιλ.","1000000000000-count-other":"0 τρισ.","10000000000-count-one":"00 δισ.","100000000-count-other":"000 εκ.","100000000000-count-other":"000 δισ.","10000000000-count-other":"00 δισ.","1000-count-one":"0 χιλ.","10000000000000-count-other":"00 τρισ.","10000000-count-other":"00 εκ.","10000-count-one":"00 χιλ.","1000000-count-other":"0 εκ.","10000000-count-one":"00 εκ.","100000-count-one":"000 χιλ.","1000000000-count-other":"0 δισ.","100000000000000-count-other":"000 τρισ.","100000000000-count-one":"000 δισ.","10000000000000-count-one":"00 τρισ.","1000000000000-count-one":"0 τρισ.","1000000-count-one":"0 εκ.","1000000000-count-one":"0 δισ.","10000-count-other":"00 χιλ.","100000000-count-one":"000 εκ.","1000-count-other":"0 χιλ."},"en":{"100000000000000-count-one":"000T","100000-count-other":"000K","1000000000000-count-other":"0T","10000000000-count-one":"00B","100000000-count-other":"000M","100000000000-count-other":"000B","10000000000-count-other":"00B","1000-count-one":"0K","10000000000000-count-other":"00T","10000000-count-other":"00M","10000-count-one":"00K","1000000-count-other":"0M","10000000-count-one":"00M","100000-count-one":"000K","1000000000-count-other":"0B","100000000000000-count-other":"000T","100000000000-count-one":"000B","10000000000000-count-one":"00T","1000000000000-count-one":"0T","1000000-count-one":"0M","1000000000-count-one":"0B","10000-count-other":"00K","100000000-count-one":"000M","1000-count-other":"0K"},"zh":{"100000000000000-count-other":"000兆","10000000000000-count-other":"00兆","10000-count-other":"0万","10000000-count-other":"0000万","1000000-count-other":"000万","100000-count-other":"00万","1000000000000-count-other":"0兆","1000-count-other":"0千","100000000-count-other":"0亿","100000000000-count-other":"0000亿","10000000000-count-other":"000亿","1000000000-count-other":"00亿"},"vi":{"100000000000000-count-other":"000 NT","10000000000000-count-other":"00 NT","10000-count-other":"00 N","10000000-count-other":"00 Tr","1000000-count-other":"0 Tr","100000-count-other":"000 N","1000000000000-count-other":"0 NT","1000-count-other":"0 N","100000000-count-other":"000 Tr","100000000000-count-other":"000 T","10000000000-count-other":"00 T","1000000000-count-other":"0 T"},"ca":{"100000000000000-count-one":"000 B","100000-count-other":"000m","1000000000000-count-other":"0B","10000000000-count-one":"00mM","100000000-count-other":"000 M","100000000000-count-other":"000mM","10000000000-count-other":"00mM","1000-count-one":"0m","10000000000000-count-other":"00 B","10000000-count-other":"00 M","10000-count-one":"00m","1000000-count-other":"0M","10000000-count-one":"00 M","100000-count-one":"000m","1000000000-count-other":"0000 M","100000000000000-count-other":"000 B","100000000000-count-one":"000mM","10000000000000-count-one":"00 B","1000000000000-count-one":"0B","1000000-count-one":"0M","1000000000-count-one":"0000 M","10000-count-other":"00m","100000000-count-one":"000 M","1000-count-other":"0m"},"it":{"100000000000000-count-one":"000 Bln","100000-count-other":"000 Mila","1000000000000-count-other":"0 Bln","10000000000-count-one":"00 Mld","100000000-count-other":"000 Mln","100000000000-count-other":"000 Mld","10000000000-count-other":"00 Mld","1000-count-one":"0 Mila","10000000000000-count-other":"00 Bln","10000000-count-other":"00 Mln","10000-count-one":"00 Mila","1000000-count-other":"0 Mln","10000000-count-one":"00 Mln","100000-count-one":"000 Mila","1000000000-count-other":"0 Mld","100000000000000-count-other":"000 Bln","100000000000-count-one":"000 Mld","10000000000000-count-one":"00 Bln","1000000000000-count-one":"0 Bln","1000000-count-one":"0 Mln","1000000000-count-one":"0 Mld","10000-count-other":"00 Mila","100000000-count-one":"000 Mln","1000-count-other":"0 Mila"},"ar":{"10000000000-count-many":"00 بليو","1000000-count-zero":"0 مليو","100000000000000-count-one":"000 ترليو","100000-count-other":"000 ألف","10000000000-count-two":"00 بليو","1000000000-count-two":"0 بليو","1000000000-count-few":"0 بليو","100000-count-two":"000 ألف","1000-count-few":"0 ألف","1000000-count-many":"0 مليو","10000-count-two":"00 ألف","100000000000-count-two":"000 بليو","100000000-count-other":"000 مليو","1000-count-many":"0 ألف","1000000000000-count-other":"0 ترليو","10000000000-count-other":"00 بليو","100000-count-many":"000 ألف","100000000000000-count-few":"000 ترليو","1000-count-one":"0 ألف","10000000-count-two":"00 مليو","1000000-count-two":"0 مليو","10000000-count-other":"00 مليو","100000000000000-count-other":"000 ترليو","10000-count-one":"00 ألف","100000000000000-count-zero":"000 ترليو","1000000-count-other":"0 مليو","100000000000-count-few":"000 بليو","10000000-count-one":"00 مليو","1000000000000-count-two":"0 ترليو","10000000000000-count-two":"00 ترليو","10000-count-few":"00 ألف","10000-count-zero":"00 ألف","10000000-count-many":"00 مليو","10000000-count-few":"00 مليو","100000-count-one":"000 ألف","1000000000000-count-few":"0 ترليو","100000-count-zero":"000 ألف","1000000000-count-many":"0 بليو","100000000000000-count-many":"000 ترليو","100000000-count-many":"000 مليو","1000000000-count-other":"0 بليو","100000000000-count-many":"000 بليو","10000000000-count-few":"00 بليو","100000-count-few":"000 ألف","10000000000000-count-many":"00 ترليو","100000000-count-zero":"000 مليو","1000000000000-count-many":"0 ترليو","10000-count-many":"00 ألف","100000000000-count-zero":"000 بليو","1000000000-count-zero":"0 بليو","1000-count-zero":"0 ألف","10000000000000-count-zero":"00 ترليو","10000000-count-zero":"00 مليو","100000000000-count-one":"000 بليو","100000000000-count-other":"000 بليو","10000000000-count-zero":"00 بليو","10000000000000-count-one":"00 ترليو","1000000000000-count-one":"0 ترليو","1000000-count-one":"0 مليو","1000000000-count-one":"0 بليو","10000-count-other":"00 ألف","100000000-count-one":"000 مليو","10000000000000-count-few":"00 ترليو","1000-count-two":"0 ألف","100000000000000-count-two":"000 ترليو","1000-count-other":"0 ألف","1000000-count-few":"0 مليو","1000000000000-count-zero":"0 ترليو","100000000-count-two":"000 مليو","10000000000000-count-other":"00 ترليو","100000000-count-few":"000 مليو","10000000000-count-one":"00 بليو"},"cs":{"10000000000-count-many":"00 mld.","100000000000000-count-one":"000 bil.","100000-count-other":"000 tis.","1000000000000-count-other":"0 bil.","1000000000-count-few":"0 mld.","100000000000-count-other":"000 mld.","1000-count-few":"0 tis.","1000000-count-many":"0 mil.","10000000000-count-one":"00 mld.","100000000-count-other":"000 mil.","1000-count-many":"0 tis.","10000000000-count-other":"00 mld.","10000000-count-few":"00 mil.","100000000000000-count-few":"000 bil.","1000-count-one":"0 tis.","10000000000000-count-other":"00 bil.","10000000-count-other":"00 mil.","100000000000000-count-other":"000 bil.","10000-count-one":"00 tis.","1000000-count-other":"0 mil.","100000000000-count-few":"000 mld.","10000000-count-one":"00 mil.","10000-count-few":"00 tis.","10000000-count-many":"00 mil.","100000-count-many":"000 tis.","100000-count-one":"000 tis.","1000000000000-count-few":"0 bil.","1000000000-count-many":"0 mld.","100000000000000-count-many":"000 bil.","100000000-count-many":"000 mil.","1000000000-count-other":"0 mld.","100000000000-count-many":"000 mld.","10000000000-count-few":"00 mld.","100000-count-few":"000 tis.","10000000000000-count-many":"00 bil.","1000000000000-count-many":"0 bil.","10000-count-many":"00 tis.","100000000000-count-one":"000 mld.","10000000000000-count-one":"00 bil.","1000000000000-count-one":"0 bil.","1000000-count-one":"0 mil.","1000000000-count-one":"0 mld.","10000-count-other":"00 tis.","100000000-count-one":"000 mil.","10000000000000-count-few":"00 bil.","1000-count-other":"0 tis.","1000000-count-few":"0 mil.","100000000-count-few":"000 mil."},"es":{"100000000000000-count-one":"000B","100000-count-other":"000K","1000000000000-count-other":"0B","10000000000-count-one":"00MRD","100000000-count-other":"000M","100000000000-count-other":"000MRD","10000000000-count-other":"00MRD","1000-count-one":"0K","10000000000000-count-other":"00B","10000000-count-other":"00M","10000-count-one":"00K","1000000-count-other":"0M","10000000-count-one":"00M","100000-count-one":"000K","1000000000-count-other":"0000 M","100000000000000-count-other":"000B","100000000000-count-one":"000MRD","10000000000000-count-one":"00B","1000000000000-count-one":"0B","1000000-count-one":"0M","1000000000-count-one":"0000 M","10000-count-other":"00K","100000000-count-one":"000M","1000-count-other":"0K"},"ru":{"10000000000-count-many":"00 млрд","100000000000000-count-one":"000 трлн","100000-count-other":"000 тыс.","1000000000000-count-other":"0 трлн","100000000000-count-other":"000 млрд","1000000-count-many":"0 млн","10000000000-count-one":"00 млрд","100000000-count-other":"000 млн","1000-count-many":"0 тыс.","10000000000-count-other":"00 млрд","100000-count-many":"000 тыс.","1000-count-one":"0 тыс.","10000000000000-count-other":"00 трлн","10000000-count-other":"00 млн","100000000000000-count-other":"000 трлн","10000-count-one":"00 тыс.","1000000-count-other":"0 млн","10000000-count-one":"00 млн","10000000-count-many":"00 млн","100000-count-one":"000 тыс.","100000000000000-count-many":"000 трлн","1000000000-count-many":"0 млрд","1000000000-count-other":"0 млрд","100000000000-count-many":"000 млрд","10000000000000-count-many":"00 трлн","1000000000000-count-many":"0 трлн","10000-count-many":"00 тыс.","100000000000-count-one":"000 млрд","10000000000000-count-one":"00 трлн","1000000000000-count-one":"0 трлн","1000000-count-one":"0 млн","1000000000-count-one":"0 млрд","10000-count-other":"00 тыс.","100000000-count-one":"000 млн","100000000-count-many":"000 млн","1000-count-other":"0 тыс."},"nl":{"100000000000000-count-one":"000 bln.","100000-count-other":"000K","1000000000000-count-other":"0 bln.","10000000000-count-one":"00 mld.","100000000-count-other":"000 mln.","100000000000-count-other":"000 mld.","10000000000-count-other":"00 mld.","1000-count-one":"0K","10000000000000-count-other":"00 bln.","10000000-count-other":"00 mln.","10000-count-one":"00K","1000000-count-other":"0 mln.","10000000-count-one":"00 mln.","100000-count-one":"000K","1000000000-count-other":"0 mld.","100000000000000-count-other":"000 bln.","100000000000-count-one":"000 mld.","10000000000000-count-one":"00 bln.","1000000000000-count-one":"0 bln.","1000000-count-one":"0 mln.","1000000000-count-one":"0 mld.","10000-count-other":"00K","100000000-count-one":"000 mln.","1000-count-other":"0K"},"pt":{"100000000000000-count-one":"000 tri","100000-count-other":"000 mil","1000000000000-count-other":"0 tri","10000000000-count-one":"00 bi","100000000-count-other":"000 mi","100000000000-count-other":"000 bi","10000000000-count-other":"00 bi","1000-count-one":"0 mil","10000000000000-count-other":"00 tri","10000000-count-other":"00 mi","10000-count-one":"00 mil","1000000-count-other":"0 mi","10000000-count-one":"00 mi","100000-count-one":"000 mil","1000000000-count-other":"0 bi","100000000000000-count-other":"000 tri","100000000000-count-one":"000 bi","10000000000000-count-one":"00 tri","1000000000000-count-one":"0 tri","1000000-count-one":"0 mi","1000000000-count-one":"0 bi","10000-count-other":"00 mil","100000000-count-one":"000 mi","1000-count-other":"0 mil"},"nb":{"100000000000000-count-one":"000 bill","100000-count-other":"000 K","1000000000000-count-other":"0 bill","10000000000-count-one":"00 mrd","100000000-count-other":"000 mill","100000000000-count-other":"000 mrd","10000000000-count-other":"00 mrd","1000-count-one":"0 K","10000000000000-count-other":"00 bill","10000000-count-other":"00 mill","10000-count-one":"00 K","1000000-count-other":"0 mill","10000000-count-one":"00 mill","100000-count-one":"000 K","1000000000-count-other":"0 mrd","100000000000000-count-other":"000 bill","100000000000-count-one":"000 mrd","10000000000000-count-one":"00 bill","1000000000000-count-one":"0 bill","1000000-count-one":"0 mill","1000000000-count-one":"0 mrd","10000-count-other":"00 K","100000000-count-one":"000 mill","1000-count-other":"0 K"},"tr":{"100000000000000-count-one":"000 Tn","100000-count-other":"000 B","1000000000000-count-other":"0 Tn","10000000000-count-one":"00 Mr","100000000-count-other":"000 Mn","100000000000-count-other":"000 Mr","10000000000-count-other":"00 Mr","1000-count-one":"0","10000000000000-count-other":"00 Tn","10000000-count-other":"00 Mn","10000-count-one":"00 B","1000000-count-other":"0 Mn","10000000-count-one":"00 Mn","100000-count-one":"000 B","1000000000-count-other":"0 Mr","100000000000000-count-other":"000 Tn","100000000000-count-one":"000 Mr","10000000000000-count-one":"00 Tn","1000000000000-count-one":"0 Tn","1000000-count-one":"0 Mn","1000000000-count-one":"0 Mr","10000-count-other":"00 B","100000000-count-one":"000 Mn","1000-count-other":"0"},"th":{"100000000000000-count-other":"000 ล.ล.","10000000000000-count-other":"00 ล.ล.","10000-count-other":"0 ม.","10000000-count-other":"00 ล.","1000000-count-other":"0 ล.","100000-count-other":"0 ส.","1000000000000-count-other":"0 ล.ล.","1000-count-other":"0 พ.","100000000-count-other":"000 ล.","100000000000-count-other":"0 ส.ล.","10000000000-count-other":"0 ม.ล.","1000000000-count-other":"0 พ.ล."},"ro":{"100000000000000-count-one":"000 tril.","100000-count-other":"000 K","1000000000000-count-other":"0 tril.","1000000000-count-few":"0 mld.","1000-count-few":"0 K","10000000000-count-one":"00 mld.","100000000-count-other":"000 mil.","100000000000-count-other":"000 mld.","10000000000-count-other":"00 mld.","10000000-count-few":"00 mil.","100000000000000-count-few":"000 tril.","1000-count-one":"0 K","10000000000000-count-other":"00 tril.","10000000-count-other":"00 mil.","10000-count-one":"00 K","1000000-count-other":"0 mil.","100000000000-count-few":"000 mld.","10000000-count-one":"00 mil.","10000-count-few":"00 K","100000-count-one":"000 K","1000000000-count-other":"0 mld.","100000000000000-count-other":"000 tril.","10000000000-count-few":"00 mld.","100000-count-few":"000 K","1000000000000-count-few":"0 tril.","100000000000-count-one":"000 mld.","10000000000000-count-one":"00 tril.","1000000000000-count-one":"0 tril.","1000000-count-one":"0 mil.","1000000000-count-one":"0 mld.","10000-count-other":"00 K","100000000-count-one":"000 mil.","10000000000000-count-few":"00 tril.","1000-count-other":"0 K","1000000-count-few":"0 mil.","100000000-count-few":"000 mil."},"pl":{"10000000000-count-many":"00 mld","100000000000000-count-one":"000 bln","100000-count-other":"000 tys.","1000000000000-count-other":"0 bln","1000000000-count-few":"0 mld","100000000000-count-other":"000 mld","1000-count-few":"0 tys.","1000000-count-many":"0 mln","10000000000-count-one":"00 mld","100000000-count-other":"000 mln","1000-count-many":"0 tys.","10000000000-count-other":"00 mld","10000000-count-few":"00 mln","100000000000000-count-few":"000 bln","1000-count-one":"0 tys.","10000000000000-count-other":"00 bln","10000000-count-other":"00 mln","100000000000000-count-other":"000 bln","10000-count-one":"00 tys.","1000000-count-other":"0 mln","100000000000-count-few":"000 mld","10000000-count-one":"00 mln","10000-count-few":"00 tys.","10000000-count-many":"00 mln","100000-count-many":"000 tys.","100000-count-one":"000 tys.","1000000000000-count-few":"0 bln","1000000000-count-many":"0 mld","100000000000000-count-many":"000 bln","100000000-count-many":"000 mln","1000000000-count-other":"0 mld","100000000000-count-many":"000 mld","10000000000-count-few":"00 mld","100000-count-few":"000 tys.","10000000000000-count-many":"00 bln","1000000000000-count-many":"0 bln","10000-count-many":"00 tys.","100000000000-count-one":"000 mld","10000000000000-count-one":"00 bln","1000000000000-count-one":"0 bln","1000000-count-one":"0 mln","1000000000-count-one":"0 mld","10000-count-other":"00 tys.","100000000-count-one":"000 mln","10000000000000-count-few":"00 bln","1000-count-other":"0 tys.","1000000-count-few":"0 mln","100000000-count-few":"000 mln"},"fr":{"100000000000000-count-one":"000 Bn","100000-count-other":"000 k","1000000000000-count-other":"0 Bn","10000000000-count-one":"00 Md","100000000-count-other":"000 M","100000000000-count-other":"000 Md","10000000000-count-other":"00 Md","1000-count-one":"0 k","10000000000000-count-other":"00 Bn","10000000-count-other":"00 M","10000-count-one":"00 k","1000000-count-other":"0 M","10000000-count-one":"00 M","100000-count-one":"000 k","1000000000-count-other":"0 Md","100000000000000-count-other":"000 Bn","100000000000-count-one":"000 Md","10000000000000-count-one":"00 Bn","1000000000000-count-one":"0 Bn","1000000-count-one":"0 M","1000000000-count-one":"0 Md","10000-count-other":"00 k","100000000-count-one":"000 M","1000-count-other":"0 k"},"hr":{"100000000000000-count-one":"000 bil.","100000-count-other":"000 tis.","1000000000000-count-other":"0 bil.","1000000000-count-few":"0 mlr.","1000-count-few":"0 tis.","10000000000-count-one":"00 mlr.","100000000-count-other":"000 mil.","100000000000-count-other":"000 mlr.","10000000000-count-other":"00 mlr.","10000000-count-few":"00 mil.","100000000000000-count-few":"000 bil.","1000-count-one":"0 tis.","10000000000000-count-other":"00 bil.","10000000-count-other":"00 mil.","10000-count-one":"00 tis.","1000000-count-other":"0 mil.","100000000000-count-few":"000 mlr.","10000000-count-one":"00 mil.","10000-count-few":"00 tis.","100000-count-one":"000 tis.","1000000000-count-other":"0 mlr.","100000000000000-count-other":"000 bil.","10000000000-count-few":"00 mlr.","100000-count-few":"000 tis.","1000000000000-count-few":"0 bil.","100000000000-count-one":"000 mlr.","10000000000000-count-one":"00 bil.","1000000000000-count-one":"0 bil.","1000000-count-one":"0 mil.","1000000000-count-one":"0 mlr.","10000-count-other":"00 tis.","100000000-count-one":"000 mil.","10000000000000-count-few":"00 bil.","1000-count-other":"0 tis.","1000000-count-few":"0 mil.","100000000-count-few":"000 mil."},"de":{"100000000000000-count-one":"000 Bio","100000-count-other":"000 Tsd","1000000000000-count-other":"0 Bio","10000000000-count-one":"00 Mrd","100000000-count-other":"000 Mio","100000000000-count-other":"000 Mrd","10000000000-count-other":"00 Mrd","1000-count-one":"0 Tsd","10000000000000-count-other":"00 Bio","10000000-count-other":"00 Mio","10000-count-one":"00 Tsd","1000000-count-other":"0 Mio","10000000-count-one":"00 Mio","100000-count-one":"000 Tsd","1000000000-count-other":"0 Mrd","100000000000000-count-other":"000 Bio","100000000000-count-one":"000 Mrd","10000000000000-count-one":"00 Bio","1000000000000-count-one":"0 Bio","1000000-count-one":"0 Mio","1000000000-count-one":"0 Mrd","10000-count-other":"00 Tsd","100000000-count-one":"000 Mio","1000-count-other":"0 Tsd"},"da":{"100000000000000-count-one":"000 bill","100000-count-other":"000 td","1000000000000-count-other":"0 bill","10000000000-count-one":"00 mia","100000000-count-other":"000 mio","100000000000-count-other":"000 mia","10000000000-count-other":"00 mia","1000-count-one":"0 td","10000000000000-count-other":"00 bill","10000000-count-other":"00 mio","10000-count-one":"00 td","1000000-count-other":"0 mio","10000000-count-one":"00 mio","100000-count-one":"000 td","1000000000-count-other":"0 mia","100000000000000-count-other":"000 bill","100000000000-count-one":"000 mia","10000000000000-count-one":"00 bill","1000000000000-count-one":"0 bill","1000000-count-one":"0 mio","1000000000-count-one":"0 mia","10000-count-other":"00 td","100000000-count-one":"000 mio","1000-count-other":"0 td"},"hi":{"100000000000000-count-one":"000T","100000-count-other":"0L","1000000000000-count-other":"0T","10000000000-count-one":"00B","100000000-count-other":"00Cr","100000000000-count-other":"000B","10000000000-count-other":"00B","1000-count-one":"0","10000000000000-count-other":"00T","10000000-count-other":"0Cr","10000-count-one":"0","1000000-count-other":"00L","10000000-count-one":"0Cr","100000-count-one":"0L","1000000000-count-other":"000Cr","100000000000000-count-other":"000T","100000000000-count-one":"000B","10000000000000-count-one":"00T","1000000000000-count-one":"0T","1000000-count-one":"00L","1000000000-count-one":"000Cr","10000-count-other":"0","100000000-count-one":"00Cr","1000-count-other":"0"},"fi":{"100000000000000-count-one":"000 bilj.","100000-count-other":"000 t.","1000000000000-count-other":"0 bilj.","10000000000-count-one":"00 mrd.","100000000-count-other":"000 milj.","100000000000-count-other":"000 mrd.","10000000000-count-other":"00 mrd.","1000-count-one":"0 t.","10000000000000-count-other":"00 bilj.","10000000-count-other":"00 milj.","10000-count-one":"00 t.","1000000-count-other":"0 milj.","10000000-count-one":"00 milj.","100000-count-one":"000 t.","1000000000-count-other":"0 mrd.","100000000000000-count-other":"000 bilj.","100000000000-count-one":"000 mrd.","10000000000000-count-one":"00 bilj.","1000000000000-count-one":"0 bilj.","1000000-count-one":"0 milj.","1000000000-count-one":"0 mrd.","10000-count-other":"00 t.","100000000-count-one":"000 milj.","1000-count-other":"0 t."},"hu":{"100000000000000-count-one":"000 B","100000-count-other":"000 E","1000000000000-count-other":"0 B","10000000000-count-one":"00 Mrd","100000000-count-other":"000 M","100000000000-count-other":"000 Mrd","10000000000-count-other":"00 Mrd","1000-count-one":"0 E","10000000000000-count-other":"00 B","10000000-count-other":"00 M","10000-count-one":"00 E","1000000-count-other":"0 M","10000000-count-one":"00 M","100000-count-one":"000 E","1000000000-count-other":"0 Mrd","100000000000000-count-other":"000 B","100000000000-count-one":"000 Mrd","10000000000000-count-one":"00 B","1000000000000-count-one":"0 B","1000000-count-one":"0 M","1000000000-count-one":"0 Mrd","10000-count-other":"00 E","100000000-count-one":"000 M","1000-count-other":"0 E"},"ja":{"100000000000000-count-other":"000兆","10000000000000-count-other":"00兆","10000-count-other":"0万","10000000-count-other":"0000万","1000000-count-other":"000万","100000-count-other":"00万","1000000000000-count-other":"0兆","1000-count-other":"0千","100000000-count-other":"0億","100000000000-count-other":"0000億","10000000000-count-other":"000億","1000000000-count-other":"00億"},"he":{"10000000000-count-many":"00B","100000000000000-count-one":"000T","100000-count-other":"‏000 אלף","10000000000-count-two":"00B","1000000000-count-two":"0B","1000-count-many":"‏0 אלף","1000000-count-many":"‏0 מיליון","10000-count-two":"‏00 אלף","100000000000-count-two":"000B","100000000-count-other":"‏000 מיליון","100000-count-two":"‏000 אלף","10000000000-count-other":"00B","100000-count-many":"‏000 אלף","1000-count-one":"‏0 אלף","10000000-count-two":"‏00 מיליון","1000000-count-two":"‏0 מיליון","10000000-count-other":"‏00 מיליון","100000000000000-count-other":"000T","10000-count-one":"‏00 אלף","1000000-count-other":"‏0 מיליון","10000000-count-one":"‏00 מיליון","1000000000000-count-two":"0T","10000000000000-count-two":"00T","10000000-count-many":"‏00 מיליון","100000-count-one":"‏000 אלף","1000000000-count-many":"0B","100000000000000-count-many":"000T","100000000-count-many":"‏000 מיליון","1000000000-count-other":"0B","100000000000-count-many":"000B","1000000000000-count-other":"0T","10000000000000-count-many":"00T","1000000000000-count-many":"0T","10000-count-many":"‏00 אלף","100000000000000-count-two":"000T","10000000000000-count-other":"00T","100000000000-count-one":"000B","100000000000-count-other":"000B","10000000000000-count-one":"00T","1000000000000-count-one":"0T","1000000-count-one":"‏0 מיליון","1000000000-count-one":"0B","10000-count-other":"‏00 אלף","100000000-count-one":"‏000 מיליון","1000-count-two":"‏0 אלף","1000-count-other":"‏0 אלף","100000000-count-two":"‏000 מיליון","10000000000-count-one":"00B"},"sr":{"100000000000000-count-one":"000 бил","100000-count-other":"000 хиљ","1000000000000-count-other":"0 бил","1000000000-count-few":"0 млрд","1000-count-few":"0","10000000000-count-one":"00 млрд","100000000-count-other":"000 мил","100000000000-count-other":"000 млрд","10000000000-count-other":"00 млрд","10000000-count-few":"00 мил","100000000000000-count-few":"000 бил","1000-count-one":"0","10000000000000-count-other":"00 бил","10000000-count-other":"00 мил","10000-count-one":"00 хиљ","1000000-count-other":"0 мил","100000000000-count-few":"000 млрд","10000000-count-one":"00 мил","10000-count-few":"00K","100000-count-one":"000 хиљ","1000000000-count-other":"0 млрд","100000000000000-count-other":"000 бил","10000000000-count-few":"00 млрд","100000-count-few":"000K","1000000000000-count-few":"0 бил","100000000000-count-one":"000 млрд","10000000000000-count-one":"00 бил","1000000000000-count-one":"0 бил","1000000-count-one":"0 мил","1000000000-count-one":"0 млрд","10000-count-other":"00 хиљ","100000000-count-one":"000 мил","10000000000000-count-few":"00 бил","1000-count-other":"0","1000000-count-few":"0 мил","100000000-count-few":"000 мил"},"ko":{"100000000000000-count-other":"000조","10000000000000-count-other":"00조","10000-count-other":"0만","10000000-count-other":"0000만","1000000-count-other":"000만","100000-count-other":"00만","1000000000000-count-other":"0조","1000-count-other":"0000","100000000-count-other":"0억","100000000000-count-other":"0000억","10000000000-count-other":"000억","1000000000-count-other":"00억"},"sv":{"100000000000000-count-one":"000 bn","100000-count-other":"000 tn","1000000000000-count-other":"0 bn","10000000000-count-one":"00 md","100000000-count-other":"000 mn","100000000000-count-other":"000 md","10000000000-count-other":"00 md","1000-count-one":"0 tn","10000000000000-count-other":"00 bn","10000000-count-other":"00 mn","10000-count-one":"00 tn","1000000-count-other":"0 mn","10000000-count-one":"00 mn","100000-count-one":"000 tn","1000000000-count-other":"0 md","100000000000000-count-other":"000 bn","100000000000-count-one":"000 md","10000000000000-count-one":"00 bn","1000000000000-count-one":"0 bn","1000000-count-one":"0 mn","1000000000-count-one":"0 md","10000-count-other":"00 tn","100000000-count-one":"000 mn","1000-count-other":"0 tn"},"sk":{"10000000000-count-many":"00 mld.","100000000000000-count-one":"000 bil.","100000-count-other":"000 tis.","1000000000000-count-other":"0 bil.","1000000000-count-few":"0 mld.","100000000000-count-other":"000 mld.","1000-count-few":"0 tis.","1000000-count-many":"0 mil.","10000000000-count-one":"00 mld.","100000000-count-other":"000 mil.","1000-count-many":"0 tis.","10000000000-count-other":"00 mld.","10000000-count-few":"00 mil.","100000000000000-count-few":"000 bil.","1000-count-one":"0 tis.","10000000000000-count-other":"00 bil.","10000000-count-other":"00 mil.","100000000000000-count-other":"000 bil.","10000-count-one":"00 tis.","1000000-count-other":"0 mil.","100000000000-count-few":"000 mld.","10000000-count-one":"00 mil.","10000-count-few":"00 tis.","10000000-count-many":"00 mil.","100000-count-many":"000 tis.","100000-count-one":"000 tis.","1000000000000-count-few":"0 bil.","1000000000-count-many":"0 mld.","100000000000000-count-many":"000 bil.","100000000-count-many":"000 mil.","1000000000-count-other":"0 mld.","100000000000-count-many":"000 mld.","10000000000-count-few":"00 mld.","100000-count-few":"000 tis.","10000000000000-count-many":"00 bil.","1000000000000-count-many":"0 bil.","10000-count-many":"00 tis.","100000000000-count-one":"000 mld.","10000000000000-count-one":"00 bil.","1000000000000-count-one":"0 bil.","1000000-count-one":"0 mil.","1000000000-count-one":"0 mld.","10000-count-other":"00 tis.","100000000-count-one":"000 mil.","10000000000000-count-few":"00 bil.","1000-count-other":"0 tis.","1000000-count-few":"0 mil.","100000000-count-few":"000 mil."},"uk":{"10000000000-count-many":"00 млрд","100000000000000-count-one":"000 трлн","100000-count-other":"000 тис","1000000000000-count-other":"0 трлн","1000000000-count-few":"0 млрд","100000000000-count-other":"000 млрд","1000-count-few":"0 тис","1000000-count-many":"0 млн","10000000000-count-one":"00 млрд","100000000-count-other":"000 млн","1000-count-many":"0 тис","10000000000-count-other":"00 млрд","10000000-count-few":"00 млн","100000000000000-count-few":"000 трлн","1000-count-one":"0 тис","10000000000000-count-other":"00 трлн","10000000-count-other":"00 млн","100000000000000-count-other":"000 трлн","10000-count-one":"00 тис","1000000-count-other":"0 млн","100000000000-count-few":"000 млрд","10000000-count-one":"00 млн","10000-count-few":"00 тис","10000000-count-many":"00 млн","100000-count-many":"000 тис","100000-count-one":"000 тис","1000000000000-count-few":"0 трлн","1000000000-count-many":"0 млрд","100000000000000-count-many":"000 трлн","100000000-count-many":"000 млн","1000000000-count-other":"0 млрд","100000000000-count-many":"000 млрд","10000000000-count-few":"00 млрд","100000-count-few":"000 тис","10000000000000-count-many":"00 трлн","1000000000000-count-many":"0 трлн","10000-count-many":"00 тис","100000000000-count-one":"000 млрд","10000000000000-count-one":"00 трлн","1000000000000-count-one":"0 трлн","1000000-count-one":"0 млн","1000000000-count-one":"0 млрд","10000-count-other":"00 тис","100000000-count-one":"000 млн","10000000000000-count-few":"00 трлн","1000-count-other":"0 тис","1000000-count-few":"0 млн","100000000-count-few":"000 млн"},"sl":{"100000000000000-count-one":"000 bil.","100000-count-other":"000 tis.","10000000000-count-two":"00 mrd.","1000000000-count-two":"0 mrd.","1000000000-count-few":"0 mrd.","100000000000-count-other":"000 mrd.","1000-count-few":"0 tis.","10000-count-two":"00 tis.","100000000000-count-two":"000 mrd.","100000000-count-other":"000 mio.","100000-count-two":"000 tis.","1000000000000-count-other":"0 bil.","10000000000-count-other":"00 mrd.","10000000-count-few":"00 mio.","100000000000000-count-few":"000 bil.","1000-count-one":"0 tis.","10000000-count-two":"00 mio.","1000000-count-two":"0 mio.","10000000-count-other":"00 mio.","10000-count-one":"00 tis.","1000000-count-other":"0 mio.","100000000000-count-few":"000 mrd.","10000000-count-one":"00 mio.","1000000000000-count-two":"0 bil.","10000000000000-count-two":"00 bil.","10000-count-few":"00 tis.","100000-count-one":"000 tis.","1000000000-count-other":"0 mrd.","100000000000000-count-other":"000 bil.","10000000000-count-few":"00 mrd.","100000-count-few":"000 tis.","1000000000000-count-few":"0 bil.","100000000000000-count-two":"000 bil.","10000000000000-count-other":"00 bil.","100000000000-count-one":"000 mrd.","10000000000000-count-one":"00 bil.","1000000000000-count-one":"0 bil.","1000000-count-one":"0 mio.","1000000000-count-one":"0 mrd.","10000-count-other":"00 tis.","100000000-count-one":"000 mio.","10000000000000-count-few":"00 bil.","1000-count-two":"0 tis.","1000-count-other":"0 tis.","1000000-count-few":"0 mio.","100000000-count-two":"000 mio.","100000000-count-few":"000 mio.","10000000000-count-one":"00 mrd."}}');var a=n(59273),l=n(74245),c=n(51158);const u=/\{\{#_iv\}\}(.+?)\{\{\/_iv\}\}/g,d=/\{\{#_ivar\}\}(.+?)\{\{\/_ivar\}\}/g,p=/\{\{#pluralize\}\}(.+?)\{\{\/pluralize\}\}/g,m=/\{\{(\w+?)\}\}/g,g=/<[a-z].*?>/i,h={'"le/l\'"':'\\"le/l\'\\"','"lowercase"':'\\"lowercase\\"','("of")':'(\\"of\\")'},_=(0,a.gQ)("longStrings"),v="rtl"===(()=>{if(document.dir)return document.dir;return document.documentElement.getAttribute("dir")||"ltr"})(),f=r.HP((e=>new Function("n",`return ${(0,l.EU)(e)};`)));document.documentElement.lang=window.duo.uiLanguage||"en";const y=r.HP((e=>{(0,c.vU)(`Showing placeholder string for project ${e.project}`,{data:{placeholderText:e.text}})}),(e=>e.project)),E=(e,t={},n={})=>{try{return((e,t,n)=>{var i,s,E,b,S;const w="number"==typeof e?`${e}`:`placeholder_${e.project}`;if((0,a.gQ)("renderStringIds"))return`string_${w}`;let T;if("number"==typeof e){let t=null===(E=null===(s=window.duo.l10n.strings[null!==(i=n.lang)&&void 0!==i?i:window.duo.uiLanguage])||void 0===s?void 0:s[e])||void 0===E?void 0:E[0];if(void 0===t){const n=null===(S=null===(b=window.duo.l10n.strings.en)||void 0===b?void 0:b[e])||void 0===S?void 0:S[0];if(void 0===n)throw Error("Missing localization.");(0,c.vU)(`Could not find string ${e}, falling back to en text`),t=n}T=t[1]}else(0,a.Au)()||y(e),T=e.text;v&&(T=`‏${T}`),T=n.preprocess?n.preprocess(T):T,T=T.replace(p,(({},e)=>{let n;try{let t=e;Object.entries(h).forEach((([e,n])=>t=t.split(e).join(n))),n=JSON.parse(t)}catch(t){n=e.split(",")}const o=t[n.pop().slice(2,-2)];return n[f(l.h9)(o)]})),T=T.replace(d,(({},e)=>`{{#_iv}}{{${e}}}{{/_iv}}`));const I=g.test(T);T=T.replace(m,(({},e)=>{if(!(e in t))return(0,c.vU)(`Missing variable: ${e} for string ID ${w}`,{once:!0}),"";const n=t[e];return"string"!=typeof n&&"number"!=typeof n?((0,c.vU)(`Invalid variable value for: ${e} for string ID ${w}`,{data:{localizedString:T},once:!0,sample:.01}),""):I?r.YU(`${n}`):`${n}`})),T=T.replace(u,(({},e)=>{var t;const o=window.duo.l10n.undeclared[null!==(t=n.lang)&&void 0!==t?t:window.duo.uiLanguage];return o&&e in o?o[e]:e.split("||")[0]}));const{postprocess:k=(e=>e)}=n;return n.stripTags&&(T=(e=>{if(!g.test(e))return e;try{const t=document.createElement("div");for(t.innerHTML=e;t.firstElementChild;)t.removeChild(t.firstElementChild);if(null===t.textContent)throw Error();return t.textContent}catch(t){return e.replace(/<([^>]+?)([^>]*?)>(.*?)<\/\1>/gi,"")}})(T)),T=k(T),"fr"===l.h9&&(T=T.replace(/(\u00AB) | ([?!:;\u00BB])/g,"$1 $2")),_&&(T=`${T} ${T}`),n.exportTags?T:I?o.createElement("span",{dangerouslySetInnerHTML:{__html:T}}):T})(e,t,n)}catch(e){return(0,c.vU)("Localization failed",{ex:e}),""}},b=(e,t={},n={})=>{const o=E(e,t,n);if("number"==typeof o||"string"==typeof o)return o.toString();try{const e=document.createElement("div");return e.innerHTML=i.renderToStaticMarkup(o),e.innerText}catch(t){return(0,c.vU)("Failed to convert ReactElement to string",{data:{stringId:e}}),""}},S=["AT","BE","BG","CY","CZ","DK","DE","EE","EL","ES","FI","FR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","UK"],w=e=>!!e.ipCountry&&S.includes(e.ipCountry);var T;!function(e){e.DEFAULT=", ",e.zh="、",e.ar="، ",e.ja="・"}(T||(T={}));const I=(e,t=l.h9)=>e.join(((e=l.h9)=>{switch(e){case"zh":return T.zh;case"ar":return T.ar;case"ja":return T.ja;default:return T.DEFAULT}})(t)),k=["ar","el","en","hi","ko","zh"],R=e=>k.includes(l.h9)?`${e%12||12}${e<12?"am":"pm"}`:`${e}:00`,C=(e,t,n=3)=>{var o;const i=`${t}`;if(i.length<=n)return i;const r=-Math.floor(Math.log10(t))+(n-1),a=parseFloat(t.toPrecision(i.length+r)),c=Math.pow(10,`${a}`.length-1),u=(0,l.G$)(e),d=`${c}-count-${(0,l.M6)(u)[f(u)(a)]}`,p=(null!==(o=s[e])&&void 0!==o?o:s.en)[d];if(!p)return`${a}`;const m=/0+/.exec(p),g=a/(c/Math.pow(10,m[0].length-1)),h=`${Math.floor(g)}`,_=g.toLocaleString((0,l.M$)(e),{maximumFractionDigits:n-h.length});return`${p.slice(0,m.index)}${_}${p.slice(m.index+m[0].length)}`},O=()=>[b(18415),b(11602),b(667),b(974),b(21780),b(19860),b(14040)],N=()=>[b(30377),b(30378),b(30379),b(30380),b(30381),b(30382),b(30383)],P=()=>[b(34912),b(34913),b(34914),b(34915),b(34916),b(34917),b(34918)],L=()=>[b(26823),b(26824),b(26825),b(26826),b(26827),b(26828),b(26829),b(26830),b(26831),b(26832),b(26833),b(26834)],A=()=>[b(30384),b(30385),b(30386),b(30387),b(30388),b(30389),b(30390),b(30391),b(30392),b(30393),b(30394),b(30395)],D=(e,t={day:"numeric",month:"long"})=>new Intl.DateTimeFormat((0,l.M$)(window.duo.uiLanguage),t).format(e),x=["zh-CN","zh-TW","ja","ko","th"].includes(window.duo.uiLanguage),M=(e,t)=>{return o=void 0,i=void 0,a=function*(){const o=yield n(55081)(`./${e}.duostrings`);window.duo.l10n.strings[e]=Object.assign(Object.assign({},window.duo.l10n.strings[e]),t?r.ei(o.sources,t):o.sources)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function r(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}l((a=a.apply(o,i||[])).next())}));var o,i,s,a}},88268:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});const o=(e,t,n)=>{let o;switch(t){case"choice":return o=parseInt(e.key,10)-1,o===n.index&&!e.ctrlKey;case"debug":return e.ctrlKey&&e.altKey&&"KeyD"===e.code;case"number":return o=parseInt(e.key,10)-1,o>=0&&o<9&&!e.ctrlKey;case"slowTts":return e.ctrlKey&&e.shiftKey&&" "===e.key;case"tts":return e.ctrlKey&&!e.shiftKey&&" "===e.key}return!1}},74245:(e,t,n)=>{"use strict";n.d(t,{AP:()=>s,a2:()=>r,h9:()=>M,Py:()=>f,hX:()=>A,G$:()=>d,M$:()=>p,b7:()=>m,Ho:()=>S,lx:()=>I,vY:()=>T,BE:()=>g,M6:()=>k,EU:()=>R,Ux:()=>C,k4:()=>F,D3:()=>y,iJ:()=>w,zp:()=>D,_V:()=>N,jO:()=>O,V7:()=>U,OK:()=>L,vx:()=>x,Dz:()=>E,HG:()=>u});var o=n(80254);const i=JSON.parse('[{"from_language_id":"ar","learning_language_id":"de","phase":3},{"from_language_id":"ar","learning_language_id":"en","phase":3},{"from_language_id":"ar","learning_language_id":"es","phase":1},{"from_language_id":"ar","learning_language_id":"fr","phase":3},{"from_language_id":"ar","learning_language_id":"sv","phase":3},{"from_language_id":"bn","learning_language_id":"en","phase":1},{"from_language_id":"cs","learning_language_id":"en","phase":3},{"from_language_id":"de","learning_language_id":"en","phase":3},{"from_language_id":"de","learning_language_id":"es","phase":3},{"from_language_id":"de","learning_language_id":"fr","phase":3},{"from_language_id":"de","learning_language_id":"it","phase":2},{"from_language_id":"el","learning_language_id":"en","phase":3},{"from_language_id":"en","learning_language_id":"ar","phase":3},{"from_language_id":"en","learning_language_id":"cs","phase":3},{"from_language_id":"en","learning_language_id":"cy","phase":3},{"from_language_id":"en","learning_language_id":"da","phase":3},{"from_language_id":"en","learning_language_id":"de","phase":3},{"from_language_id":"en","learning_language_id":"el","phase":3},{"from_language_id":"en","learning_language_id":"eo","phase":3},{"from_language_id":"en","learning_language_id":"es","phase":3},{"from_language_id":"en","learning_language_id":"fi","phase":3},{"from_language_id":"en","learning_language_id":"fr","phase":3},{"from_language_id":"en","learning_language_id":"ga","phase":3},{"from_language_id":"en","learning_language_id":"gd","phase":3},{"from_language_id":"en","learning_language_id":"he","phase":3},{"from_language_id":"en","learning_language_id":"hi","phase":3},{"from_language_id":"en","learning_language_id":"ht","phase":2},{"from_language_id":"en","learning_language_id":"hu","phase":2},{"from_language_id":"en","learning_language_id":"hv","phase":3},{"from_language_id":"en","learning_language_id":"hw","phase":3},{"from_language_id":"en","learning_language_id":"id","phase":3},{"from_language_id":"en","learning_language_id":"it","phase":3},{"from_language_id":"en","learning_language_id":"ja","phase":3},{"from_language_id":"en","learning_language_id":"ko","phase":3},{"from_language_id":"en","learning_language_id":"la","phase":3},{"from_language_id":"en","learning_language_id":"mi","phase":1},{"from_language_id":"en","learning_language_id":"nl-NL","phase":3},{"from_language_id":"en","learning_language_id":"no-BO","phase":3},{"from_language_id":"en","learning_language_id":"nv","phase":2},{"from_language_id":"en","learning_language_id":"pl","phase":3},{"from_language_id":"en","learning_language_id":"pt","phase":3},{"from_language_id":"en","learning_language_id":"ro","phase":3},{"from_language_id":"en","learning_language_id":"ru","phase":3},{"from_language_id":"en","learning_language_id":"sv","phase":3},{"from_language_id":"en","learning_language_id":"sw","phase":3},{"from_language_id":"en","learning_language_id":"ta","phase":1},{"from_language_id":"en","learning_language_id":"tlh","phase":2},{"from_language_id":"en","learning_language_id":"tr","phase":3},{"from_language_id":"en","learning_language_id":"uk","phase":3},{"from_language_id":"en","learning_language_id":"vi","phase":3},{"from_language_id":"en","learning_language_id":"yi","phase":2},{"from_language_id":"en","learning_language_id":"zh","phase":3},{"from_language_id":"es","learning_language_id":"ca","phase":3},{"from_language_id":"es","learning_language_id":"de","phase":3},{"from_language_id":"es","learning_language_id":"en","phase":3},{"from_language_id":"es","learning_language_id":"eo","phase":3},{"from_language_id":"es","learning_language_id":"fr","phase":3},{"from_language_id":"es","learning_language_id":"gn","phase":3},{"from_language_id":"es","learning_language_id":"it","phase":3},{"from_language_id":"es","learning_language_id":"pt","phase":3},{"from_language_id":"es","learning_language_id":"qc","phase":1},{"from_language_id":"es","learning_language_id":"ru","phase":3},{"from_language_id":"es","learning_language_id":"sv","phase":3},{"from_language_id":"es","learning_language_id":"yu","phase":1},{"from_language_id":"fr","learning_language_id":"de","phase":3},{"from_language_id":"fr","learning_language_id":"en","phase":3},{"from_language_id":"fr","learning_language_id":"eo","phase":2},{"from_language_id":"fr","learning_language_id":"es","phase":3},{"from_language_id":"fr","learning_language_id":"it","phase":3},{"from_language_id":"fr","learning_language_id":"pt","phase":3},{"from_language_id":"hi","learning_language_id":"en","phase":3},{"from_language_id":"hu","learning_language_id":"de","phase":3},{"from_language_id":"hu","learning_language_id":"en","phase":3},{"from_language_id":"id","learning_language_id":"en","phase":3},{"from_language_id":"it","learning_language_id":"de","phase":3},{"from_language_id":"it","learning_language_id":"en","phase":3},{"from_language_id":"it","learning_language_id":"es","phase":3},{"from_language_id":"it","learning_language_id":"fr","phase":3},{"from_language_id":"ja","learning_language_id":"en","phase":3},{"from_language_id":"ja","learning_language_id":"fr","phase":3},{"from_language_id":"ja","learning_language_id":"ko","phase":3},{"from_language_id":"ja","learning_language_id":"zh","phase":3},{"from_language_id":"ko","learning_language_id":"en","phase":3},{"from_language_id":"ko","learning_language_id":"zh","phase":1},{"from_language_id":"nl-NL","learning_language_id":"de","phase":3},{"from_language_id":"nl-NL","learning_language_id":"en","phase":3},{"from_language_id":"nl-NL","learning_language_id":"fr","phase":3},{"from_language_id":"pa","learning_language_id":"en","phase":1},{"from_language_id":"pl","learning_language_id":"en","phase":3},{"from_language_id":"pt","learning_language_id":"de","phase":3},{"from_language_id":"pt","learning_language_id":"en","phase":3},{"from_language_id":"pt","learning_language_id":"eo","phase":2},{"from_language_id":"pt","learning_language_id":"es","phase":3},{"from_language_id":"pt","learning_language_id":"fr","phase":3},{"from_language_id":"pt","learning_language_id":"it","phase":3},{"from_language_id":"ro","learning_language_id":"en","phase":3},{"from_language_id":"ru","learning_language_id":"de","phase":3},{"from_language_id":"ru","learning_language_id":"en","phase":3},{"from_language_id":"ru","learning_language_id":"es","phase":3},{"from_language_id":"ru","learning_language_id":"fr","phase":3},{"from_language_id":"ru","learning_language_id":"sv","phase":1},{"from_language_id":"ru","learning_language_id":"uk","phase":1},{"from_language_id":"ta","learning_language_id":"en","phase":1},{"from_language_id":"te","learning_language_id":"en","phase":1},{"from_language_id":"th","learning_language_id":"en","phase":3},{"from_language_id":"tl","learning_language_id":"en","phase":2},{"from_language_id":"tr","learning_language_id":"de","phase":3},{"from_language_id":"tr","learning_language_id":"en","phase":3},{"from_language_id":"tr","learning_language_id":"fr","phase":1},{"from_language_id":"tr","learning_language_id":"ru","phase":3},{"from_language_id":"uk","learning_language_id":"en","phase":3},{"from_language_id":"vi","learning_language_id":"en","phase":3},{"from_language_id":"vi","learning_language_id":"zh","phase":3},{"from_language_id":"zh","learning_language_id":"de","phase":1},{"from_language_id":"zh","learning_language_id":"en","phase":3},{"from_language_id":"zh","learning_language_id":"es","phase":2},{"from_language_id":"zh","learning_language_id":"fr","phase":3},{"from_language_id":"zh","learning_language_id":"it","phase":2},{"from_language_id":"zh","learning_language_id":"ja","phase":3},{"from_language_id":"zh","learning_language_id":"ko","phase":2},{"from_language_id":"zh","learning_language_id":"zh-HK","phase":1}]'),r=JSON.parse('{"ar":{"abbrev":"ar","label":"العربية","name":"Arabic","plural_forms":["zero","one","two","few","many","other"],"plural_rule":"n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5","script_direction":"rtl"},"bn":{"abbrev":"bn","label":"বাংলা","name":"Bengali","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"ca":{"abbrev":"ca","label":"català","name":"Catalan","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"cs":{"abbrev":"cs","label":"Čeština","name":"Czech","plural_forms":["one","few","other"],"plural_rule":"(n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2","script_direction":"ltr"},"cy":{"abbrev":"cy","label":"Cymraeg","name":"Welsh","plural_forms":["one","two","other","many"],"plural_rule":"(n === 1) ? 0 : (n === 2) ? 1 : (n !== 8 && n !== 11) ? 2 : 3","script_direction":"ltr"},"da":{"abbrev":"da","label":"dansk","name":"Danish","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"de":{"abbrev":"de","label":"Deutsch","name":"German","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"el":{"abbrev":"el","label":"Ελληνικά","name":"Greek","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"en":{"abbrev":"en","label":"English","name":"English","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"eo":{"abbrev":"eo","label":"Esperanto","name":"Esperanto","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"es":{"abbrev":"es","label":"Español","name":"Spanish","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"fi":{"abbrev":"fi","label":"suomen kieli","name":"Finnish","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"fr":{"abbrev":"fr","label":"Français","name":"French","plural_forms":["one","other"],"plural_rule":"(n > 1) ? 1 : 0","script_direction":"ltr"},"ga":{"abbrev":"ga","label":"Gaeilge","name":"Irish","plural_forms":["one","two","few","many","other"],"plural_rule":"n === 1 ? 0 : n === 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4","script_direction":"ltr"},"gd":{"abbrev":"gd","label":"Gàidhlig","name":"Scottish Gaelic","plural_forms":["one","two","few","other"],"plural_rule":"(n === 1 || n === 11) ? 0 : (n === 2 || n === 12) ? 1 : (n !== 0 && n < 20) ? 2 : 3","script_direction":"ltr"},"gn":{"abbrev":"gn","label":"Avañe\'ẽ","name":"Guarani","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"he":{"abbrev":"he","label":null,"name":"Hebrew","plural_forms":["one","two","many","other"],"plural_rule":"(n === 1) ? 0 : (n === 2) ? 1 : (n > 10 && n % 10 === 0) ? 2 : 3","script_direction":"rtl"},"hi":{"abbrev":"hi","label":"हिंदी","name":"Hindi","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"ht":{"abbrev":"ht","label":"Kreyòl ayisyen","name":"Haitian Creole","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"hu":{"abbrev":"hu","label":"Magyar","name":"Hungarian","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"hv":{"abbrev":"hv","label":"Valyria","name":"High Valyrian","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"hw":{"abbrev":"hw","label":"Ōlelo Hawaiʻi","name":"Hawaiian","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"id":{"abbrev":"id","label":"Bahasa Indonesia","name":"Indonesian","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"it":{"abbrev":"it","label":"Italiano","name":"Italian","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"ja":{"abbrev":"ja","label":"日本語","name":"Japanese","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"ko":{"abbrev":"ko","label":"한국어","name":"Korean","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"la":{"abbrev":"la","label":"Lingua latīna","name":"Latin","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"mi":{"abbrev":"mi","label":null,"name":"Māori","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"nl-NL":{"abbrev":"dn","label":"Nederlands","name":"Dutch","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"no-BO":{"abbrev":"nb","label":"bokmål","name":"Norwegian (Bokmål)","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"nv":{"abbrev":"nv","label":"Diné bizaad","name":"Navajo","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"pa":{"abbrev":"pa","label":"ਪੰਜਾਬੀ","name":"Punjabi (Gurmukhi)","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"pl":{"abbrev":"pl","label":"Polski","name":"Polish","plural_forms":["one","few","many"],"plural_rule":"n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2","script_direction":"ltr"},"pt":{"abbrev":"pt","label":"Português","name":"Portuguese","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"qc":{"abbrev":"qc","label":null,"name":"K\'iche\'","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"ro":{"abbrev":"ro","label":"Română","name":"Romanian","plural_forms":["one","few","other"],"plural_rule":"n === 1 ? 0 : (n === 0 || (n % 100 > 0 && n % 100 < 20)) ? 1 : 2","script_direction":"ltr"},"ru":{"abbrev":"ru","label":"Русский","name":"Russian","plural_forms":["one","few","many"],"plural_rule":"n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2","script_direction":"ltr"},"sv":{"abbrev":"sv","label":"svenska","name":"Swedish","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"sw":{"abbrev":"sw","label":"Kiswahili","name":"Swahili","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"ta":{"abbrev":"ta","label":"தமிழ்","name":"Tamil","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"te":{"abbrev":"te","label":"తెలుగు","name":"Telugu","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"th":{"abbrev":"th","label":"ภาษาไทย","name":"Thai","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"tl":{"abbrev":"tl","label":"Tagalog","name":"Tagalog","plural_forms":["one","other"],"plural_rule":"(n % 10 === 4 || n % 10 === 6 || n % 10 === 9) ? 1 : 0","script_direction":"ltr"},"tlh":{"abbrev":"kl","label":"tlhIngan Hol","name":"Klingon","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"tr":{"abbrev":"tr","label":"Türkçe","name":"Turkish","plural_forms":["one","other"],"plural_rule":"(n > 1) ? 1 : 0","script_direction":"ltr"},"uk":{"abbrev":"uk","label":"Українською","name":"Ukrainian","plural_forms":["one","few","many"],"plural_rule":"n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2","script_direction":"ltr"},"vi":{"abbrev":"vi","label":"Tiếng Việt","name":"Vietnamese","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"xx-ZB":{"abbrev":"xz","label":"Español","name":"Spanish","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"yi":{"abbrev":"yi","label":"ייִדיש","name":"Yiddish","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"rtl"},"yu":{"abbrev":"yu","label":null,"name":"Yucatec","plural_forms":["one","other"],"plural_rule":"(n != 1) ? 1 : 0","script_direction":"ltr"},"zh":{"abbrev":"zs","label":"中文","name":"Chinese","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"},"zh-HK":{"abbrev":"zc","label":"廣東話","name":"Chinese (Cantonese)","plural_forms":["other"],"plural_rule":"0","script_direction":"ltr"}}');var s,a=n(68903),l=n(51158),c=n(20028);!function(e){e[e.Active=1]="Active",e[e.Beta=2]="Beta",e[e.Inactive=0]="Inactive",e[e.Released=3]="Released"}(s||(s={}));const u=e=>!(0,c.pN)(e),d=e=>e.startsWith("zh")?"zh":O(e)?e:((0,l.vU)("UI language not able to be converted to LanguageId.",{data:{languageId:e}}),"en"),p=e=>e.startsWith("zh")?"zh":e.startsWith("nl")?"nl":P(e)?e:((0,l.vU)("UI language not able to be converted to LanguageId.",{data:{languageId:e}}),"en"),m=e=>["bn","hi","ko","pa","ta","te","te","tl","uk","vi"].includes(e)?"auto":"nl-NL"===e?"nl":"zh-CN"===e?"zh":e,g=()=>{var e;return(null===(e=navigator.languages)||void 0===e?void 0:e[0])||navigator.language||"en"},h=o.Xc(r,(e=>e.abbrev)),_=o.U_(h),v=o.jj(i.filter((e=>e.phase>=s.Active)).flatMap((e=>"zh"===e.from_language_id?["zh-CN","zh-TW"]:e.from_language_id))),f=e=>_[e],y=e=>h[e],E=Object.keys(r),b=o.Xc(o.vM(i.filter((e=>e.phase>=s.Beta)),"from_language_id"),(e=>o.jg(e,"learning_language_id").sort())),S=()=>b,w=e=>!!o._e(i,{from_language_id:e.fromLanguage,learning_language_id:e.learningLanguage,phase:s.Beta}),T=e=>r[e].name,I=e=>r[e].label,k=e=>r[e].plural_forms,R=e=>r[e].plural_rule,C=e=>r[e].script_direction,O=(0,a.p)(E),N=e=>!!_[e],P=(0,a.p)(["ar","bn","cs","de","el","en","es","fr","hi","hu","id","it","ja","ko","nl","pa","pl","pt","ro","ru","ta","te","th","tl","tr","uk","vi","zh"]),L=(0,a.p)(v),A=o.Xc(o.vM(i,"from_language_id"),(e=>o.jg(e,"learning_language_id").sort())),D=(e,t)=>{var n;return!0===(null===(n=A[t])||void 0===n?void 0:n.includes(e))},x=e=>["zh-CN","zh-TW","zs"].includes(e),M=d(window.duo.uiLanguage),U=e=>["de","en","es","fr","it","pt","nl-NL","da","sv","tr","no-BO","uk","ru"].includes(e),F=e=>!["ja","th","zh","zh-HK"].includes(e)},1398:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,Z:()=>s});var o=n(27378),i=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const r=e=>"preload"in e,s=e=>{let t,n,r="uninitialized";const s=()=>i(void 0,void 0,void 0,(function*(){t=e(),r="pending";try{n=(yield t).default,r="resolved"}catch(e){n=e,r="rejected"}})),a=e=>{if("uninitialized"===r&&s(),"resolved"===r)return o.createElement(n,e);throw null!=n?n:t};return a.hasLoaded=()=>"resolved"===r,a.preload=()=>i(void 0,void 0,void 0,(function*(){"uninitialized"===r&&s(),yield t})),a}},87471:(e,t,n)=>{"use strict";n.d(t,{WP:()=>o,L:()=>i,nw:()=>r,Vq:()=>s,gj:()=>a,rj:()=>l,PR:()=>c,hn:()=>u,ZL:()=>d,u4:()=>p,NO:()=>m});const o=["bronze","silver","gold","sapphire","ruby","emerald","amethyst","pearl","obsidian","diamond"],i=["https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_bronze.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_silver.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_gold.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_sapphire.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_ruby.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_emerald.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_amethyst.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_pearl.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_obsidian.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_diamond.svg"],r=["https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_bronze_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_silver_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_gold_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_sapphire_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_ruby_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_emerald_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_amethyst_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_pearl_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_obsidian_blank.svg","https://d35aaqx5ub95lt.cloudfront.net/images/leagues/badge_diamond_blank.svg"],s=[321,21153,6276,10705,2028,3777,23232,11453,14693,9894],a=[3726,2804,10599,2970,9356,5746,16491,19007,12827,10357],l=(e,t)=>t.filter((t=>"CURRENCY"===t.rewardType&&(t.tier===e||null===t.tier))).reduce(((e,t)=>(e[t.rank]=t.itemQuantity,e)),{}),c=(e,t)=>{if(!(e>=t.length))return t[e]},u=(e,t)=>{if(0!==e)return t[e-1]},d=(e,t)=>!!t&&e<t,p=(e,t,n)=>!!n&&t-e-1<n,m=(e,t)=>{const n=t.map((({cohort:{rankings:e}})=>e.map((({userId:e})=>e)))),o=t.map((({cohort:{tier:e}})=>e)),i=t.map((({contest:{ruleset:{rewards:e}}})=>e)),r=n.map((t=>t.indexOf(e))),s=r[r.length-1],a=o[o.length-1],u=t[t.length-1].contest.ruleset,m=u.cohortSize,g=c(a,u.numPromoted),h=c(a,u.numDemoted),_=d(s,g),v=p(s,m,h);return{lingots:t.map((({},e)=>l(o[e],i[e])[r[e]]||0)).reduce(((e,t)=>e+t),0),rank:_?"PROMOTED":v?"DEMOTED":"STAY"}}},26506:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,_:()=>r});class o{constructor(){this.disabled=!1,this.handlers=new WeakMap}addListener(e,t,n,o){var i;const r=null!==(i=this.handlers.get(n))&&void 0!==i?i:e=>{this.disabled||n(e)};this.handlers.set(n,r),e.addEventListener(t,r,o)}removeListener(e,t,n,o){const i=this.handlers.get(n);i&&(this.handlers.delete(n),e.removeEventListener(t,i,o))}enableListeners(){this.disabled=!1}disableListeners(){this.disabled=!0}}const i=new o,r=new o},41364:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,p:()=>c});var o=n(80254);let i,r=0;const s=e=>{null==i||i(e),r=e},a=e=>{i=e},l={GET_USER:1e4},c=e=>t=>(...n)=>{return i=void 0,a=void 0,u=function*(){let i,a;const c=o.IH((()=>{i&&window.clearInterval(i),a&&window.clearTimeout(a),s(0)})),u=Date.now(),d=!r;if(d){s(.001);const t=l[e];i=window.setInterval((()=>{const e=(Date.now()-u)/t,n=1-Math.exp(-e);s(n)}),200),a=window.setTimeout(c,2e4)}let p,m;try{m=yield t(...n)}catch(e){p=e}d&&c();const g=Date.now()-u;if(l[e]=g,p)throw p;return m},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{r(u.next(e))}catch(e){t(e)}}function o(e){try{r(u.throw(e))}catch(e){t(e)}}function r(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,o)}r((u=u.apply(i,a||[])).next())}));var i,a,c,u}},39852:(e,t,n)=>{"use strict";n.d(t,{$U:()=>a,bP:()=>c,rD:()=>u});var o=n(80254),i=n(59273),r=n(51158);const s={debug:"debug",error:"error",info:"info",log:"info",warn:"warning"},a=Symbol("EXCLUDE_FROM_ROLLBAR_TELEMETRY"),l=["debug","error","info","log","warn"],c=(e,t)=>{(0,i.Au)()&&(u.groupCollapsed(` ${e}`),t.forEach((({name:e,data:t})=>u.log(`%c${e}:`,"font-weight:700",t))),u.groupEnd())},u={};o.XP(console).forEach((e=>{if("function"==typeof console[e]){const t=console[e].bind(console);console[e]=(...n)=>{l.includes(e)&&!(0,i.Au)()||t(...o.zu(n,a)),s[e]&&!n.includes(a)&&(0,r.LZ)(n[0],s[e])},u[e]=t}else u[e]=console[e]}))},64865:(e,t,n)=>{"use strict";n.d(t,{TI:()=>d,VF:()=>p,A:()=>m,fy:()=>g,Ir:()=>h,ci:()=>_,DQ:()=>v});var o=n(80388),i=n(53229),r=n(13840),s=n(74245),a=n(785),l=n(74597);const c="https://af4a.adj.st/?adjust_t=mfg8p8a",u="https://af4a.adj.st/?adjust_t=ewm3ujy",d=(...e)=>l.Z.android?m(...e):l.Z.ios?(0,r.H8)(22504):l.Z.windowsPhone?(0,r.H8)(14998):void 0,p=({via:e})=>l.Z.android?h({via:e}):l.Z.ios?g({via:e}):l.Z.windowsPhone?(0,r.H8)(14998):void 0,m=({isAndroidBanner:e,utmCampaign:t,utmContent:n}={isAndroidBanner:!1,utmCampaign:"",utmContent:""})=>e?(0,o.J9)()?"http://zhushou.360.cn/detail/index/soft_id/361348":`${c}&adjust_label=android_banner`:(0,o.J9)()?"http://zhushou.360.cn/detail/index/soft_id/361348":`//play.google.com/store/apps/details?${(0,i.Vp)({hl:s.h9,id:"com.duolingo",referrer:`utm_source=duolingo.com&utm_medium=duolingo_web&utm_content=${n}&utm_campaign=${t}`})}`,g=({via:e})=>(0,o.J9)()?`https://app.adjust.com/u0fwvk3?&redirect=http%3A%2F%2Fa.app.qq.com%2Fo%2Fsimple.jsp%3Fpkgname%3Dcom.duolingo&campaign=${e}`:l.Z.hasMobileApp?"share_profile"===e?`${u}`:`${c}&adjust_label=${e}`:(0,r.H8)(22504),h=({isAndroidBanner:e,via:t})=>e?(0,o.J9)()?"http://zhushou.360.cn/detail/index/soft_id/361348":`${c}&adjust_label=android_banner`:(0,o.J9)()?"http://zhushou.360.cn/detail/index/soft_id/361348":l.Z.hasMobileApp?"share_profile"===t?`${u}`:`${c}&adjust_label=${t}`:m({utmCampaign:t,utmContent:"download_button"}),_=e=>{const t=document.createElement("a");t.href="https://android-release.duolingo.cn/Duo.latest.apk",t.download="duolingo.apk",t.click(),(0,a.j)("china_apk_download",{via:e}),window.URL.revokeObjectURL(t.href)},v="www.duolingo.cn"===window.location.host},35160:(e,t,n)=>{"use strict";var o,i;n.d(t,{tl:()=>o,Wy:()=>i,rm:()=>r}),function(e){e.Achievement="ACHIEVEMENT",e.Alert="ALERT",e.AllowMicrophone="ALLOW_MICROPHONE",e.BugReport="BUG_REPORT",e.CardUpdate="CARD_UPDATE",e.Debug="DEBUG",e.DownloadText="DOWNLOAD_TEXT",e.EditFamily="EDIT_FAMILY",e.EmailVerification="EMAIL_VERIFICATION",e.FinalLevelSplash="FINAL_LEVEL_SPLASH",e.IntroVideo="INTRO_VIDEO",e.InviteFamily="INVITE_FAMILY",e.InviteFriends="INVITE_FRIENDS",e.JoinClassroomConfirmation="JOIN_CLASSROOM_CONFIRMATION",e.LeaguesContestEnd="LEAGUES_CONTEST_END",e.LeaveClassroom="LEAVE_CLASSROOM",e.LeaveClassroomConfirmation="LEAVE_CLASSROOM_CONFIRMATION",e.LoggedOutCTA="LOGGED_OUT_CTA",e.MessageUser="MESSAGE_USER",e.Notifications="NOTIFICATIONS",e.PickUiLanguage="PICK_UI_LANGUAGE",e.PlusChange="PLUS_CHANGE",e.PlusPurchase="PLUS_PURCHASE",e.ProgressQuizConfirmation="PROGRESS_QUIZ_CONFIRMATION",e.ReportProfileUser="REPORT_PROFILE_USER",e.ReportSentence="REPORT_SENTENCE",e.ShakeToReport="SHAKE_TO_REPORT",e.SessionReview="SESSION_REVIEW",e.ShadowbanList="SHADOWBAN_LIST",e.ShadowbanUser="SHADOWBAN_USER",e.SignInUp="SIGN_IN_UP",e.SkillAssignment="SKILL_ASSIGNMENT",e.TransliterationSettings="TRANSLITERATION_SETTINGS",e.TrialWall="TRIAL_WALL",e.XpAssignment="XP_ASSIGNMENT"}(o||(o={})),function(e){e.Gray="style-gray",e.Plus="style-plus",e.White="style-white"}(i||(i={}));const r=e=>[o.CardUpdate,o.FinalLevelSplash,o.PlusPurchase,o.SignInUp,o.PlusChange].includes(e)},45076:(e,t,n)=>{"use strict";n.d(t,{Xr:()=>De,UY:()=>Be,Wm:()=>He,Ru:()=>Me,W8:()=>je,Uc:()=>Ge,m4:()=>Ve,Qp:()=>Ze,tv:()=>We,bu:()=>m});var o=n(80254),i=n(89454),r=n(59273),s=n(81149),a=n(68903),l=n(785);const c=["WEB_TRY_PLUS_FAB"],u=[],d=["DOGFOODING","DOGFOODING_PREVIEW","IMMERSIVE_PLUS_PROMO","INVITE_FRIENDS","CHARACTERS_TAB_CALLOUT","LEAGUES_CONTEST_END","MARKETING_OPT_IN","PERFORMANCE_BASED_TEST_OUT","PLUS_BADGE","PLUS_BADGE_FAMILY","PLUS_EARNED","PROGRESS_QUIZ_WIDGET","REPORT_FEEDBACK","REQUEST_NOTIFICATION_PERMISSION","RESURRECTION_BANNER","SCHOOLS_JOINED_CLASSROOM","STORIES_INTRO","STORIES_INTRO_HIGHER_PRIORITY","STREAK_FREEZE_RECURRING_OFFER","STREAK_REPAIR_OFFER","STREAK_REPAIRED","UNIVERSAL_KUDOS_OFFER","UNIVERSAL_KUDOS_RECEIVE","WEB_TO_APP_CONVERSION","WEB_TO_APP_CONVERSION_AGGRESSIVE","WELCOME_BACK_BANNER"],p=["EMAIL_VERIFIED","NEW_TREE_CHANGE_V2","PITTSBURGH","SCHOOLS_2016_07_AD","STREAK_FREEZE_USED","WEB_LEADERBOARDS_INTRODUCTION"],m={CHARACTERS_TAB_CALLOUT:"charactersTabCallout",EMAIL_VERIFIED:"emailVerified",IMMERSIVE_PLUS_PROMO:"immersivePlusPromo",INVITE_FRIENDS:"referral",LEAGUES_CONTEST_END:"leaderboardsPromotion",MARKETING_OPT_IN:"marketingOptIn",NEW_TREE_CHANGE_V2:"skillTreeMigration",PERFORMANCE_BASED_TEST_OUT:"performanceBasedTestOut",PITTSBURGH:"pittsburgh",PLUS_BADGE:"plusBadge",PLUS_BADGE_FAMILY:"plusBadgeFamily",PLUS_EARNED:"referralInvitee",PROGRESS_QUIZ_WIDGET:"plusProgressQuizPurchase",REPORT_FEEDBACK:"shakeToReportAlert",REQUEST_NOTIFICATION_PERMISSION:"turningNotificationsOn",RESURRECTION_BANNER:"resurrectedWelcome",SCHOOLS_2016_07_AD:"schools201607Ad",SCHOOLS_JOINED_CLASSROOM:"schoolsJoinedClassroom",STORIES_INTRO:"storiesIntro",STORIES_INTRO_HIGHER_PRIORITY:"storiesIntroHigherPriority",STREAK_FREEZE_RECURRING_OFFER:"streakFreezeRecurringOffer",STREAK_FREEZE_USED:"streakFreezeUsed",STREAK_REPAIR_OFFER:"streakRepairOffer",STREAK_REPAIRED:"streakRepairApplied",UNIVERSAL_KUDOS_OFFER:"kudosOffer",UNIVERSAL_KUDOS_RECEIVE:"kudosReceive",WEB_LEADERBOARDS_INTRODUCTION:"leaderboardsIntro",WEB_TO_APP_CONVERSION:"webToAppConversion",WEB_TO_APP_CONVERSION_AGGRESSIVE:"webToAppConversionAggressive",WELCOME_BACK_BANNER:"reactivatedWelcome"};var g=n(16970),h=n(54412),_=n(87471),v=n(64865),f=n(88787),y=n(80321),E=n(88868),b=n(74597),S=n(20028);const w=({unlockedStories:e,user:t})=>(null==e?void 0:e.isFirstUnlock)&&e.courseId===t.currentCourseId,T={CHARACTERS_TAB_CALLOUT:({user:e})=>(0,g.S9)(e.learningLanguage,e.fromLanguage)&&!("ja"===e.learningLanguage&&"en"===e.fromLanguage),DOGFOODING:e=>(({persistentNotifications:e})=>e.dogfooding)(e)&&(0,S.Sk)(e.user)&&window.location.host!==E.Vb&&window.location.host!==E.a_&&!(0,r.NY)(),DOGFOODING_PREVIEW:e=>(({persistentNotifications:e})=>e.dogfoodingPreview)(e)&&!(0,S.Sk)(e.user)&&(0,S.u)(e.user)&&window.location.host!==E.Vb&&window.location.host!==E.a_&&void 0===(0,h.ej)(h.Vj.RedirectToPreview),EMAIL_VERIFIED:({isDesktop:e,user:t})=>e&&!(0,S.pN)(t),IMMERSIVE_PLUS_PROMO:({isDesktop:e,persistentNotifications:t,user:n})=>t.immersivePlusPromo&&e&&!(0,S.pN)(n),INVITE_FRIENDS:({isDesktop:e,items:t,persistentNotifications:n,referralStats:o,user:i})=>{var r,s;const a=(i.joinedClassroomIds||[]).length>0||(i.observedClassroomIds||[]).length>0,l=null===(r=i.referralInfo)||void 0===r?void 0:r.hasReachedCap,c=o.inviteBannerDismissals>=2,u=!(0,S.pN)(i)&&o.lessonsCompleted>=3,d=(null===(s=i.inviteURL)||void 0===s?void 0:s.length)>0;return n.inviteFriends&&e&&!(0,y.jJ)(t)&&!(0,S.pN)(i)&&!a&&!l&&!c&&u&&d},LEAGUES_CONTEST_END:({isDesktop:e,leagues:t,user:n})=>e&&void 0!==(null==t?void 0:t.ended)&&t.ended.length>0&&"PROMOTED"===(0,_.NO)(n.id,t.ended).rank,MARKETING_OPT_IN:({persistentNotifications:e})=>e.marketingOptIn,NEW_TREE_CHANGE_V2:()=>!0,PERFORMANCE_BASED_TEST_OUT:({persistentNotifications:e})=>!!e.performanceBasedTestOut||void 0,PITTSBURGH:({isDesktop:e,user:t})=>e&&!(0,S.pN)(t),PLUS_BADGE:({persistentNotifications:e,user:t})=>t.hasPlus&&e.plusBadge,PLUS_BADGE_FAMILY:({persistentNotifications:e,user:t})=>t.hasPlus&&e.plusBadgeFamily,PLUS_EARNED:({items:e,persistentNotifications:t,user:n})=>{const o=(n.referralInfo||{}).numBonusesReady>0;return t.plusEarned&&!(0,y.jJ)(e)&&o},PROGRESS_QUIZ_WIDGET:({persistentNotifications:e})=>!!e.progressQuizWidget,REPORT_FEEDBACK:e=>(({user:e})=>(0,S.ms)(e))(e)&&b.Z.hasPhysicalKeyboard,REQUEST_NOTIFICATION_PERMISSION:e=>(({persistentNotifications:e})=>e.requestNotificationPermission)(e)&&b.Z.chrome&&(0,f.Hd)()&&"default"===window.Notification.permission,RESURRECTION_BANNER:({persistentNotifications:e,user:t})=>!(0,S.pN)(t)&&e.resurrectionBanner,SCHOOLS_2016_07_AD:({isDesktop:e,user:t})=>e&&!(0,S.pN)(t),SCHOOLS_JOINED_CLASSROOM:({persistentNotifications:e})=>!!e.schoolsJoinedClassroom,STORIES_INTRO:w,STORIES_INTRO_HIGHER_PRIORITY:w,STREAK_FREEZE_RECURRING_OFFER:({items:e,user:t,persistentNotifications:n})=>{const o=t.streak>=3,i=t.lingots>=10,r=e.shop.misc.streak_freeze,s=r&&r.id in e.inventory;return n.streakFreezeRecurringOffer&&o&&i&&!s},STREAK_FREEZE_USED:({items:e,user:t})=>{const n=t.streak>1,o=e.shop.misc.streak_freeze,i=e.inventory.streak_freeze?e.inventory.streak_freeze.quantity:0;return n&&o&&(0===i||1===i)},STREAK_REPAIR_OFFER:({isDesktop:e,isEligibleForDuolingoPlus:t,user:n})=>e&&!n.hasPlus&&n.streakRepairOffer&&t,STREAK_REPAIRED:({isDesktop:e,user:t})=>t.streakRepairedNotification&&e,UNIVERSAL_KUDOS_OFFER:({kudosDrawer:e,kudosAssets:t})=>!!e&&"OFFER"===e.notificationType&&void 0!==t[e.kudosIcon]&&void 0!==t[e.actionIcon],UNIVERSAL_KUDOS_RECEIVE:({kudosDrawer:e,kudosAssets:t})=>!!e&&"RECEIVE"===e.notificationType&&void 0!==t[e.actionIcon],WEB_LEADERBOARDS_INTRODUCTION:({sessionsToUnlockLeagues:e})=>0===e,WEB_TO_APP_CONVERSION:({isDesktop:e,user:t,persistentNotifications:n})=>!(0,S.pN)(t)&&n.webToAppConversion&&e,WEB_TO_APP_CONVERSION_AGGRESSIVE:e=>void 0!==(0,v.TI)()&&(({isDesktop:e,user:t,persistentNotifications:n})=>!(0,S.pN)(t)&&n.webToAppConversionAggressive&&e)(e),WEB_TRY_PLUS_FAB:({isEligibleForDuolingoPlus:e,user:t})=>e&&!t.hasPlus,WELCOME_BACK_BANNER:({persistentNotifications:e,user:t})=>!(0,S.pN)(t)&&e.welcomeBackBanner};var I=n(27378),k=n(4243),R=n(31507),C=n(80150),O=n(13840),N=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const P=()=>{const{fadeOut:e,isVisible:t,options:n}=(0,C.Z)("CONFIRM"),o=()=>N(void 0,void 0,void 0,(function*(){yield e(),n.onConfirm()})),i=()=>N(void 0,void 0,void 0,(function*(){yield e(),n.onClose()}));return I.createElement(R.Z,{isVisible:t,onDismiss:i,onEnter:o,submitting:!1},I.createElement(k.Z,{ctaContent:(0,O._i)(20451),description:n.message,dismissContent:(0,O._i)(11525),onCtaClick:o,onDismiss:i,submitting:!1,title:(0,O._i)(19636)}))};var L=n(69635),A=n(83063),D=n(42659),x=n(83936),M=n(6191),U=n(78390);const F={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210",container:"_1fgUe",_lingots:"_2zyKh","_lingots-filled":"_2IyjM _2zyKh","_top-right-corner":"UZE_u","lingots-corner-filled":"_3-1UA _2IyjM _2zyKh UZE_u","lingots-corner-empty":"_55g8G _2zyKh UZE_u","lingot-icon-filled":"_3bJ30 _3aUCN _1woVy _1fHjR","lingot-icon-empty":"_3XFMQ _1ZFIx _1woVy _1fHjR","cta-lingots":"LPd1l _2IyjM _2zyKh","cta-lingot-icon":"_1Lu6r _3aUCN _1woVy",header:"_3KzAN",content:"_18-wK",subtitle:"_1cqUe","cta-buttons":"_3jogs","cta-button":"KJuUV","cta-button-gap":"_28rPo","cta-crown":"_2R4vR","cta-button-main-text":"UMzUz","plus-cta-header":"_2a9CD","plus-cta-free-trial":"_3js83","no-thanks":"_2uMiS"};var j=n(60610),B=n(35160),H=n(18804),G=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const V=()=>{const e=(0,L.k6)(),{fadeOut:t,isVisible:n,options:{lessonIndex:o,lingotsPrice:i,origin:r,skillUrl:s}}=(0,C.Z)("FINAL_LEVEL_WITH_LINGOTS"),a=(0,j.Fx)(D.np),c=(0,j.Fx)(x.y1),u={lesson_index:o,lingots_price:i,origin:r};I.useEffect((()=>{(0,l.j)("final_level_purchase_drawer_show",u)}),[]);const d=()=>{(0,l.j)("final_level_purchase_drawer_dismiss",u),t()};return I.createElement(R.Z,{isVisible:n,onDismiss:d,submitting:!1},I.createElement("div",{className:F.container},I.createElement("div",{className:F["lingots-corner-"+(a.lingots?"filled":"empty")]},I.createElement("span",{className:F["lingot-icon-"+(a.lingots?"filled":"empty")]}),a.lingots),I.createElement("div",{className:F.content},I.createElement("h2",{className:F.header},(0,O._i)(o>0?30569:27114)),I.createElement("div",{className:F.subtitle},(0,O._i)(o>0?29947:30681)),I.createElement("div",{className:F["cta-buttons"]},I.createElement(A.Z,{className:F["cta-button"],disabled:a.lingots<i,onClick:()=>G(void 0,void 0,void 0,(function*(){var n,o;(0,l.j)("final_level_purchase_drawer_lingots_tap",u),yield t(),(0,H.WI)({options:void 0,type:"TOGGLE_MODAL"}),e.push(s,e.location.pathname===s?{sessionRetry:(null!==(o=null===(n=e.location.state)||void 0===n?void 0:n.sessionRetry)&&void 0!==o?o:0)+1}:void 0)})),variant:"stroke"},I.createElement("img",{className:F["cta-crown"],src:U}),I.createElement("span",{className:F["cta-button-main-text"]},(0,O._i)(27116)),I.createElement("span",{className:F["cta-lingots"]},I.createElement("span",{className:F["cta-lingot-icon"]}),i)),I.createElement("div",{className:F["cta-button-gap"]}),I.createElement(A.Z,{className:F["cta-button"],onClick:()=>G(void 0,void 0,void 0,(function*(){(0,l.j)("final_level_purchase_drawer_plus_tap",u),yield t(),(0,H.WI)({options:{didClickFreeTrial:c,name:B.tl.PlusPurchase,trackingProps:{iap_context:"final_level_paywall"}},type:"TOGGLE_MODAL"})})),variant:"stroke"},I.createElement("span",{className:F["plus-cta-header"]},(0,O._i)(29184)),I.createElement("img",{className:F["cta-crown"],src:M}),I.createElement("span",{className:F["cta-button-main-text"]},(0,O._i)(27117)),I.createElement("span",{className:F["plus-cta-free-trial"]},(0,O._i)(c?5655:22294))))),I.createElement(A.Z,{className:F["no-thanks"],onClick:d,variant:"stroke"},(0,O._i)(2586))))};var Z=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const W=()=>{const{fadeOut:e,isVisible:t,options:n}=(0,C.Z)("GENERIC_NOTIFICATION"),o=()=>Z(void 0,void 0,void 0,(function*(){var t;yield e(),null===(t=n.onConfirm)||void 0===t||t.call(n)})),i=()=>Z(void 0,void 0,void 0,(function*(){var t;yield e(),null===(t=n.onClose)||void 0===t||t.call(n)}));return I.createElement(R.Z,{isVisible:t,onDismiss:i,onEnter:o,submitting:!1},I.createElement(k.Z,{ctaContent:n.ctaContent,description:n.description,dismissContent:n.dismissContent,image:n.image,onCtaClick:o,onDismiss:i,style:n.ctaStyle,submitting:!1,title:n.title}))};var z=n(67445);const Y=()=>{const{fadeOut:e,isVisible:t}=(0,C.Z)("PLUS_OFFBOARDING");return I.createElement(R.Z,{isVisible:t,onDismiss:e,onEnter:e,submitting:!1},I.createElement(k.Z,{ctaContent:(0,O._i)(19889),description:(0,O._i)(31019),image:I.createElement("img",{className:"_3JHLa",src:z}),onCtaClick:e,style:"plus",submitting:!1,title:(0,O._i)(23758)}))};var $=n(5137),K=n(60042),q=n.n(K);var J=n(30033),X=n(67173);const Q=({onClick:e})=>I.createElement("button",Object.assign({className:"_3z1U- _2kfEr _1nlVc _2fOC9 UCrz7 t5wFJ",onClick:e},(0,J._q)(X.V.DrawerCloseButton)),I.createElement("img",{src:"https://d35aaqx5ub95lt.cloudfront.net/images/x.svg"}));var ee=n(394);const te=({contentLeftBottom:e,contentRightTop:t,description:n,image:o,onDismiss:i,submitting:r,title:s})=>I.createElement("div",{className:q()(ee.Z.grid,{[ee.Z["has-description"]]:n,[ee.Z["has-dismiss"]]:!0,[ee.Z["has-image"]]:o})},o?I.createElement("div",{className:ee.Z["image-container"]},o):null,I.createElement("span",{className:ee.Z.title},s),n?I.createElement("span",{className:ee.Z.description},n):null,I.createElement("div",{className:ee.Z["right-top"]},t),I.createElement("div",{className:ee.Z["left-bottom"]},e),I.createElement(Q,{onClick:r?void 0:i}));var ne=n(83120),oe=n(86522);const ie={"duration-fade":"0.3s","duration-slide":"0.4s","height-tabbar-mobile":"90px","height-topbar":"70px","height-topbar-mobile":"58px","juicy-bee":"#ffc800","juicy-length":"8px","juicy-margin":"24px","margin-popover":"8px","margin-popover-stem":"15px","margin-popover-text":"5px","max-width-skill":"106px","max-width-skill-mobile":"96px","size-checkpoint":"90px","z-index-popover":"150","z-index-topbar":"210","_icon-lingot-positioning":"_3svHW","icon-lingot":"_2nCJ2 _3aUCN _1woVy _3svHW","icon-lingot-disabled":"lDB3g _1ZFIx _1woVy _3svHW","lingots-cta":"_2QT1h","plus-cta":"_14cZr"};var re=n(71371),se=n(85381),ae=n(18313),le=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const ce=()=>{const e=(0,L.k6)(),{fadeOut:t,isVisible:n,options:o}=(0,C.Z)("SKILL_TEST_OUT_WITH_LINGOTS"),i=(0,j.tX)(),r=(0,j.Fx)(D.$4),s=(0,j.Fx)(D.__),a=(0,j.Fx)(D.oe),l=(0,j.Fx)(D.np);if(!o)throw Error("Skill testout with lingots mounted but data not populated");const{lingotsPrice:c,skillId:u,urlRoot:d}=o,p=5===c?s.shop.misc.skill_test_lingots_5:s.shop.misc.skill_test_lingots_10,m=(0,j.ZF)((()=>a[u]),[]),g=()=>{re.Z.start("lesson_start"),e.push(`${d}/test`)},h=()=>t(),_=p&&l.lingots<p.price,v=_?"icon-lingot-disabled":"icon-lingot",f=I.createElement(ne.Z,null,(({width:e})=>I.createElement($.Z,{active:!0,animateIcon:!0,sectionStatus:ae.HI.Unlocked,skill:m,width:e}))),y=I.createElement(oe.Z,{customStyle:ie["lingots-cta"],disabled:_,onClick:()=>le(void 0,void 0,void 0,(function*(){yield t(),g()})),style:"stroked"},(0,O._i)(32756,{class:ie[v],num:p?p.price:""})),E=I.createElement(oe.Z,{customStyle:ie["plus-cta"],onClick:()=>le(void 0,void 0,void 0,(function*(){yield t(),(0,se.Tn)({trackingProps:{iap_context:"skill_test_out_lingots_notification"},welcomeButtonContent:(0,O._i)(25037),welcomeRedirect:()=>{g(),i({options:void 0,type:"TOGGLE_MODAL"})}},i)})),style:"plus"},(0,O._i)(19527));return I.createElement(R.Z,{isVisible:n,onDismiss:h,submitting:!1},I.createElement(te,{contentLeftBottom:r?y:E,contentRightTop:r?E:y,description:(0,O._i)(25016),image:f,onDismiss:h,submitting:!1,title:(0,O._i)(1614,{level:m.finishedLevels+1})}))};var ue=n(1398);const de=(0,ue.Z)((()=>n.e(9524).then(n.bind(n,39524)))),pe=(0,ue.Z)((()=>n.e(8473).then(n.bind(n,38473)))),me=(0,ue.Z)((()=>n.e(5789).then(n.bind(n,85789)))),ge=(0,ue.Z)((()=>n.e(3156).then(n.bind(n,43156)))),he=(0,ue.Z)((()=>n.e(2643).then(n.bind(n,82643)))),_e=(0,ue.Z)((()=>n.e(969).then(n.bind(n,30969)))),ve=(0,ue.Z)((()=>n.e(648).then(n.bind(n,30648)))),fe=(0,ue.Z)((()=>n.e(5822).then(n.bind(n,25822)))),ye=(0,ue.Z)((()=>n.e(4050).then(n.bind(n,14050)))),Ee=(0,ue.Z)((()=>n.e(4492).then(n.bind(n,64492)))),be=(0,ue.Z)((()=>n.e(9400).then(n.bind(n,79400)))),Se=(0,ue.Z)((()=>n.e(5924).then(n.bind(n,75924)))),we=(0,ue.Z)((()=>n.e(7526).then(n.bind(n,37526)))),Te=(0,ue.Z)((()=>n.e(7087).then(n.bind(n,67087)))),Ie=(0,ue.Z)((()=>n.e(6873).then(n.bind(n,56873)))),ke=(0,ue.Z)((()=>n.e(1451).then(n.bind(n,81451)))),Re=(0,ue.Z)((()=>n.e(1929).then(n.bind(n,61929)))),Ce=(0,ue.Z)((()=>n.e(4601).then(n.bind(n,14601)))),Oe=(0,ue.Z)((()=>n.e(66).then(n.bind(n,80066)))),Ne=(0,ue.Z)((()=>n.e(535).then(n.bind(n,20535)))),Pe=(0,ue.Z)((()=>n.e(2379).then(n.bind(n,62379)))),Le=(0,ue.Z)((()=>n.e(6633).then(n.bind(n,6633)))),Ae=(0,ue.Z)((()=>n.e(9996).then(n.bind(n,59996)))),De=e=>{switch(e){case"CHARACTERS_TAB_CALLOUT":return;case"CONFIRM":return P;case"DOGFOODING":return de;case"DOGFOODING_PREVIEW":return pe;case"EMAIL_VERIFIED":return me;case"FINAL_LEVEL_WITH_LINGOTS":return V;case"GENERIC_NOTIFICATION":return W;case"IMMERSIVE_PLUS_PROMO":return ge;case"INVITE_FRIENDS":return he;case"LEAGUES_CONTEST_END":return;case"MARKETING_OPT_IN":return _e;case"NEW_TREE_CHANGE_V2":return ve;case"PERFORMANCE_BASED_TEST_OUT":return fe;case"PITTSBURGH":return ye;case"PLUS_BADGE":case"PLUS_BADGE_FAMILY":return;case"PLUS_EARNED":return Ee;case"PLUS_OFFBOARDING":return Y;case"PROGRESS_QUIZ_WIDGET":return;case"REPORT_FEEDBACK":return be;case"REQUEST_NOTIFICATION_PERMISSION":return;case"RESURRECTION_BANNER":return Se;case"SCHOOLS_2016_07_AD":return we;case"SCHOOLS_JOINED_CLASSROOM":return Te;case"SKILL_TEST_OUT_WITH_LINGOTS":return ce;case"STORIES_INTRO":case"STORIES_INTRO_HIGHER_PRIORITY":return;case"STREAK_FREEZE_RECURRING_OFFER":return Ie;case"STREAK_FREEZE_USED":return ke;case"STREAK_REPAIR_OFFER":return Re;case"STREAK_REPAIRED":return Ce;case"TYPE_TO_SELECT":return Oe;case"UNIVERSAL_KUDOS_OFFER":case"UNIVERSAL_KUDOS_RECEIVE":return Ne;case"WEB_LEADERBOARDS_INTRODUCTION":return;case"WEB_TO_APP_CONVERSION":return Le;case"WEB_TO_APP_CONVERSION_AGGRESSIVE":return Pe;case"WELCOME_BACK_BANNER":return Ae;case void 0:return;default:throw(0,a.RJ)(e),Error()}};var xe=n(53229);const Me=(e,t)=>{const{requestNotificationPermission:n}=t.persistentNotifications;n&&!(({location:e})=>!(0,xe.vl)(e.search).purchasePlus)(t)&&e({notificationType:"REQUEST_NOTIFICATION_PERMISSION",type:"DISABLE_PERSISTENT_NOTIFICATION"})};var Ue=n(21061),Fe=n(66195);const je=(e,t)=>{const{immersivePlusPromo:n,inviteFriends:o,plusEarned:i,progressQuizWidget:r,resurrectionBanner:s,streakFreezeRecurringOffer:a,webToAppConversion:l,webToAppConversionAggressive:c,welcomeBackBanner:u}=t.persistentNotifications,{streakRepairedNotification:d,streakRepairOffer:p}=t.user;!l&&(({user:e})=>(0,Ue.M)(e.creationDate,Date.now())>1)(t)&&e({notificationType:"WEB_TO_APP_CONVERSION",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),!c&&(({persistentNotificationsPersistedData:{webToAppConversion:{lastShown:e}},user:t})=>{const n=(0,Ue.M)(t.creationDate,Date.now())>1,o=(0,Ue.M)((null!=e?e:0)/1e3,Date.now())<1;return n&&!o})(t)&&e({notificationType:"WEB_TO_APP_CONVERSION_AGGRESSIVE",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),!o&&(({referralStats:e,user:t})=>{const n=(0,Ue.M)(e.inviteBannerLastShown/1e3,Date.now())<1;return!t.hasPlus&&!n})(t)&&e({notificationType:"INVITE_FRIENDS",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),!i&&(({user:e})=>{var t;const n=1e3*(0,Ue.dz)({minutes:5}),o=Date.now()-(null!==(t=e.plusEarnedBannerLastClosed)&&void 0!==t?t:0)<n;return!e.hasPlus&&!o})(t)&&e({notificationType:"PLUS_EARNED",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),!n&&(({user:e})=>{var t;const n=1e3*(0,Ue.dz)({days:3}),o=Date.now()-(null!==(t=e.plusExpirationDate)&&void 0!==t?t:0);return!e.hasPlus&&o>0&&o<n})(t)&&e({notificationType:"IMMERSIVE_PLUS_PROMO",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),"PROGRESS_QUIZ_WIDGET"!==t.homeNotification&&r&&r.scheduleTime<Date.now()-6e4&&e({notificationType:"PROGRESS_QUIZ_WIDGET",type:"DISABLE_PERSISTENT_NOTIFICATION"}),!s&&(({user:e})=>{var t,n;const o=(0,Ue.M)(null!==(t=e.resurrectionBannerLastClosed)&&void 0!==t?t:0,Date.now())<30,i=(0,Ue.M)(null!==(n=e.lastSessionFinished)&&void 0!==n?n:0,Date.now())<30;return(0,Fe.eU)(e)&&!o&&!i})(t)&&e({notificationType:"RESURRECTION_BANNER",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),!a&&(({persistentNotificationsPersistedData:{streakFreezeRecurringOffer:{lastShown:e=0,shows:t}}})=>!((0,Ue.M)(e/1e3,Date.now())<7||t>=3))(t)&&e({notificationType:"STREAK_FREEZE_RECURRING_OFFER",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"}),"STREAK_REPAIR_OFFER"!==t.homeNotification&&p&&(0,Ue.pY)(p.expirationTime)&&e({notificationType:"STREAK_REPAIR_OFFER",type:"DISABLE_PERSISTENT_NOTIFICATION"}),"STREAK_REPAIRED"!==t.homeNotification&&d&&(0,Ue.pY)(d.expirationTime)&&e({notificationType:"STREAK_REPAIRED",type:"DISABLE_PERSISTENT_NOTIFICATION"}),!u&&(({user:e})=>{var t,n;const o=(0,Ue.M)(null!==(t=e.welcomeBackBannerLastClosed)&&void 0!==t?t:0,Date.now())<7,i=(0,Ue.M)(null!==(n=e.lastSessionFinished)&&void 0!==n?n:0,Date.now())<7;return(0,Fe.P2)(e)&&!o&&!i})(t)&&e({notificationType:"WELCOME_BACK_BANNER",type:"PERSISTENT_NOTIFICATION_MEETS_TIME_CRITERION"})};const Be=e=>[...c,...u,...d,...p].filter((t=>(0,r.ky)("debugNotification")===t||!(Ze(t)&&!e.user.persistentNotifications.includes(t))&&T[t](e))),He=(e,t,n)=>{return r=void 0,a=void 0,u=function*(){var r,a;const c=e=>{switch(e){case"STREAK_FREEZE_USED":return void 0===t.inventory.streak_freeze||"experiment"===(0,s.j6)("retention_web_port_multiple_streak",void 0);default:return!0}};if(e.includes("DOGFOODING"))return"DOGFOODING";if(e.includes("DOGFOODING_PREVIEW"))return"DOGFOODING_PREVIEW";let u;try{u=null!==(a=null===(r=yield i.zi.getHomeMessages(e.map((e=>m[e])),n))||void 0===r?void 0:r.messageDisplayInfo)&&void 0!==a?a:[]}catch(e){return void(0,l.DT)("get_messages_failed","Failed to get home messages",e)}const d=u.map((e=>o.XP(e.messageId)[0]));for(const t of d){const n=e.find((e=>m[e]===t&&c(e)));if(n)return n}},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function o(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,o)}i((u=u.apply(r,a||[])).next())}));var r,a,c,u},Ge=(0,a.p)(["CONFIRM","DOGFOODING","DOGFOODING_PREVIEW","EMAIL_VERIFIED","FINAL_LEVEL_WITH_LINGOTS","GENERIC_NOTIFICATION","IMMERSIVE_PLUS_PROMO","INVITE_FRIENDS","PLUS_OFFBOARDING","MARKETING_OPT_IN","NEW_TREE_CHANGE_V2","PERFORMANCE_BASED_TEST_OUT","PLUS_EARNED","REPORT_FEEDBACK","RESURRECTION_BANNER","SCHOOLS_2016_07_AD","SCHOOLS_JOINED_CLASSROOM","SKILL_TEST_OUT_WITH_LINGOTS","STREAK_FREEZE_RECURRING_OFFER","STREAK_FREEZE_USED","STREAK_REPAIR_OFFER","STREAK_REPAIRED","TYPE_TO_SELECT","UNIVERSAL_KUDOS_OFFER","UNIVERSAL_KUDOS_RECEIVE","WEB_TO_APP_CONVERSION","WEB_TO_APP_CONVERSION_AGGRESSIVE","WELCOME_BACK_BANNER"]),Ve=(0,a.p)([...d,...p]),Ze=(0,a.p)([...u,...p]),We=e=>{switch(e){case"DOGFOODING":case"DOGFOODING_PREVIEW":case"EMAIL_VERIFIED":case"IMMERSIVE_PLUS_PROMO":case"INVITE_FRIENDS":case"MARKETING_OPT_IN":case"NEW_TREE_CHANGE_V2":case"PERFORMANCE_BASED_TEST_OUT":case"PLUS_EARNED":case"REPORT_FEEDBACK":case"RESURRECTION_BANNER":case"SCHOOLS_2016_07_AD":case"SCHOOLS_JOINED_CLASSROOM":case"STREAK_FREEZE_RECURRING_OFFER":case"STREAK_FREEZE_USED":case"STREAK_REPAIR_OFFER":case"STREAK_REPAIRED":case"UNIVERSAL_KUDOS_OFFER":case"UNIVERSAL_KUDOS_RECEIVE":return!0;case"WEB_TO_APP_CONVERSION":case"WEB_TO_APP_CONVERSION_AGGRESSIVE":case"WELCOME_BACK_BANNER":return!0}return!1}},89803:(e,t,n)=>{"use strict";n.d(t,{vi:()=>c,VB:()=>u,o7:()=>d,Bf:()=>p,u6:()=>m});var o=n(80254),i=n(54412),r=n(53229),s=n(74245),a=n(785),l=n(16086);const c=o.IH((()=>{if((0,i.d8)(i.Vj.TimeSiteLoaded,Date.now().toString()),(0,l.Pc)())(0,i.ej)(i.Vj.LandingPage)||(0,i.d8)(i.Vj.LandingPage,i.m_),(0,i.ej)(i.Vj.LandingURL)||(0,i.d8)(i.Vj.LandingURL,i.m_),(0,i.ej)(i.Vj.InitialReferrer)||(0,i.d8)(i.Vj.InitialReferrer,i.m_);else if((0,i.ej)(i.Vj.LandingURL)||(0,i.d8)(i.Vj.LandingURL,window.location.href),(0,i.ej)(i.Vj.InitialReferrer)||(0,i.d8)(i.Vj.InitialReferrer,window.document.referrer||"$direct"),!(0,i.ej)(i.Vj.LastReferrer)){const e=document.referrer;/duolingo\.(cn|com)/.test(e)||(0,i.d8)(i.Vj.LastReferrer,document.referrer)}})),u=e=>{let t=!0;(0,i.ej)(i.Vj.LandingPage)?t=!1:(0,i.d8)(i.Vj.LandingPage,e),(0,a.j)("landing_page_load",{initial_landing:t,page:e,ui_language:(0,s.D3)(s.h9)})},d=e=>{const t=(0,r.vl)(e.search),n=t.email_type;if(n){const e=t.day_offset;(0,a.j)("email_tap",{day_offset:e?parseInt(e,10):void 0,email_type:n,target:t.target})}},p=(e,t)=>{(0,a.j)("splash load",Object.assign(Object.assign(Object.assign({},(0,a.OD)("acquisition_")),(0,a.OD)("latest_")),{has_cookie:!!(0,i.ej)(i.Vj.LoggedOutUUID),subpage:t,use_nweb:!0})),u(t),d(e)},m=o.IH((()=>{const e=(0,i.ej)(i.Vj.TimeSiteLoaded),t={};if(e)try{const n=parseInt(e,10);t.time_since_open=Math.round((Date.now()-n)/1e3)}catch(e){}(0,a.j)("app_close",t)}))},74971:(e,t,n)=>{"use strict";n.d(t,{U9:()=>a,Xb:()=>u,JZ:()=>d,ZX:()=>p});var o=n(50548),i=n(785),r=n(74597),s=n(16086);const a=void 0!==window.OptanonWrapper,l="onetrust-banner-sdk";a&&new class{constructor(){this.updateBannerVisibility=()=>{const e=!r.Z.desktop&&window.location.pathname.startsWith("/weekly-report"),t=(0,s.Pc)()||e;void 0===this.hidingStyleComponent?t&&(this.hidingStyleComponent=(e=>{const t=document.createElement("style");return t.textContent=e,document.head.append(t),t})(`#${l} { display: none !important; }`)):t||(this.hidingStyleComponent.remove(),this.hidingStyleComponent=void 0)},this.updateBannerHeight=()=>{var e;const t=document.getElementById(l),n=null!==(e=null==t?void 0:t.clientHeight)&&void 0!==e?e:0;document.body.style.setProperty("--onetrust-banner-height",`${n}px`)},this.startWatchingForBannerUpdates=(e=!1)=>{if(window.clearInterval(this.bannerUpdateInterval),!this.mightBannerBeVisible()&&!e)return;let t=20;this.bannerUpdateInterval=window.setInterval((()=>{this.updateBannerHeight(),t-=1,0===t&&window.clearInterval(this.bannerUpdateInterval)}),100)},this.mightBannerBeVisible=()=>{var e,t,n;return!((0,s.Pc)()||null!==(n=null===(t=null===(e=window.OneTrust)||void 0===e?void 0:e.IsAlertBoxClosed)||void 0===t?void 0:t.call(e))&&void 0!==n&&n)},o.m.listen(this.updateBannerVisibility),window.OptanonWrapper=()=>{this.startWatchingForBannerUpdates(!0),window.OnetrustActiveGroups&&(0,i.j)("cookie_consent_updated",{cookie_consent_groups:window.OnetrustActiveGroups})},window.addEventListener("resize",(()=>this.startWatchingForBannerUpdates())),this.updateBannerVisibility(),this.startWatchingForBannerUpdates()}};const c={targeting:"C0004"},u=e=>{var t,n;return!a||null!==(n=null===(t=window.OnetrustActiveGroups)||void 0===t?void 0:t.includes(`,${c[e]},`))&&void 0!==n&&n},d=()=>{var e,t;null===(t=null===(e=window.OneTrust)||void 0===e?void 0:e.ToggleInfoDisplay)||void 0===t||t.call(e)},p=()=>{var e,t,n;return null!==(n=null===(t=null===(e=window.OneTrust)||void 0===e?void 0:e.GetDomainData)||void 0===t?void 0:t.call(e).CookieSettingButtonText)&&void 0!==n?n:"Cookie Settings"}},71371:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n(59273),i=n(51158),r=n(18804),s=n(785);const a={challenge_continue:800,challenge_grade:300,challenge_typing:60,character_animation_play:300,explanation_open:3e3,language_switch:1e3,lesson_start:3e3,login_success_or_fail:1e3,open_leaderboard_profile:300,open_profile:300,purchase_item_in_shop:1e3,registration_success_or_fail:3e3,session_end_grade:1e3,speech_grade:300,splash_to_home:3e3,splash_to_intro:5e3,story_completion_delay:3e3,story_list_load:3e3,story_start:3e3,stripe_elements_load:3e3,subscription_delivery:3e3,trial_user_creation:3e3,tts_play:50,welcome_fork_to_session_start:3e3},l={stripe_elements_load:1,subscription_delivery:1},c={},u=e=>{if(!p(e))return void((0,o.Au)()&&console.warn(`Timer event "${e}" finished but it was never started. Please make sure you start the timer on all relevant code paths. If the timer was intentionally removed or you reloaded the page you can ignore this warning.`));const t=window.performance.now(),n=t-c[e];n>=0?d(e,n):(0,i.Kp)(`Performance timer negative for ${e}`,{data:{duration:n,endTime:t,startTime:c[e]}}),m(e)},d=(e,t)=>{var n,c,u,d;t=Math.round(t),(0,o.Au)()&&t>a[e]&&console.warn(`Timer event "${e}" took ${t}ms. This exceeds the allowed event duration of ${a[e]}ms.`);try{const o=null!==(u=null!==(n=l[e])&&void 0!==n?n:null===(c=(0,r.y0)())||void 0===c?void 0:c.config.featureFlags.web_timer_tracker_sampling_rate)&&void 0!==u?u:0;if(Math.random()<o){const n=null===(d=(0,r.y0)())||void 0===d?void 0:d.player;(0,s.j)("app_performance_timer",{challenge_index:(null==n?void 0:n.session)?n.currentIndex:void 0,challenge_type:(null==n?void 0:n.session)?n.session.challenges[n.currentIndex].type:void 0,millisecond_duration:t,performance_timer_subtype:e,sampling_rate:o})}}catch(t){(0,i.vU)(`Failed to track performance timer for ${e}`,{ex:t})}},p=e=>void 0!==c[e],m=e=>delete c[e],g={finish:u,finishOptional:e=>{p(e)&&u(e)},has:p,remove:m,start:(e,{startTime:t}={})=>c[e]=null!=t?t:window.performance.now()}},85381:(e,t,n)=>{"use strict";n.d(t,{H7:()=>o,XL:()=>i,vV:()=>r,qG:()=>E,kk:()=>S,J9:()=>T,Th:()=>k,eV:()=>R,J_:()=>C,Wv:()=>O,hp:()=>N,qO:()=>L,uJ:()=>D,Rg:()=>x,k0:()=>M,T4:()=>U,x$:()=>F,o5:()=>j,su:()=>B,cG:()=>H,i$:()=>G,OM:()=>V,Lm:()=>Z,ZT:()=>W,$A:()=>z,gK:()=>Y,n9:()=>$,TF:()=>K,Me:()=>q,Zi:()=>J,u0:()=>X,bH:()=>Q,JG:()=>ee,dY:()=>te,dR:()=>ne,_A:()=>oe,gD:()=>ie,hJ:()=>re,lP:()=>se,eO:()=>ae,Tn:()=>le,F8:()=>ce});var o,i,r,s,a=n(61079),l=n(80254),c=n(89454),u=n(13310),d=n(21061),p=n(59273),m=n(68903),g=n(74245),h=n(35160),_=n(51158),v=n(785),f=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};!function(e){e.AmericanExpress="AMERICAN_EXPRESS",e.DinersClub="DINERS_CLUB",e.Discover="DISCOVER",e.JCB="JCB",e.MasterCard="MASTERCARD",e.Unknown="UNKNOWN",e.Visa="VISA"}(o||(o={})),function(e){e.StripeVendor="STRIPE"}(i||(i={})),function(e){e.LegacyOneMonth999="stripe_plus_one_month_999",e.OneMonth749="com.duolingo.stripe.subscription.premium.onemonth.749",e.OneMonth999="com.duolingo.stripe.subscription.premium.onemonth.999",e.SixMonth3594="com.duolingo.stripe.subscription.premium.sixmonth.3594",e.SixMonth4794="com.duolingo.stripe.subscription.premium.sixmonth.4794",e.TierOneMonth999="stripe_plus_tier_one_month_999",e.TierSixMonth4794="stripe_plus_tier_six_month_4794",e.TierTwelveMonth7188="stripe_plus_tier_twelve_month_7188",e.TwelveMonth5988="com.duolingo.stripe.subscription.premium.twelvemonth.5988",e.TwelveMonth6288="com.duolingo.stripe.subscription.premium.twelvemonth.6288",e.TwelveMonth7188="com.duolingo.stripe.subscription.premium.twelvemonth.7188",e.TwelveMonth8388="com.duolingo.stripe.subscription.premium.twelvemonth.8388",e.OneMonth799="com.duolingo.stripe.subscription.premium.onemonth.799",e.OneMonth1199="com.duolingo.stripe.subscription.premium.onemonth.1199",e.SixMonth3799="com.duolingo.stripe.subscription.premium.sixmonth.3799",e.SixMonth5699="com.duolingo.stripe.subscription.premium.sixmonth.5699",e.TwelveMonth6399="com.duolingo.stripe.subscription.premium.twelvemonth.6399",e.TwelveMonth9599="com.duolingo.stripe.subscription.premium.twelvemonth.9599",e.OneMonthTrial999="com_duolingo_stripe_subscription_premium_trial7_onemonth_999",e.SixMonthTrial4794="com_duolingo_stripe_subscription_premium_trial7_sixmonth_4794",e.TwelveMonthTrial8388="com_duolingo_stripe_subscription_premium_trial7_twelvemonth_8388",e.OneMonth14Trial1299="com_duolingo_stripe_subscription_premium_trial14_onemonth_1299",e.SixMonth14Trial4794="com_duolingo_stripe_subscription_premium_trial14_sixmonth_4794",e.TwelveMonth14Trial8388="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_8388",e.OneMonthWinback14Trial1299="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_1299",e.SixMonthWinback14Trial4794="com_duolingo_stripe_subscription_premium_winback_trial14_sixmonth_4794",e.TwelveMonthWinback14Trial8388="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_8388",e.NewYears2020P7799="com_duolingo_stripe_subscription_premium_ny2020_twelvemonth_7799",e.NewYears2020P5999="com_duolingo_stripe_subscription_premium_ny2020_twelvemonth_5999",e.OneMonth1299="com_duolingo_stripe_subscription_premium_onemonth_1299",e.OneMonthTrial1299="com_duolingo_stripe_subscription_premium_trial7_onemonth_1299",e.StudentOneMonth499="com_duolingo_stripe_subscription_premium_student_onemonth_499",e.StudentOneMonth649="com_duolingo_stripe_subscription_premium_student_onemonth_649",e.StudentSixMonth2394="com_duolingo_stripe_subscription_premium_student_sixmonth_2394",e.StudentTwelveMonth4188="com_duolingo_stripe_subscription_premium_student_twelvemonth_4188",e.StudentOneMonthTrial499="com_duolingo_stripe_subscription_premium_student_trial7_onemonth_499",e.StudentOneMonthTrial649="com_duolingo_stripe_subscription_premium_student_trial7_onemonth_649",e.StudentSixMonthTrial2394="com_duolingo_stripe_subscription_premium_student_trial7_sixmonth_2394",e.StudentTwelveMonthTrial4188="com_duolingo_stripe_subscription_premium_student_trial7_twelvemonth_4188",e.NewYears2021OneMonth1299="com_duolingo_stripe_subscription_premium_ny2021_onemonth_1299",e.NewYears2021TwelveMonth5988="com_duolingo_stripe_subscription_premium_ny2021_twelvemonth_5988",e.NewYears2021TwelveMonth90Trial8388="com_duolingo_stripe_subscription_premium_ny2021_trial90_twelvemonth_8388",e.OneMonthAUD2149="com_duolingo_stripe_subscription_premium_onemonth_aud_2149",e.OneMonthBRL5390="com_duolingo_stripe_subscription_premium_onemonth_brl_5390",e.OneMonthBRL2990="com_duolingo_stripe_subscription_premium_onemonth_brl_2990",e.OneMonthCAD1749="com_duolingo_stripe_subscription_premium_onemonth_cad_1749",e.OneMonthEUR1399="com_duolingo_stripe_subscription_premium_onemonth_eur_1399",e.OneMonthGBP1249="com_duolingo_stripe_subscription_premium_onemonth_gbp_1249",e.OneMonthJPY140000="com_duolingo_stripe_subscription_premium_onemonth_jpy_140000",e.OneMonthMXN25900="com_duolingo_stripe_subscription_premium_onemonth_mxn_25900",e.OneMonth14TrialAUD2149="com_duolingo_stripe_subscription_premium_trial14_onemonth_aud_2149",e.OneMonth14TrialBRL5390="com_duolingo_stripe_subscription_premium_trial14_onemonth_brl_5390",e.OneMonth14TrialBRL2990="com_duolingo_stripe_subscription_premium_trial14_onemonth_brl_2990",e.OneMonth14TrialCAD1749="com_duolingo_stripe_subscription_premium_trial14_onemonth_cad_1749",e.OneMonth14TrialEUR1399="com_duolingo_stripe_subscription_premium_trial14_onemonth_eur_1399",e.OneMonth14TrialGBP1249="com_duolingo_stripe_subscription_premium_trial14_onemonth_gbp_1249",e.OneMonth14TrialJPY140000="com_duolingo_stripe_subscription_premium_trial14_onemonth_jpy_140000",e.OneMonth14TrialMXN25900="com_duolingo_stripe_subscription_premium_trial14_onemonth_mxn_25900",e.OneMonthWinback14TrialAUD2149="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_aud_2149",e.OneMonthWinback14TrialBRL5390="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_brl_5390",e.OneMonthWinback14TrialBRL2990="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_brl_2990",e.OneMonthWinback14TrialCAD1749="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_cad_1749",e.OneMonthWinback14TrialEUR1399="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_eur_1399",e.OneMonthWinback14TrialGBP1249="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_gbp_1249",e.OneMonthWinback14TrialJPY140000="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_jpy_140000",e.OneMonthWinback14TrialMXN25900="com_duolingo_stripe_subscription_premium_winback_trial14_onemonth_mxn_25900",e.TwelveMonthAUD12999="com_duolingo_stripe_subscription_premium_twelvemonth_aud_12999",e.TwelveMonthBRL32990="com_duolingo_stripe_subscription_premium_twelvemonth_brl_32990",e.TwelveMonthBRL17990="com_duolingo_stripe_subscription_premium_twelvemonth_brl_17990",e.TwelveMonthCAD10699="com_duolingo_stripe_subscription_premium_twelvemonth_cad_10699",e.TwelveMonthEUR8799="com_duolingo_stripe_subscription_premium_twelvemonth_eur_8799",e.TwelveMonthGBP7799="com_duolingo_stripe_subscription_premium_twelvemonth_gbp_7799",e.TwelveMonthJPY860000="com_duolingo_stripe_subscription_premium_twelvemonth_jpy_860000",e.TwelveMonthMXN159900="com_duolingo_stripe_subscription_premium_twelvemonth_mxn_159900",e.TwelveMonth14TrialAUD12999="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_aud_12999",e.TwelveMonth14TrialBRL32990="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_brl_32990",e.TwelveMonth14TrialBRL17990="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_brl_17990",e.TwelveMonth14TrialCAD10699="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_cad_10699",e.TwelveMonth14TrialEUR8799="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_eur_8799",e.TwelveMonth14TrialGBP7799="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_gbp_7799",e.TwelveMonth14TrialGBP7799V2="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_gbp_7799_v2",e.TwelveMonth14TrialJPY860000="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_jpy_860000",e.TwelveMonth14TrialMXN159900="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_mxn_159900",e.TwelveMonthWinback14TrialAUD12999="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_aud_12999",e.TwelveMonthWinback14TrialBRL32990="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_brl_32990",e.TwelveMonthWinback14TrialBRL17990="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_brl_17990",e.TwelveMonthWinback14TrialCAD10699="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_cad_10699",e.TwelveMonthWinback14TrialEUR8799="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_eur_8799",e.TwelveMonthWinback14TrialGBP7799="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_gbp_7799",e.TwelveMonthWinback14TrialJPY860000="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_jpy_860000",e.TwelveMonthWinback14TrialMXN159900="com_duolingo_stripe_subscription_premium_winback_trial14_twelvemonth_mxn_159900",e.TwelveMonthFamilyAUD17499="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_aud_inclusive_17499",e.TwelveMonthFamilyBRL64990="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_brl_inclusive_64990",e.TwelveMonthFamilyBRL26990="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_brl_inclusive_26990",e.TwelveMonthFamilyCAD14999="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_cad_inclusive_14999",e.TwelveMonthFamilyEUR12299="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_eur_inclusive_12299",e.TwelveMonthFamilyGBP8999="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_gbp_inclusive_8999",e.TwelveMonthFamilyJPY1320000="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_jpy_inclusive_1320000",e.TwelveMonthFamilyMXN199900="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_mxn_inclusive_199900",e.TwelveMonthFamily11999="com_duolingo_stripe_subscription_premium_fam_twelvemonth_2021_q3_11999",e.TwelveMonthFamily14TrialAUD17499="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_aud_inclusive_17499",e.TwelveMonthFamily14TrialBRL64990="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_brl_inclusive_64990",e.TwelveMonthFamily14TrialBRL26990="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_brl_inclusive_26990",e.TwelveMonthFamily14TrialCAD14999="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_cad_inclusive_14999",e.TwelveMonthFamily14TrialEUR12299="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_eur_inclusive_12299",e.TwelveMonthFamily14TrialGBP8999="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_gbp_inclusive_8999",e.TwelveMonthFamily14TrialJPY1320000="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_jpy_inclusive_1320000",e.TwelveMonthFamily14TrialMXN199900="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_mxn_inclusive_199900",e.TwelveMonthFamily14Trial11999="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_2021_q3_11999",e.TwelveMonthFamilyWinBack14TrialAUD17499="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_aud_inclusive_17499",e.TwelveMonthFamilyWinBack14TrialBRL64990="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_brl_inclusive_64990",e.TwelveMonthFamilyWinBack14TrialBRL26990="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_brl_inclusive_26990",e.TwelveMonthFamilyWinBack14TrialCAD14999="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_cad_inclusive_14999",e.TwelveMonthFamilyWinBack14TrialEUR12299="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_eur_inclusive_12299",e.TwelveMonthFamilyWinBack14TrialGBP8999="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_gbp_inclusive_8999",e.TwelveMonthFamilyWinBack14TrialJPY1320000="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_jpy_inclusive_1320000",e.TwelveMonthFamilyWinBack14TrialMXN199900="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_mxn_inclusive_199900",e.TwelveMonthFamilyWinBack14Trial11999="com_duolingo_stripe_subscription_premium_winback_trial14_fam_twelvemonth_2021_q3_11999",e.NewYears2022OneMonthAUD2099="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_aud_inclusive_2099",e.NewYears2022OneMonthBRL2990="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_brl_inclusive_2990",e.NewYears2022OneMonthCAD1749="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_cad_inclusive_1749",e.NewYears2022OneMonthEUR1399="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_eur_inclusive_1399",e.NewYears2022OneMonthGBP1249="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_gbp_inclusive_1249",e.NewYears2022OneMonthJPY140000="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_jpy_inclusive_140000",e.NewYears2022OneMonthMXN25900="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_mxn_inclusive_25900",e.NewYears2022OneMonth1299="com_duolingo_stripe_subscription_premium_onemonth_ny_2022_1299",e.NewYears2022TwelveMonthAUD9999="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_aud_inclusive_9999",e.NewYears2022TwelveMonthBRL14290="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_brl_inclusive_14290",e.NewYears2022TwelveMonthCAD8399="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_cad_inclusive_8399",e.NewYears2022TwelveMonthEUR6599="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_eur_inclusive_6599",e.NewYears2022TwelveMonthGBP4799="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_gbp_inclusive_4799",e.NewYears2022TwelveMonthJPY720000="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_jpy_inclusive_720000",e.NewYears2022TwelveMonthMXN119900="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_mxn_inclusive_119900",e.NewYears2022TwelveMonth5999="com_duolingo_stripe_subscription_premium_twelvemonth_ny_2022_5999",e.NewYears2022TwelveMonthFamilyAUD17499="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_aud_inclusive_17499",e.NewYears2022TwelveMonthFamilyBRL26990="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_brl_inclusive_26990",e.NewYears2022TwelveMonthFamilyCAD14999="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_cad_inclusive_14999",e.NewYears2022TwelveMonthFamilyEUR12299="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_eur_inclusive_12299",e.NewYears2022TwelveMonthFamilyGBP8999="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_gbp_inclusive_8999",e.NewYears2022TwelveMonthFamilyJPY1320000="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_jpy_inclusive_1320000",e.NewYears2022TwelveMonthFamilyMXN199900="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_mxn_inclusive_199900",e.NewYears2022TwelveMonthFamily11999="com_duolingo_stripe_subscription_premium_fam_twelvemonth_ny_2022_11999",e.NewYears2022OneMonth14TrialAUD2099="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_aud_inclusive_2099",e.NewYears2022OneMonth14TrialBRL2990="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_brl_inclusive_2990",e.NewYears2022OneMonth14TrialCAD1749="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_cad_inclusive_1749",e.NewYears2022OneMonth14TrialEUR1399="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_eur_inclusive_1399",e.NewYears2022OneMonth14TrialGBP1249="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_gbp_inclusive_1249",e.NewYears2022OneMonth14TrialJPY140000="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_jpy_inclusive_140000",e.NewYears2022OneMonth14TrialMXN25900="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_mxn_inclusive_25900",e.NewYears2022OneMonth14Trial1299="com_duolingo_stripe_subscription_premium_trial14_onemonth_ny_2022_1299",e.NewYears2022TwelveMonth14TrialAUD9999="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_aud_inclusive_9999",e.NewYears2022TwelveMonth14TrialBRL14290="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_brl_inclusive_14290",e.NewYears2022TwelveMonth14TrialCAD8399="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_cad_inclusive_8399",e.NewYears2022TwelveMonth14TrialEUR6599="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_eur_inclusive_6599",e.NewYears2022TwelveMonth14TrialGBP4799="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_gbp_inclusive_4799",e.NewYears2022TwelveMonth14TrialJPY720000="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_jpy_inclusive_720000",e.NewYears2022TwelveMonth14TrialMXN119900="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_mxn_inclusive_119900",e.NewYears2022TwelveMonth14Trial5999="com_duolingo_stripe_subscription_premium_trial14_twelvemonth_ny_2022_5999",e.NewYears2022TwelveMonthFamily14TrialAUD17499="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_aud_inclusive_17499",e.NewYears2022TwelveMonthFamily14TrialBRL26990="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_brl_inclusive_26990",e.NewYears2022TwelveMonthFamily14TrialCAD14999="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_cad_inclusive_14999",e.NewYears2022TwelveMonthFamily14TrialEUR12299="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_eur_inclusive_12299",e.NewYears2022TwelveMonthFamily14TrialGBP8999="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_gbp_inclusive_8999",e.NewYears2022TwelveMonthFamily14TrialJPY1320000="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_jpy_inclusive_1320000",e.NewYears2022TwelveMonthFamily14TrialMXN199900="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_mxn_inclusive_199900",e.NewYears2022TwelveMonthFamily14Trial11999="com_duolingo_stripe_subscription_premium_trial14_fam_twelvemonth_ny_2022_11999"}(r||(r={})),function(e){e[e.OneMonth=0]="OneMonth",e[e.OneMonth14Trial=1]="OneMonth14Trial",e[e.OneMonthWinback14Trial=2]="OneMonthWinback14Trial",e[e.TwelveMonth=3]="TwelveMonth",e[e.TwelveMonth14Trial=4]="TwelveMonth14Trial",e[e.TwelveMonthWinback14Trial=5]="TwelveMonthWinback14Trial",e[e.TwelveMonthFamily=6]="TwelveMonthFamily",e[e.TwelveMonthFamily14Trial=7]="TwelveMonthFamily14Trial",e[e.TwelveMonthFamilyWinBack14Trial=8]="TwelveMonthFamilyWinBack14Trial",e[e.NewYears2022OneMonth=9]="NewYears2022OneMonth",e[e.NewYears2022TwelveMonth=10]="NewYears2022TwelveMonth",e[e.NewYears2022TwelveMonthFamily=11]="NewYears2022TwelveMonthFamily",e[e.NewYears2022OneMonth14Trial=12]="NewYears2022OneMonth14Trial",e[e.NewYears2022TwelveMonth14Trial=13]="NewYears2022TwelveMonth14Trial",e[e.NewYears2022TwelveMonthFamily14Trial=14]="NewYears2022TwelveMonthFamily14Trial"}(s||(s={}));const y=["AUD","BRL","CAD","EUR","GBP","JPY","MXN","USD"],E=e=>(e=>void 0!==y.find((t=>t===e)))(e)?e:"USD",b={AT:"EUR",AU:"AUD",BE:"EUR",BR:"BRL",CA:"CAD",CY:"EUR",DE:"EUR",EE:"EUR",ES:"EUR",FI:"EUR",FR:"EUR",GB:"GBP",GR:"EUR",IE:"EUR",IT:"EUR",JP:"JPY",LT:"EUR",LU:"EUR",LV:"EUR",MX:"MXN",NL:"EUR",PT:"EUR",SI:"EUR",SK:"EUR",US:"USD"},S=e=>{var t;return null!==(t=b[e])&&void 0!==t?t:"USD"},w=["BY","ID","IN","RU","TH","VN"],T=e=>(0,u.g)(e)&&w.includes(e),I={[s.OneMonth]:{AUD:r.OneMonthAUD2149,BRL:r.OneMonthBRL2990,CAD:r.OneMonthCAD1749,EUR:r.OneMonthEUR1399,GBP:r.OneMonthGBP1249,JPY:r.OneMonthJPY140000,MXN:r.OneMonthMXN25900,USD:r.OneMonth1299},[s.OneMonth14Trial]:{AUD:r.OneMonth14TrialAUD2149,BRL:r.OneMonth14TrialBRL2990,CAD:r.OneMonth14TrialCAD1749,EUR:r.OneMonth14TrialEUR1399,GBP:r.OneMonth14TrialGBP1249,JPY:r.OneMonth14TrialJPY140000,MXN:r.OneMonth14TrialMXN25900,USD:r.OneMonth14Trial1299},[s.OneMonthWinback14Trial]:{AUD:r.OneMonthWinback14TrialAUD2149,BRL:r.OneMonthWinback14TrialBRL2990,CAD:r.OneMonthWinback14TrialCAD1749,EUR:r.OneMonthWinback14TrialEUR1399,GBP:r.OneMonthWinback14TrialGBP1249,JPY:r.OneMonthWinback14TrialJPY140000,MXN:r.OneMonthWinback14TrialMXN25900,USD:r.OneMonthWinback14Trial1299},[s.TwelveMonth]:{AUD:r.TwelveMonthAUD12999,BRL:r.TwelveMonthBRL17990,CAD:r.TwelveMonthCAD10699,EUR:r.TwelveMonthEUR8799,GBP:r.TwelveMonthGBP7799,JPY:r.TwelveMonthJPY860000,MXN:r.TwelveMonthMXN159900,USD:r.TwelveMonth8388},[s.TwelveMonth14Trial]:{AUD:r.TwelveMonth14TrialAUD12999,BRL:r.TwelveMonth14TrialBRL17990,CAD:r.TwelveMonth14TrialCAD10699,EUR:r.TwelveMonth14TrialEUR8799,GBP:r.TwelveMonth14TrialGBP7799V2,JPY:r.TwelveMonth14TrialJPY860000,MXN:r.TwelveMonth14TrialMXN159900,USD:r.TwelveMonth14Trial8388},[s.TwelveMonthWinback14Trial]:{AUD:r.TwelveMonthWinback14TrialAUD12999,BRL:r.TwelveMonthWinback14TrialBRL17990,CAD:r.TwelveMonthWinback14TrialCAD10699,EUR:r.TwelveMonthWinback14TrialEUR8799,GBP:r.TwelveMonthWinback14TrialGBP7799,JPY:r.TwelveMonthWinback14TrialJPY860000,MXN:r.TwelveMonthWinback14TrialMXN159900,USD:r.TwelveMonthWinback14Trial8388},[s.TwelveMonthFamily]:{AUD:r.TwelveMonthFamilyAUD17499,BRL:r.TwelveMonthFamilyBRL26990,CAD:r.TwelveMonthFamilyCAD14999,EUR:r.TwelveMonthFamilyEUR12299,GBP:r.TwelveMonthFamilyGBP8999,JPY:r.TwelveMonthFamilyJPY1320000,MXN:r.TwelveMonthFamilyMXN199900,USD:r.TwelveMonthFamily11999},[s.TwelveMonthFamily14Trial]:{AUD:r.TwelveMonthFamily14TrialAUD17499,BRL:r.TwelveMonthFamily14TrialBRL26990,CAD:r.TwelveMonthFamily14TrialCAD14999,EUR:r.TwelveMonthFamily14TrialEUR12299,GBP:r.TwelveMonthFamily14TrialGBP8999,JPY:r.TwelveMonthFamily14TrialJPY1320000,MXN:r.TwelveMonthFamily14TrialMXN199900,USD:r.TwelveMonthFamily14Trial11999},[s.TwelveMonthFamilyWinBack14Trial]:{AUD:r.TwelveMonthFamilyWinBack14TrialAUD17499,BRL:r.TwelveMonthFamilyWinBack14TrialBRL26990,CAD:r.TwelveMonthFamilyWinBack14TrialCAD14999,EUR:r.TwelveMonthFamilyWinBack14TrialEUR12299,GBP:r.TwelveMonthFamilyWinBack14TrialGBP8999,JPY:r.TwelveMonthFamilyWinBack14TrialJPY1320000,MXN:r.TwelveMonthFamilyWinBack14TrialMXN199900,USD:r.TwelveMonthFamilyWinBack14Trial11999},[s.NewYears2022OneMonth]:{AUD:r.NewYears2022OneMonthAUD2099,BRL:r.NewYears2022OneMonthBRL2990,CAD:r.NewYears2022OneMonthCAD1749,EUR:r.NewYears2022OneMonthEUR1399,GBP:r.NewYears2022OneMonthGBP1249,JPY:r.NewYears2022OneMonthJPY140000,MXN:r.NewYears2022OneMonthMXN25900,USD:r.NewYears2022OneMonth1299},[s.NewYears2022TwelveMonth]:{AUD:r.NewYears2022TwelveMonthAUD9999,BRL:r.NewYears2022TwelveMonthBRL14290,CAD:r.NewYears2022TwelveMonthCAD8399,EUR:r.NewYears2022TwelveMonthEUR6599,GBP:r.NewYears2022TwelveMonthGBP4799,JPY:r.NewYears2022TwelveMonthJPY720000,MXN:r.NewYears2022TwelveMonthMXN119900,USD:r.NewYears2022TwelveMonth5999},[s.NewYears2022TwelveMonthFamily]:{AUD:r.NewYears2022TwelveMonthFamilyAUD17499,BRL:r.NewYears2022TwelveMonthFamilyBRL26990,CAD:r.NewYears2022TwelveMonthFamilyCAD14999,EUR:r.NewYears2022TwelveMonthFamilyEUR12299,GBP:r.NewYears2022TwelveMonthFamilyGBP8999,JPY:r.NewYears2022TwelveMonthFamilyJPY1320000,MXN:r.NewYears2022TwelveMonthFamilyMXN199900,USD:r.NewYears2022TwelveMonthFamily11999},[s.NewYears2022OneMonth14Trial]:{AUD:r.NewYears2022OneMonth14TrialAUD2099,BRL:r.NewYears2022OneMonth14TrialBRL2990,CAD:r.NewYears2022OneMonth14TrialCAD1749,EUR:r.NewYears2022OneMonth14TrialEUR1399,GBP:r.NewYears2022OneMonth14TrialGBP1249,JPY:r.NewYears2022OneMonth14TrialJPY140000,MXN:r.NewYears2022OneMonth14TrialMXN25900,USD:r.NewYears2022OneMonth14Trial1299},[s.NewYears2022TwelveMonth14Trial]:{AUD:r.NewYears2022TwelveMonth14TrialAUD9999,BRL:r.NewYears2022TwelveMonth14TrialBRL14290,CAD:r.NewYears2022TwelveMonth14TrialCAD8399,EUR:r.NewYears2022TwelveMonth14TrialEUR6599,GBP:r.NewYears2022TwelveMonth14TrialGBP4799,JPY:r.NewYears2022TwelveMonth14TrialJPY720000,MXN:r.NewYears2022TwelveMonth14TrialMXN119900,USD:r.NewYears2022TwelveMonth14Trial5999},[s.NewYears2022TwelveMonthFamily14Trial]:{AUD:r.NewYears2022TwelveMonthFamily14TrialAUD17499,BRL:r.NewYears2022TwelveMonthFamily14TrialBRL26990,CAD:r.NewYears2022TwelveMonthFamily14TrialCAD14999,EUR:r.NewYears2022TwelveMonthFamily14TrialEUR12299,GBP:r.NewYears2022TwelveMonthFamily14TrialGBP8999,JPY:r.NewYears2022TwelveMonthFamily14TrialJPY1320000,MXN:r.NewYears2022TwelveMonthFamily14TrialMXN199900,USD:r.NewYears2022TwelveMonthFamily14Trial11999}};var k;!function(e){e[e.OneMonth=0]="OneMonth",e[e.TwelveMonth=1]="TwelveMonth",e[e.FamilyPlan=2]="FamilyPlan"}(k||(k={})),o.AmericanExpress,o.DinersClub,o.Discover,o.JCB,o.MasterCard,o.Visa;const R={[o.AmericanExpress]:"amex",[o.DinersClub]:"diners",[o.Discover]:"discover",[o.JCB]:"jcb",[o.MasterCard]:"mastercard",[o.Visa]:"visa"},C={[o.AmericanExpress]:"American Express",[o.DinersClub]:"Diners Club",[o.Discover]:"Discover",[o.JCB]:"JCB",[o.MasterCard]:"MasterCard",[o.Visa]:"Visa"},O=({isWinbackOffer:e,shopCurrency:t,shouldUseFreeTrial:n,subscriptionPlan:o})=>{var i,a;const l=null!=t?t:"USD",c=((e,t,n)=>{switch(t){case k.OneMonth:return n?e?s.OneMonthWinback14Trial:s.OneMonth14Trial:s.OneMonth;case k.TwelveMonth:return n?e?s.TwelveMonthWinback14Trial:s.TwelveMonth14Trial:s.TwelveMonth;case k.FamilyPlan:return n?e?s.TwelveMonthFamilyWinBack14Trial:s.TwelveMonthFamily14Trial:s.TwelveMonthFamily;default:return(0,m.RJ)(t),(0,_.vU)("Unable to get product id for the given subscription length",{data:{SubscriptionPlan:k}}),s.OneMonth}})(e,o,n);return null!==(a=null!==(i=I[c][l])&&void 0!==i?i:I[c].USD)&&void 0!==a?a:r.OneMonth1299};var N,P;!function(e){e.Schools="DUOLINGO_SCHOOLS",e.Duolingo="DUOLINGO"}(N||(N={})),function(e){e.Plus="Duolingo Plus"}(P||(P={}));const L={[N.Duolingo]:P.Plus},A={[r.LegacyOneMonth999]:{currency:"USD",periodLength:1,price:999,trialPeriod:0},[r.OneMonth749]:{currency:"USD",periodLength:1,price:749,trialPeriod:0},[r.OneMonth999]:{currency:"USD",periodLength:1,price:999,trialPeriod:0},[r.SixMonth3594]:{currency:"USD",periodLength:6,price:3594,trialPeriod:0},[r.SixMonth4794]:{currency:"USD",periodLength:6,price:4794,trialPeriod:0},[r.TierOneMonth999]:{currency:"USD",periodLength:1,price:999,trialPeriod:0},[r.TierSixMonth4794]:{currency:"USD",periodLength:6,price:4794,trialPeriod:0},[r.TierTwelveMonth7188]:{currency:"USD",periodLength:12,price:7188,trialPeriod:0},[r.TwelveMonth5988]:{currency:"USD",periodLength:12,price:5988,trialPeriod:0},[r.TwelveMonth6288]:{currency:"USD",periodLength:12,price:6288,trialPeriod:0},[r.TwelveMonth7188]:{currency:"USD",periodLength:12,price:7188,trialPeriod:0},[r.TwelveMonth8388]:{currency:"USD",periodLength:12,price:8388,trialPeriod:0},[r.OneMonth799]:{currency:"USD",periodLength:1,price:799,trialPeriod:0},[r.OneMonth1199]:{currency:"USD",periodLength:1,price:1199,trialPeriod:0},[r.SixMonth3799]:{currency:"USD",periodLength:6,price:3799,trialPeriod:0},[r.SixMonth5699]:{currency:"USD",periodLength:6,price:5699,trialPeriod:0},[r.TwelveMonth6399]:{currency:"USD",periodLength:12,price:6399,trialPeriod:0},[r.TwelveMonth9599]:{currency:"USD",periodLength:12,price:9599,trialPeriod:0},[r.OneMonthTrial999]:{currency:"USD",periodLength:1,price:999,trialPeriod:7},[r.SixMonthTrial4794]:{currency:"USD",periodLength:6,price:4794,trialPeriod:7},[r.TwelveMonthTrial8388]:{currency:"USD",periodLength:12,price:8388,trialPeriod:7},[r.OneMonth14Trial1299]:{currency:"USD",periodLength:1,price:1299,trialPeriod:14},[r.SixMonth14Trial4794]:{currency:"USD",periodLength:6,price:4794,trialPeriod:14},[r.TwelveMonth14Trial8388]:{currency:"USD",periodLength:12,price:8388,trialPeriod:14},[r.OneMonthWinback14Trial1299]:{currency:"USD",isWinback:!0,periodLength:1,price:1299,trialPeriod:14},[r.SixMonthWinback14Trial4794]:{currency:"USD",isWinback:!0,periodLength:6,price:4794,trialPeriod:14},[r.TwelveMonthWinback14Trial8388]:{currency:"USD",isWinback:!0,periodLength:12,price:8388,trialPeriod:14},[r.NewYears2020P7799]:{currency:"USD",periodLength:12,price:7799,trialPeriod:0},[r.NewYears2020P5999]:{currency:"USD",periodLength:12,price:5999,trialPeriod:0},[r.OneMonth1299]:{currency:"USD",periodLength:1,price:1299,trialPeriod:0},[r.OneMonthTrial1299]:{currency:"USD",periodLength:1,price:1299,trialPeriod:7},[r.StudentOneMonth499]:{currency:"USD",periodLength:1,price:499,trialPeriod:0},[r.StudentOneMonth649]:{currency:"USD",periodLength:1,price:649,trialPeriod:0},[r.StudentSixMonth2394]:{currency:"USD",periodLength:6,price:2394,trialPeriod:0},[r.StudentTwelveMonth4188]:{currency:"USD",periodLength:12,price:4188,trialPeriod:0},[r.StudentOneMonthTrial499]:{currency:"USD",periodLength:1,price:499,trialPeriod:7},[r.StudentOneMonthTrial649]:{currency:"USD",periodLength:1,price:649,trialPeriod:7},[r.StudentSixMonthTrial2394]:{currency:"USD",periodLength:6,price:2394,trialPeriod:7},[r.StudentTwelveMonthTrial4188]:{currency:"USD",periodLength:12,price:4188,trialPeriod:7},[r.NewYears2021OneMonth1299]:{currency:"USD",isNY:!0,periodLength:1,price:1299,trialPeriod:0},[r.NewYears2021TwelveMonth5988]:{currency:"USD",isNY:!0,periodLength:12,price:5988,trialPeriod:0},[r.NewYears2021TwelveMonth90Trial8388]:{currency:"USD",isNY:!0,periodLength:12,price:8388,trialPeriod:90},[r.OneMonthAUD2149]:{currency:"AUD",periodLength:1,price:2149,trialPeriod:0},[r.OneMonthBRL5390]:{currency:"BRL",periodLength:1,price:5390,trialPeriod:0},[r.OneMonthBRL2990]:{currency:"BRL",periodLength:1,price:2990,trialPeriod:0},[r.OneMonthCAD1749]:{currency:"CAD",periodLength:1,price:1749,trialPeriod:0},[r.OneMonthEUR1399]:{currency:"EUR",periodLength:1,price:1399,trialPeriod:0},[r.OneMonthGBP1249]:{currency:"GBP",periodLength:1,price:1249,trialPeriod:0},[r.OneMonthJPY140000]:{currency:"JPY",periodLength:1,price:14e4,trialPeriod:0},[r.OneMonthMXN25900]:{currency:"MXN",periodLength:1,price:25900,trialPeriod:0},[r.OneMonth14TrialAUD2149]:{currency:"AUD",periodLength:1,price:2149,trialPeriod:14},[r.OneMonth14TrialBRL5390]:{currency:"BRL",periodLength:1,price:5390,trialPeriod:14},[r.OneMonth14TrialBRL2990]:{currency:"BRL",periodLength:1,price:2990,trialPeriod:14},[r.OneMonth14TrialCAD1749]:{currency:"CAD",periodLength:1,price:1749,trialPeriod:14},[r.OneMonth14TrialEUR1399]:{currency:"EUR",periodLength:1,price:1399,trialPeriod:14},[r.OneMonth14TrialGBP1249]:{currency:"GBP",periodLength:1,price:1249,trialPeriod:14},[r.OneMonth14TrialJPY140000]:{currency:"JPY",periodLength:1,price:14e4,trialPeriod:14},[r.OneMonth14TrialMXN25900]:{currency:"MXN",periodLength:1,price:25900,trialPeriod:14},[r.OneMonthWinback14TrialAUD2149]:{currency:"AUD",isWinback:!0,periodLength:1,price:2149,trialPeriod:14},[r.OneMonthWinback14TrialBRL5390]:{currency:"BRL",isWinback:!0,periodLength:1,price:5390,trialPeriod:14},[r.OneMonthWinback14TrialBRL2990]:{currency:"BRL",isWinback:!0,periodLength:1,price:2990,trialPeriod:14},[r.OneMonthWinback14TrialCAD1749]:{currency:"CAD",isWinback:!0,periodLength:1,price:1749,trialPeriod:14},[r.OneMonthWinback14TrialEUR1399]:{currency:"EUR",isWinback:!0,periodLength:1,price:1399,trialPeriod:14},[r.OneMonthWinback14TrialGBP1249]:{currency:"GBP",isWinback:!0,periodLength:1,price:1249,trialPeriod:14},[r.OneMonthWinback14TrialJPY140000]:{currency:"JPY",isWinback:!0,periodLength:1,price:14e4,trialPeriod:14},[r.OneMonthWinback14TrialMXN25900]:{currency:"MXN",isWinback:!0,periodLength:1,price:25900,trialPeriod:14},[r.TwelveMonthAUD12999]:{currency:"AUD",periodLength:12,price:12999,trialPeriod:0},[r.TwelveMonthBRL32990]:{currency:"BRL",periodLength:12,price:32990,trialPeriod:0},[r.TwelveMonthBRL17990]:{currency:"BRL",periodLength:12,price:17990,trialPeriod:0},[r.TwelveMonthCAD10699]:{currency:"CAD",periodLength:12,price:10699,trialPeriod:0},[r.TwelveMonthEUR8799]:{currency:"EUR",periodLength:12,price:8799,trialPeriod:0},[r.TwelveMonthGBP7799]:{currency:"GBP",periodLength:12,price:7799,trialPeriod:0},[r.TwelveMonthJPY860000]:{currency:"JPY",periodLength:12,price:86e4,trialPeriod:0},[r.TwelveMonthMXN159900]:{currency:"MXN",periodLength:12,price:159900,trialPeriod:0},[r.TwelveMonth14TrialAUD12999]:{currency:"AUD",periodLength:12,price:12999,trialPeriod:14},[r.TwelveMonth14TrialBRL32990]:{currency:"BRL",periodLength:12,price:32990,trialPeriod:14},[r.TwelveMonth14TrialBRL17990]:{currency:"BRL",periodLength:12,price:17990,trialPeriod:14},[r.TwelveMonth14TrialCAD10699]:{currency:"CAD",periodLength:12,price:10699,trialPeriod:14},[r.TwelveMonth14TrialEUR8799]:{currency:"EUR",periodLength:12,price:8799,trialPeriod:14},[r.TwelveMonth14TrialGBP7799]:{currency:"EUR",periodLength:12,price:7799,trialPeriod:14},[r.TwelveMonth14TrialGBP7799V2]:{currency:"GBP",periodLength:12,price:7799,trialPeriod:14},[r.TwelveMonth14TrialJPY860000]:{currency:"JPY",periodLength:12,price:86e4,trialPeriod:14},[r.TwelveMonth14TrialMXN159900]:{currency:"MXN",periodLength:12,price:159900,trialPeriod:14},[r.TwelveMonthWinback14TrialAUD12999]:{currency:"AUD",isWinback:!0,periodLength:12,price:12999,trialPeriod:14},[r.TwelveMonthWinback14TrialBRL32990]:{currency:"BRL",isWinback:!0,periodLength:12,price:32990,trialPeriod:14},[r.TwelveMonthWinback14TrialBRL17990]:{currency:"BRL",isWinback:!0,periodLength:12,price:17990,trialPeriod:14},[r.TwelveMonthWinback14TrialCAD10699]:{currency:"CAD",isWinback:!0,periodLength:12,price:10699,trialPeriod:14},[r.TwelveMonthWinback14TrialEUR8799]:{currency:"EUR",isWinback:!0,periodLength:12,price:8799,trialPeriod:14},[r.TwelveMonthWinback14TrialGBP7799]:{currency:"GBP",isWinback:!0,periodLength:12,price:7799,trialPeriod:14},[r.TwelveMonthWinback14TrialJPY860000]:{currency:"JPY",isWinback:!0,periodLength:12,price:86e4,trialPeriod:14},[r.TwelveMonthWinback14TrialMXN159900]:{currency:"MXN",isWinback:!0,periodLength:12,price:159900,trialPeriod:14},[r.TwelveMonthFamilyAUD17499]:{currency:"AUD",isFamilyPlan:!0,periodLength:12,price:17499,trialPeriod:0},[r.TwelveMonthFamilyBRL64990]:{currency:"BRL",isFamilyPlan:!0,periodLength:12,price:64990,trialPeriod:0},[r.TwelveMonthFamilyBRL26990]:{currency:"BRL",isFamilyPlan:!0,periodLength:12,price:26990,trialPeriod:0},[r.TwelveMonthFamilyCAD14999]:{currency:"CAD",isFamilyPlan:!0,periodLength:12,price:14999,trialPeriod:0},[r.TwelveMonthFamilyEUR12299]:{currency:"EUR",isFamilyPlan:!0,periodLength:12,price:12299,trialPeriod:0},[r.TwelveMonthFamilyGBP8999]:{currency:"GBP",isFamilyPlan:!0,periodLength:12,price:8999,trialPeriod:0},[r.TwelveMonthFamilyJPY1320000]:{currency:"JPY",isFamilyPlan:!0,periodLength:12,price:132e4,trialPeriod:0},[r.TwelveMonthFamilyMXN199900]:{currency:"MXN",isFamilyPlan:!0,periodLength:12,price:199900,trialPeriod:0},[r.TwelveMonthFamily11999]:{currency:"USD",isFamilyPlan:!0,periodLength:12,price:11999,trialPeriod:0},[r.TwelveMonthFamily14TrialAUD17499]:{currency:"AUD",isFamilyPlan:!0,periodLength:12,price:17499,trialPeriod:14},[r.TwelveMonthFamily14TrialBRL64990]:{currency:"BRL",isFamilyPlan:!0,periodLength:12,price:64990,trialPeriod:14},[r.TwelveMonthFamily14TrialBRL26990]:{currency:"BRL",isFamilyPlan:!0,periodLength:12,price:26990,trialPeriod:14},[r.TwelveMonthFamily14TrialCAD14999]:{currency:"CAD",isFamilyPlan:!0,periodLength:12,price:14999,trialPeriod:14},[r.TwelveMonthFamily14TrialEUR12299]:{currency:"EUR",isFamilyPlan:!0,periodLength:12,price:12299,trialPeriod:14},[r.TwelveMonthFamily14TrialGBP8999]:{currency:"GBP",isFamilyPlan:!0,periodLength:12,price:8999,trialPeriod:14},[r.TwelveMonthFamily14TrialJPY1320000]:{currency:"JPY",isFamilyPlan:!0,periodLength:12,price:132e4,trialPeriod:14},[r.TwelveMonthFamily14TrialMXN199900]:{currency:"MXN",isFamilyPlan:!0,periodLength:12,price:199900,trialPeriod:14},[r.TwelveMonthFamily14Trial11999]:{currency:"USD",isFamilyPlan:!0,periodLength:12,price:11999,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialAUD17499]:{currency:"AUD",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:17499,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialBRL64990]:{currency:"BRL",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:64990,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialBRL26990]:{currency:"BRL",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:26990,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialCAD14999]:{currency:"CAD",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:14999,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialEUR12299]:{currency:"EUR",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:12299,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialGBP8999]:{currency:"GBP",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:8999,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialJPY1320000]:{currency:"JPY",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:132e4,trialPeriod:14},[r.TwelveMonthFamilyWinBack14TrialMXN199900]:{currency:"MXN",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:199900,trialPeriod:14},[r.TwelveMonthFamilyWinBack14Trial11999]:{currency:"USD",isFamilyPlan:!0,isWinback:!0,periodLength:12,price:11999,trialPeriod:14},[r.NewYears2022OneMonthAUD2099]:{currency:"AUD",isFamilyPlan:!1,isNY:!0,periodLength:1,price:2099,trialPeriod:0},[r.NewYears2022OneMonthBRL2990]:{currency:"BRL",isFamilyPlan:!1,isNY:!0,periodLength:1,price:2990,trialPeriod:0},[r.NewYears2022OneMonthCAD1749]:{currency:"CAD",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1749,trialPeriod:0},[r.NewYears2022OneMonthEUR1399]:{currency:"EUR",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1399,trialPeriod:0},[r.NewYears2022OneMonthGBP1249]:{currency:"GBP",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1249,trialPeriod:0},[r.NewYears2022OneMonthJPY140000]:{currency:"JPY",isFamilyPlan:!1,isNY:!0,periodLength:1,price:14e4,trialPeriod:0},[r.NewYears2022OneMonthMXN25900]:{currency:"MXN",isFamilyPlan:!1,isNY:!0,periodLength:1,price:25900,trialPeriod:0},[r.NewYears2022OneMonth1299]:{currency:"USD",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1299,trialPeriod:0},[r.NewYears2022TwelveMonthAUD9999]:{currency:"AUD",isFamilyPlan:!1,isNY:!0,periodLength:12,price:9999,trialPeriod:0},[r.NewYears2022TwelveMonthBRL14290]:{currency:"BRL",isFamilyPlan:!1,isNY:!0,periodLength:12,price:14290,trialPeriod:0},[r.NewYears2022TwelveMonthCAD8399]:{currency:"CAD",isFamilyPlan:!1,isNY:!0,periodLength:12,price:8399,trialPeriod:0},[r.NewYears2022TwelveMonthEUR6599]:{currency:"EUR",isFamilyPlan:!1,isNY:!0,periodLength:12,price:6599,trialPeriod:0},[r.NewYears2022TwelveMonthGBP4799]:{currency:"GBP",isFamilyPlan:!1,isNY:!0,periodLength:12,price:4799,trialPeriod:0},[r.NewYears2022TwelveMonthJPY720000]:{currency:"JPY",isFamilyPlan:!1,isNY:!0,periodLength:12,price:72e4,trialPeriod:0},[r.NewYears2022TwelveMonthMXN119900]:{currency:"MXN",isFamilyPlan:!1,isNY:!0,periodLength:12,price:119900,trialPeriod:0},[r.NewYears2022TwelveMonth5999]:{currency:"USD",isFamilyPlan:!1,isNY:!0,periodLength:12,price:5999,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyAUD17499]:{currency:"AUD",isFamilyPlan:!0,isNY:!0,periodLength:12,price:17499,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyBRL26990]:{currency:"BRL",isFamilyPlan:!0,isNY:!0,periodLength:12,price:26990,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyCAD14999]:{currency:"CAD",isFamilyPlan:!0,isNY:!0,periodLength:12,price:14999,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyEUR12299]:{currency:"EUR",isFamilyPlan:!0,isNY:!0,periodLength:12,price:12299,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyGBP8999]:{currency:"GBP",isFamilyPlan:!0,isNY:!0,periodLength:12,price:8999,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyJPY1320000]:{currency:"JPY",isFamilyPlan:!0,isNY:!0,periodLength:12,price:132e4,trialPeriod:0},[r.NewYears2022TwelveMonthFamilyMXN199900]:{currency:"MXN",isFamilyPlan:!0,isNY:!0,periodLength:12,price:199900,trialPeriod:0},[r.NewYears2022TwelveMonthFamily11999]:{currency:"USD",isFamilyPlan:!0,isNY:!0,periodLength:12,price:11999,trialPeriod:0},[r.NewYears2022OneMonth14TrialAUD2099]:{currency:"AUD",isFamilyPlan:!1,isNY:!0,periodLength:1,price:2099,trialPeriod:14},[r.NewYears2022OneMonth14TrialBRL2990]:{currency:"BRL",isFamilyPlan:!1,isNY:!0,periodLength:1,price:2990,trialPeriod:14},[r.NewYears2022OneMonth14TrialCAD1749]:{currency:"CAD",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1749,trialPeriod:14},[r.NewYears2022OneMonth14TrialEUR1399]:{currency:"EUR",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1399,trialPeriod:14},[r.NewYears2022OneMonth14TrialGBP1249]:{currency:"GBP",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1249,trialPeriod:14},[r.NewYears2022OneMonth14TrialJPY140000]:{currency:"JPY",isFamilyPlan:!1,isNY:!0,periodLength:1,price:14e4,trialPeriod:14},[r.NewYears2022OneMonth14TrialMXN25900]:{currency:"MXN",isFamilyPlan:!1,isNY:!0,periodLength:1,price:25900,trialPeriod:14},[r.NewYears2022OneMonth14Trial1299]:{currency:"USD",isFamilyPlan:!1,isNY:!0,periodLength:1,price:1299,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialAUD9999]:{currency:"AUD",isFamilyPlan:!1,isNY:!0,periodLength:12,price:9999,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialBRL14290]:{currency:"BRL",isFamilyPlan:!1,isNY:!0,periodLength:12,price:14290,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialCAD8399]:{currency:"CAD",isFamilyPlan:!1,isNY:!0,periodLength:12,price:8399,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialEUR6599]:{currency:"EUR",isFamilyPlan:!1,isNY:!0,periodLength:12,price:6599,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialGBP4799]:{currency:"GBP",isFamilyPlan:!1,isNY:!0,periodLength:12,price:4799,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialJPY720000]:{currency:"JPY",isFamilyPlan:!1,isNY:!0,periodLength:12,price:72e4,trialPeriod:14},[r.NewYears2022TwelveMonth14TrialMXN119900]:{currency:"MXN",isFamilyPlan:!1,isNY:!0,periodLength:12,price:119900,trialPeriod:14},[r.NewYears2022TwelveMonth14Trial5999]:{currency:"USD",isFamilyPlan:!1,isNY:!0,periodLength:12,price:5999,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialAUD17499]:{currency:"AUD",isFamilyPlan:!0,isNY:!0,periodLength:12,price:17499,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialBRL26990]:{currency:"BRL",isFamilyPlan:!0,isNY:!0,periodLength:12,price:26990,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialCAD14999]:{currency:"CAD",isFamilyPlan:!0,isNY:!0,periodLength:12,price:14999,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialEUR12299]:{currency:"EUR",isFamilyPlan:!0,isNY:!0,periodLength:12,price:12299,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialGBP8999]:{currency:"GBP",isFamilyPlan:!0,isNY:!0,periodLength:12,price:8999,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialJPY1320000]:{currency:"JPY",isFamilyPlan:!0,isNY:!0,periodLength:12,price:132e4,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14TrialMXN199900]:{currency:"MXN",isFamilyPlan:!0,isNY:!0,periodLength:12,price:199900,trialPeriod:14},[r.NewYears2022TwelveMonthFamily14Trial11999]:{currency:"USD",isFamilyPlan:!0,isNY:!0,periodLength:12,price:11999,trialPeriod:14}},D=l.IH((()=>f(void 0,void 0,void 0,(function*(){const e=(0,p.gQ)("debugStripe")?"pk_test_bpwxgxXy49mckw94PW2hhVnS":"pk_live_wGV2ziRFq7KJLNaVUAJgrzDf";a.loadStripe.setLoadParameters({advancedFraudSignals:!1});const t=yield(0,a.loadStripe)(e);if(null===t)throw Error("stripe could not be loaded");return t})))),x=l.IH((()=>f(void 0,void 0,void 0,(function*(){const e=yield D(),t=window.ApplePaySession;if(t&&(t.canMakePaymentsWithActiveCard=()=>Promise.resolve(t.canMakePayments())),e){const t=e.paymentRequest({country:"US",currency:"usd",total:{amount:1e3,label:"Test Amount"}}),n=yield t.canMakePayment();(0,v.j)("supported_web_payment_options",{supported_web_payment_options:n?n.applePay?"ApplePay":"PaymentRequestAPI":"None"})}})))),M=(e,t,n)=>f(void 0,void 0,void 0,(function*(){var o;if(!e)throw Error("no cardNumberElement provided");{const i=yield D(),{token:r,error:s}=yield i.createToken(e,Object.assign({name:t},n&&{address_zip:n}));if(s)throw Error(null!==(o=s.code)&&void 0!==o?o:"unknown error creating token");if(r)return r.id}throw Error("unknown error creating token")})),U=(e,t,n,o)=>{const i=`${(0,g.M$)(window.duo.uiLanguage)}-${null!=n?n:"US"}`,r=Intl.NumberFormat.supportedLocalesOf(i,{localeMatcher:"lookup"}).length>0?i:(0,g.BE)(),s=o?{maximumFractionDigits:0,minimumFractionDigits:0}:{},a=new Intl.NumberFormat(r,Object.assign({currency:t,style:"currency"},s)).format(e/100);return"AUD"!==t||a.includes("A")?"CAD"!==t||a.includes("CA")?"MXN"!==t||a.includes("MX")?"USD"!==t||a.includes("US")?a:`${a} USD`:`${a} MXN`:`${a} CAD`:`${a} AUD`},F=(e,t)=>{const n=A[e];return U(Math.floor(n.price/n.periodLength),n.currency,t)},j=e=>A[e].price,B=(e,t)=>{const n=A[e];return U(n.price,n.currency,t)},H=e=>A[e].periodLength,G=e=>A[e].trialPeriod,V=14,Z=2,W=e=>A[e].currency,z="com.duolingo.immersive_free_trial_subscription",Y=e=>e===z,$=e=>l.XP(A).some((t=>t===e)),K=e=>G(e)>0,q=e=>{var t;return null!==(t=(e=>A[e].isNY)(e))&&void 0!==t&&t},J=e=>{var t;return null!==(t=(e=>A[e].isWinback)(e))&&void 0!==t&&t},X=e=>"USD"!==W(e),Q=e=>{var t;return null!==(t=A[e].isFamilyPlan)&&void 0!==t&&t},ee=(e,t,n,o)=>{const i=O({isWinbackOffer:t,shopCurrency:e,shouldUseFreeTrial:n,subscriptionPlan:k.TwelveMonth});return{cheapestRegularMonthlyPrice:F(i,o)}},te=e=>{var t,n,o,i,r,s,a;const l=null!==(n=null===(t=e.subscriptionInfo)||void 0===t?void 0:t.expectedExpiration)&&void 0!==n?n:d.wD,c=null!==(i=null===(o=e.subscriptionInfo)||void 0===o?void 0:o.extendedFreeTrialLength)&&void 0!==i?i:(0,d.dz)({days:V}),u=e.purchaseDate+c<=l;return u!==(null===(r=e.subscriptionInfo)||void 0===r?void 0:r.isFreeTrialPeriod)&&(0,_.Kp)("Unexpected difference between isFreeTrialPeriod and manually calculated free trial period",{data:{subscription:e}}),null!==(a=null===(s=e.subscriptionInfo)||void 0===s?void 0:s.isFreeTrialPeriod)&&void 0!==a?a:u},ne=e=>!!e.subscriptionInfo&&e.subscriptionInfo.renewer===c.qF.L.Stripe,oe=e=>!!e.familyPlanInfo,ie=e=>e.subscriptionInfo?(0,d.zM)(e.subscriptionInfo.expectedExpiration).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric"}):"",re=(e,t)=>{if(!t.subscriptionInfo)return 0;const n=t.subscriptionInfo.expectedExpiration;return(0,d.LG)(e,1e3*n,"ceil")},se=({email:e,purchasePlus:t},n)=>{ae("forum"===t?{trackingProps:{iap_context:"forum"}}:"new_years_2022"===t?{email:e,trackingProps:{iap_context:"new_years_deep_link"}}:{email:e,isOffer:!1,trackingProps:{deep_link_source:t,iap_context:"deep_link"}},n)},ae=(e,t)=>{(0,v.j)("premium_ad_click",e.trackingProps),le(e,t)},le=(e,t)=>t({options:Object.assign(Object.assign({},e),{name:h.tl.PlusPurchase}),type:"TOGGLE_MODAL"}),ce=e=>{const t=H(e);switch(t){case 1:return"one_month";case 6:return"six_month";case 12:return"twelve_month";default:throw Error(`Unknown Plus product period length ${(0,m.RJ)(t)}`)}}},95975:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,$:()=>s});var o=n(20028);const i=[["en","es"],["en","fr"],["es","en"],["pt","en"]],r=(e,t,n)=>n.creationDate<Date.now()-604800&&!(0,o.pN)(n)&&e>=5&&t%7==0&&i.some((e=>e[0]===n.fromLanguage&&e[1]===n.learningLanguage)),s="https://podcast.duolingo.com"},88787:(e,t,n)=>{"use strict";n.d(t,{r1:()=>g,ZK:()=>h,S1:()=>_,Hd:()=>v});var o=n(89454),i=n(51158),r=n(785),s=n(16086),a=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let l=!1,c=null,u=null;const d=e=>{const t=e.endpoint;return t.startsWith("https://android.googleapis.com/gcm/send")&&e.subscriptionId&&!t.includes(e.subscriptionId)?e.subscriptionId:t.split("/").pop()},p=()=>{if(null===u)throw Error("Push notifications not initialized yet");return u},m=()=>a(void 0,void 0,void 0,(function*(){const e=p(),t=(e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t),o=new Uint8Array(n.length);for(let e=0;e<n.length;++e)o[e]=n.charCodeAt(e);return o})("BOfu40JfHSmIGu-08T0bvngwcoDkpA3hwdQiQnQxyCHQTpZjI5v_bNND-ERl5UYNZ9l4S2VCmEjKSgTeZxDsHgk"),n=yield e.pushManager.subscribe({applicationServerKey:t,userVisibleOnly:!0});console.log("Subscribed to push notifications"),o._s.registerDevice(d(n),JSON.stringify(n)),c=n})),g=()=>a(void 0,void 0,void 0,(function*(){const e=p(),t=yield e.pushManager.getSubscription();console.log("Unsubscribed from push notifications"),t&&(t.unsubscribe(),o._s.unregisterDevice(d(t)),c=null)})),h=e=>a(void 0,void 0,void 0,(function*(){try{(0,r.j)("chrome_notification_dialog_load",{via:e});const t=yield Notification.requestPermission();(0,r.j)("chrome_notification_dialog_tap",{target:"granted"===t?"allow":"default"===t?"close":"deny",via:e})}catch(e){console.error(e)}})),_=()=>a(void 0,void 0,void 0,(function*(){if(null!==c)return console.log("Push notifications already initialized"),c;if(!("serviceWorker"in navigator))throw Error("Browser doesn't support service workers");u=yield navigator.serviceWorker.register("/gcm-service-worker.js"),yield navigator.serviceWorker.ready,(()=>{if(!("showNotification"in window.ServiceWorkerRegistration.prototype))throw Error("Notifications unsupported");const e=window.Notification.permission;if("denied"!==e){if(!("PushManager"in window))throw Error("Push messaging unsupported");console.log("Push notifications initialized"),l=!0,"granted"===e&&(0,s.Pc)()&&a(void 0,void 0,void 0,(function*(){try{return void(yield m())}catch(e){(0,i.Kp)("Failed to subscribe to push notifications",{ex:e})}try{yield g(),yield m()}catch(e){(0,i.Kp)("Failed to update notification subscription",{ex:e})}}))}else console.log("User denied notification permission")})()})),v=()=>l},80321:(e,t,n)=>{"use strict";n.d(t,{n2:()=>a,Zb:()=>l,jJ:()=>c});var o=n(51827),i=n(35160),r=n(785),s=n(20028);const a=(e,t,n)=>{var i;const r=null===(i=e.referralInfo)||void 0===i?void 0:i.hasReachedCap,a=e.inviteURL&&e.inviteURL.length>0;return!(!(0,o.NX)(t,n)||c(t)||(0,s.pN)(e)||r||!a)},l=(e,t)=>{(0,r.j)("referral_offer_modal_load",{via:t}),e({options:{name:i.tl.InviteFriends,via:t},type:"TOGGLE_MODAL"})},c=e=>{var t;const n=null==e?void 0:e.inventory.premium_subscription,o=null==e?void 0:e.inventory.immersive_subscription,i=n&&null===n.subscriptionInfo,r=null===(t=null==n?void 0:n.subscriptionInfo)||void 0===t?void 0:t.renewer;return!!(i||o||n&&r&&!["NONE","REFERRAL","REFERRAL_INVITER","REFERRAL_INVITEE"].includes(r))}},90110:(e,t,n)=>{"use strict";n.d(t,{gW:()=>i,vo:()=>r,nB:()=>s});var o=n(89454);const i=e=>{const t=((e,t)=>e.rewardBundles.find((e=>"DAILY_GOAL_DOUBLE"===e.rewardBundleType)))(e);if(void 0!==t&&t.rewards.length>0)return t.rewards[0]},r=e=>{const t=i(e);return void 0===t||t.consumed},s=(e,t,n)=>{o.Vi.consumeReward(t,n.id),e({lingots:n.amount,type:"UPDATE_USER_LINGOTS"}),e({type:"CONSUME_DAILY_GOAL_REWARD"})}},51158:(e,t,n)=>{"use strict";n.d(t,{fZ:()=>R,cj:()=>x,LZ:()=>M,GN:()=>U,vU:()=>j,c2:()=>F,um:()=>B,YJ:()=>S,_b:()=>w,av:()=>A,Kp:()=>H});var o=n(59118),i=n.n(o),r=n(85078),s=n.n(r),a=n(74053),l=n.n(a),c=n(37847),u=n.n(c),d=n(58866),p=n.n(d),m=n(80254),g=n(89454),h=n(21061),_=n(59273),v=n(11908);const f=(e,t=1)=>{if(e&&"object"==typeof e){if(Array.isArray(e))return e.length?`Array(${e.length})`:"[]";if(t>0){const n=[];return Object.entries(e).forEach((([e,o])=>{/^[a-zA-Z$_][a-zA-Z$_\d]*$/.test(e)||(e=`'${e}'`),n.push([e,f(o,t-1)])})),n.length?`{ ${n.map((([e,t])=>`${e}: ${t}`)).join(", ")} }`:"{}"}return m.XP(e).length?"{…}":"{}"}return"string"==typeof e?`'${e}'`:`${e}`};var y;let E=null,b=null;const S=e=>{E=e},w=e=>{b=e},T=["d35aaqx5ub95lt.cloudfront.net","duolingo.com","localhost","webpack://","webpack-internal://"],I=["CHALLENGE_GUESS_CHANGE","LOAD_SMART_TIP_RESOURCE","MODAL_MOUNTED","MODAL_UNMOUNTED"],k=[".cloudfront.net/smart_tip_",".doubleclick.net",".fullstory.com",".google-analytics.com",".px-cloud.net","://brb.duolingo.com"],R=[429,500,502,503,504],C=RegExp(["Access is denied|Acceso denegado","Empty session","file://","Network Error","NS_ERROR","reactInternalInstance",`Request failed with status code (${R.join("|")})`,"sascdn","SecurityError: The operation is insecure\\.","[Ss]cript error","setData","\\btimeout of \\d+ms exceeded\\b"].join("|"),"m");let O=0,N=0;const P={};i().setComponents({instrumenter:s(),scrub:l(),telemeter:u(),truncation:p()});const L=i().init({accessToken:"c5855cdb2ab642cbb4f871f9896473fd",autoInstrument:{log:!1,navigation:!1},captureUncaught:!0,captureUnhandledRejections:!0,checkIgnore:(e,t,n)=>{var o,i,r,s,a;try{const l=Array.from(t).find(g.IZ);if(l&&(n.custom=null!==(o=n.custom)&&void 0!==o?o:{},n.custom.request={code:l.code,method:l.method,responseData:null===(i=l.response)||void 0===i?void 0:i.data,status:null===(r=l.response)||void 0===r?void 0:r.status,url:l.url}),!navigator.onLine)return!0;if(n.body.trace){const e=n.body.trace.frames.slice(-1)[0].filename;if(!new RegExp(T.join("|")).test(e))return!0;if(/Loading( CSS)? chunk .+? failed\./.test(null!==(s=n.body.trace.exception.message)&&void 0!==s?s:""))return null==E||E(n),!0}if(C.test(JSON.stringify(n.body)))return!0;if((()=>{if((0,_.NY)())return!1;try{let e=(0,v.rV)(v.Qt.RollbarThrottling);return void 0===e||e.firstErrorTimestamp<(0,h.HR)(-300)?e={errorCount:1,firstErrorTimestamp:Date.now()}:e.errorCount++,(0,v.LS)(v.Qt.RollbarThrottling,e),e.errorCount>10}catch(e){try{(0,v.cl)(v.Qt.RollbarThrottling)}catch(e){}return!1}})())return console.log("Ignoring because throttling limit reached:",n),!0;if(e){if(null==b||b(n),N>=5)return console.log("Ignoring because item reporting limit reached:",n),!0;N++,n.custom=null!==(a=n.custom)&&void 0!==a?a:{},n.custom.isUncaught=!0}}catch(e){console.error(e)}return!1},enabled:!!(null===(y=window.duo.l10n)||void 0===y?void 0:y.strings),filterTelemetry:e=>"network"===e.type&&("xhr"===e.body.subtype||"fetch"===e.body.subtype)&&k.some((t=>e.body.url.includes(t))),hostBlockList:[],hostSafeList:T,ignoredMessages:["script error"],payload:{client:{javascript:{code_version:window.duo.version,guess_uncaught_frames:!0,source_map_enabled:!0}},environment:(0,_.oj)()?"preview":(0,_.NY)()?"staging":"production"},verbose:(0,_.Au)(),wrapGlobalEventHandlers:!1}),A=e=>{const t={experiments:e.experiments?Object.fromEntries(m.XP(e.experiments).filter((t=>e.experiments[t].treated)).map((t=>[t,e.experiments[t].condition]))):void 0},n={id:e.id,username:e.username};L.configure({payload:{custom:t,person:n}})},D=(e,t=5)=>(n,o={})=>{let i=n instanceof Error?[n.name,n.message].filter((e=>e)).join(": "):n;if(O>=t)return void console.log("Ignoring because item reporting limit reached:",i);const{data:r,ex:s,once:a=!1,sample:l=1}=o;if(a){if(P[i])return void console.log("Ignoring because reported already:",i);P[i]=!0}if(l<1){if(Math.random()>l)return void console.log("Ignoring due to sampling:",i);i=`${i} (sampled at ${100*l}%)`}const c=[i];return n instanceof Error&&c.push(n),"object"!=typeof r&&"string"!=typeof r||c.push(r),n instanceof Error||void 0===s||(s instanceof Error?c.push(s):console.error("Tried to report non-Error as Error:",s)),O+=1,e(...c)},x=e=>{if(!I.includes(e.type))try{const t="UPDATE_USER"===e.type&&1===m.XP(e.user).length&&"currentCourse"===m.XP(e.user)[0]?3:1;L.captureEvent("log",{message:`dispatch(${f(e,t)})`},"debug")}catch(e){}},M=(e,t)=>L.captureEvent("log",{message:e},t),U=(e,t)=>L.captureEvent("navigation",{from:e,to:t},"info"),F=()=>{var e,t;return null!==(t=null===(e=L.telemeter)||void 0===e?void 0:e.queue)&&void 0!==t?t:[]},j=D(L.error.bind(L)),B=D(L.info.bind(L)),H=D(L.warning.bind(L))},88868:(e,t,n)=>{"use strict";n.d(t,{Vb:()=>c,Z2:()=>u,B6:()=>d,zl:()=>m,KE:()=>h,v$:()=>v,a_:()=>f,Oy:()=>y,Zs:()=>E,gg:()=>b,fu:()=>S,Iw:()=>w,o_:()=>T});var o=n(69635),i=n(80254),r=n(50498),s=n(53229),a=n(51158),l=n(16086);const c="incubator-testbed.duolingo.com",u="www.duolingo.com",d="/learn",p=window.duo.oldWebUrlWhitelist.map((e=>new RegExp(e))),m=["/plus","/getplus","/youtubeplus"],g=[...m,"/family-plan","/redeem","/settings/plus","/welcome","/classroom","/bango/:reseller/:token"],h=e=>g.some((t=>(0,o.LX)(e,{exact:!0,path:t}))),_=[...m,"/duocon","/duocon2021","/duocon2020","/duocon2019","/family-plan","/learning-season","/nocuesta","/redeem","/register","/summer2020","/welcome","/classroom/:classroomCode","/bango/:reseller/:token"],v=e=>_.some((t=>(0,o.LX)(e,{exact:!0,path:t}))),f="preview.duolingo.com",y=["","/errors/404.html"].join(""),E=(e,t)=>{return n=void 0,o=void 0,s=function*(){void 0===e?window.location.reload(!0):t?window.location.replace(e):window.location.href=e,yield(0,r.f)()},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(n,o||[])).next())}));var n,o,i,s},b=e=>e.replace(window.location.host,f),S=i.HP((e=>p.some((t=>t.test(e))))),w=i.HP((e=>{if(e.startsWith("javascript:")||e.startsWith("//"))return!1;try{const t=document.createElement("a");return t.href=e,t.origin===window.location.origin&&!S(t.pathname)}catch(e){return!1}})),T=(e,t=!0)=>{let{pathname:n}=e,o=new URLSearchParams(e.search);if(S(n))t&&(0,a.vU)("Entry URL should've been rendered by old web",{data:{pathname:n},sample:.1}),n="/";else{const t=e.hash;if(t&&"/"===n&&(n=t.replace(/^#\/*(.*)/,"/$1"),console.log("Removed # from URL")),n.includes("$")&&n.includes("=")&&!n.includes("?")&&(n=n.replace("$","?"),console.log("Replaced $ with ? in URL")),n.includes("?")){const e=n.split("?");n=e[0],o=new URLSearchParams((0,s.Lm)(e[1]))}(0,l.Pc)()&&o.delete("isLoggingIn")}const i=o.toString();return{pathname:n,search:0===i.length?"":`?${i}`}}},88849:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,z:()=>m});var o=n(9979),i=n(50498),r=n(74597),s=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const a=({animationDelay:e=0,animationDuration:t=1e3,container:n,easingFunction:i=o.q8.EaseOutExpo,x:r,y:a})=>s(void 0,void 0,void 0,(function*(){const s=n?n.scrollLeft:window.pageXOffset,l=n?n.scrollTop:window.pageYOffset;yield(0,o.jt)({animationDelay:e,animationDuration:t,easingFunction:i,onAnimate:e=>{const t=s+(r-s)*e,o=l+(a-l)*e;n?(n.scrollLeft=t,n.scrollTop=o):window.scrollTo(t,o)}})})),l="scrollBehavior"in document.documentElement.style,c=["auto","hidden","scroll"],u={x:{clientSize:"clientWidth",overflowAxis:"overflowX",scrollSize:"scrollWidth"},y:{clientSize:"clientHeight",overflowAxis:"overflowY",scrollSize:"scrollHeight"}},d=(e,t)=>{const{clientSize:n,overflowAxis:o,scrollSize:i}=u[t],s=window.getComputedStyle(e);return c.includes(s[o])&&(r.Z.edge?e[n]+1<e[i]:e[n]<e[i])},p=e=>d(e,"x")||d(e,"y"),m=(e,t)=>s(void 0,void 0,void 0,(function*(){if(l)e.scrollIntoView(t),(0,i._v)(300);else{const n=e.getBoundingClientRect(),o=(e=>{let t=e.parentElement;for(;t;){if(p(t))return t;t=t.parentElement}return null})(e);let i,r,s;if(o){const e=o.getBoundingClientRect();i=o.scrollLeft+n.left-e.left,r=o.scrollTop+n.top-e.top,s={bottom:o.offsetHeight,height:o.offsetHeight,left:0,right:o.offsetWidth,top:0,width:o.offsetWidth}}else i=window.pageXOffset+n.left,r=window.pageYOffset+n.top,s={bottom:window.innerHeight,height:window.innerHeight,left:0,right:window.innerWidth,top:0,width:window.innerWidth};const l=i;let c;switch(t.block){case"start":c=r;break;case"center":c=r-(s.height-n.height)/2;break;case"end":c=r-(s.height-n.height);break;default:throw Error(`Unsupported option for scrollIntoView block: ${t.block}`)}if("smooth"!==t.behavior)throw Error(`Unsupported option for scrollIntoView behavior: ${t.behavior}`);yield a({animationDuration:300,container:null!=o?o:void 0,x:l,y:c})}}))},18313:(e,t,n)=>{"use strict";n.d(t,{jF:()=>o,HI:()=>i,qG:()=>s,GZ:()=>c,ZF:()=>u,cp:()=>p});var o,i,r=n(11811);!function(e){e[e.Locked=0]="Locked",e[e.UnlockedForCheckpoint=1]="UnlockedForCheckpoint",e[e.UnlockedForCheckpointTest=2]="UnlockedForCheckpointTest",e[e.Complete=3]="Complete"}(o||(o={})),function(e){e[e.Locked=0]="Locked",e[e.Unlocked=1]="Unlocked"}(i||(i={}));const s=e=>`checkpoint-${e}`,a=({course:e,sectionIndex:t})=>{let n=null;if(l({course:e,sectionIndex:t}))n=o.UnlockedForCheckpointTest;else{const{checkpointAccessible:i,checkpointFinished:s,checkpointSessionType:a}=e.sections[t];n=i||s?i&&!s?o.UnlockedForCheckpoint:(s&&r.FF.SectionPractice,o.Complete):o.Locked}return n},l=({course:e,sectionIndex:t})=>{const{checkpointSessionType:n}=e.sections[t];return n===r.FF.CheckpointTest},c=({course:e,sectionEndIndex:t,skills:n})=>e.skills.slice(0,t).flat().filter((e=>!n[e].bonus&&n[e].finishedLessons!==n[e].lessons&&0===n[e].finishedLevels)).length,u=e=>{for(let t=e.length-1;t>=0;t--)if(e[t].sectionStatus===i.Unlocked)return e[t].sectionIndex;return-1},d=({course:e,sectionEndIndex:t,sectionStartIndex:n,skills:o})=>0===e.skills.slice(n,t).reduce(((e,t)=>[...e,...t])).filter((e=>!o[e].bonus&&o[e].accessible)).length?i.Locked:i.Unlocked,p=({course:e,skills:t})=>(({course:e,skills:t})=>{if(!e.skills)return[];const n=e.sections.map((e=>e.numRows)).reduce(((e,t)=>0===e.length?[t]:[...e,e[e.length-1]+t]),[]);let o=0;const i=[];return e.skills.forEach(((e,r)=>{t[e[0]].bonus&&o++,n.includes(r-o)&&i.push(r)})),n.includes(e.skills.length-o)&&i.push(e.skills.length),i})({course:e,skills:t}).map(((n,o,i)=>{const r=0===o?0:i[o-1];return{checkpointStatus:a({course:e,sectionIndex:o}),sectionEndIndex:n,sectionIndex:o,sectionStartIndex:r,sectionStatus:d({course:e,sectionEndIndex:n,sectionStartIndex:r,skills:t})}}))},87477:(e,t,n)=>{"use strict";n.d(t,{Gs:()=>f,cS:()=>y,UV:()=>E,L1:()=>F,ct:()=>C,tq:()=>w,Dk:()=>j,CN:()=>R,Xd:()=>L,yn:()=>O,bc:()=>T,SB:()=>I,l$:()=>S,LJ:()=>b,n_:()=>N,ZX:()=>k,oT:()=>B,p1:()=>D,gZ:()=>M,vx:()=>x,Xq:()=>U});var o=n(80254),i=n(88528),r=n(95332),s=n(74923),a=n(11811);const l=({currentCourseHistory:e,sessionType:t,timestamp:n})=>{const{globalPracticeSessionEnds:o,globalPracticeSessionStarts:i,mistakeHistory:r}=e,s=r.filter((e=>n<e.expirationTimestamp)).map((e=>e.value));switch(t){case a.FF.GlobalPractice:return i%4==0&&o>=2&&s.length>=10?s.map((e=>e.generatorIdentifier)).slice(0,16):void 0;default:return}};var c=n(59273),u=n(94786),d=n(81149),p=n(68903),m=n(18313),g=n(17251),h=n(59096),_=n(68564),v=n(785);const f=10;var y;!function(e){e.Blaming="BLAMING",e.CheckpointSplash="CHECKPOINT_SPLASH",e.CheckpointTestSplash="CHECKPOINT_TEST_SPLASH",e.CoachDuo="COACH_DUO",e.CoachDuoSliding="COACH_DUO_SLIDING",e.CoachDuoSubmitting="COACH_DUO_SUBMITTING",e.EndCarousel="END_CAROUSEL",e.FinalLevelDuo="FINAL_LEVEL_DUO",e.GlobalPracticeSplash="GLOBAL_PRACTICE_SPLASH",e.Grading="GRADING",e.GrammarSkillSplash="GRAMMAR_SKILL_SPLASH",e.Guessing="GUESSING",e.HardModeDuo="HARD_MODE_DUO",e.HardModeDuoSliding="HARD_MODE_DUO_SLIDING",e.MistakesReviewDuo="MISTAKES_REVIEW_DUO",e.PartialXpDuo="PARTIAL_XP_DUO",e.PartialXpDuoSliding="PARTIAL_XP_DUO_SLIDING",e.PlacementSplash="PLACEMENT_SPLASH",e.PriorProficiencySplash="PRIOR_PROFICIENCY_SPLASH",e.Showing="SHOWING",e.SkillTestSplash="SKILL_TEST_SPLASH",e.Sliding="SLIDING",e.SmartTip="SMART_TIP",e.SmartTipBlaming="SMART_TIP_BLAMING",e.SmartTipSliding="SMART_TIP_SLIDING",e.SpeakRetryBlaming="SPEAK_RETRY_BLAMING",e.Submitting="SUBMITTING"}(y||(y={}));const E=1e3*parseFloat(i.Z["duration-slide"]),b=e=>[a.FF.CheckpointTest,a.FF.PlacementTest,a.FF.ProgressQuiz,a.FF.SkillTest].includes(e),S=e=>[a.FF.PlacementTest,a.FF.ProgressQuiz].includes(e),w=()=>[a.Sm.Listen,a.Sm.ListenComplete,a.Sm.ListenComprehension,a.Sm.ListenTap,a.Sm.SelectPronunciation,a.Sm.SelectTranscription],T=()=>[a.Sm.Speak],I=e=>e>=11?"fox":e>=6?"bee":"owl",k=e=>[a.FF.CheckpointTest,a.FF.GlobalPractice,a.FF.Lesson,a.FF.PlacementTest,a.FF.SectionPractice,a.FF.SkillPractice].includes(e),R=({browserSettings:{speakDisabledUntil:e=0},currentCourseHistory:t,fromLanguage:n,isDesktop:i,isListenEnabled:r,learningLanguage:u,mistakeGeneratorIds:m,params:v,skill:f,timestamp:y,user:{enableMicrophone:E,explanationsSeen:b={}}})=>{var S,I,k;let R=[...s.KT];const C={app_disabled_temporarily:e>=y,permission_disabled:!E,recognizer_unavailable:!_.c};let O;switch(r||(R=o.zu(R,...w())),o.VO(C).some((e=>e))&&(R=o.zu(R,...T())),"alphabets"===v.type&&"control"===(0,d.j6)("web_alphabets_guardrail_tracing",void 0)&&(R=o.zu(R,a.Sm.CharacterTrace)),v.type){case"alphabets":O={alphabetSessionId:v.alphabetSessionId,type:a.FF.AlphabetLesson};break;case"checkpoint":switch(v.urlType){case"bigtest":O={checkpointIndex:parseInt(v.index,10),type:a.FF.CheckpointTest};break;case"practice":O={checkpointIndex:parseInt(v.index,10),type:a.FF.SectionPractice};break;case void 0:O={checkpointIndex:parseInt(v.index,10),type:a.FF.Checkpoint};break;default:throw(0,p.RJ)(v.urlType),Error(`Unexpected value for urlType: ${v.urlType}`)}break;case"mistakes-review":O={generatorIdentifiersOfRecentMistakes:m,type:a.FF.MistakesReview};break;case"placement":O={type:a.FF.PlacementTest};break;case"practice":O={generatorIdentifiersOfRecentMistakes:l({currentCourseHistory:t,sessionType:a.FF.GlobalPractice,timestamp:y}),type:a.FF.GlobalPractice};break;case"preview":O={lessonIndex:v.lesson?parseInt(v.lesson,10):0,levelIndex:0,skillId:v.skillId,type:a.FF.Lesson};break;case"progress-quiz":O={type:a.FF.ProgressQuiz};break;default:switch(v.lesson){case"practice":O={isGrammarSkill:f.grammar,skillId:f.id,type:a.FF.SkillPractice};break;case"test":O={levelIndex:f.finishedLevels,skillId:f.id,type:a.FF.SkillTest};break;default:{const e=(0,c.gQ)("levelIndex")?parseInt(null!==(S=(0,c.ky)("levelIndex"))&&void 0!==S?S:"",10):f.finishedLevels,t=(0,c.gQ)("lessonIndex")?parseInt(null!==(I=(0,c.ky)("lessonIndex"))&&void 0!==I?I:"",10):(0,c.gQ)("levelIndex")?0:parseInt(v.lesson,10)-1;O={isFinalLevel:(0,g.uL)(f),isGrammarSkill:f.grammar,levelIndex:e,levelSessionIndex:t,showGrammarSkillSplash:f.grammar&&!!(null===(k=f.explanation)||void 0===k?void 0:k.url)&&!b[f.id]&&(0,g.Re)(f)<g.sJ.GILDED,skillId:f.id,type:a.FF.Lesson};break}}}const N=Object.entries(C).flatMap((([e,t])=>t?[e]:[])).join(","),P=/^zh-(hant|hk|mo|tw)/.exec(navigator.language.toLowerCase())?"zt":/^zh-(cn|hans|my|sg)/.exec(navigator.language.toLowerCase())?"zs":void 0;return Object.assign(Object.assign({challengeTypes:R,fromLanguage:n,isFinalLevel:!1,juicy:!0,learningLanguage:u,locale:P,smartTipsVersion:i?h.fH:void 0},O),{speakIneligibleReasons:N})},C=(e,t)=>(0,s.j4)({challenge:e,challengeState:t})?y.Guessing:y.Showing,O=({challenge:e,challengeState:t,isDesktop:n,session:o,sessionParams:i})=>{if([a.FF.GlobalPractice,a.FF.Lesson,a.FF.MistakesReview,a.FF.SectionPractice,a.FF.SkillPractice,a.FF.AlphabetLesson].includes(o.type)){if(t.hasBrokenTts)return"broken-tts";if(w().includes(e.type))return"cant-listen";if(T().includes(e.type))return"cant-speak";if(i.isGrammarSkill||i.isFinalLevel)return;if(n)return"skip"}if(o.type===a.FF.PlacementTest)return"skip"},N=({afterSkills:e,beforeSkills:t,changedSkillIds:n,dispatch:o,player:i,session:r,treeSectionStates:s})=>{var l;switch(r.type){case a.FF.CheckpointTest:{if(void 0===(null===(l=i.sessionParams)||void 0===l?void 0:l.checkpointIndex))return;const r=s[i.sessionParams.checkpointIndex].sectionEndIndex,a=n.filter((n=>!t[n].accessible&&e[n].accessible&&e[n].row===r)).map((e=>({id:`SKILL_UNLOCK_${e}`,name:"SKILL_UNLOCK",skillId:e})));a.length>0&&o({animations:a,type:"QUEUE_ANIMATIONS"});break}case a.FF.PlacementTest:break;default:{const i=[...n.filter((n=>t[n].finishedLevels<e[n].finishedLevels)).map((e=>({beforeSnapshot:(0,g.$U)(t[e]),id:`SKILL_LEVEL_UP_${e}`,location:"sessionEnd",name:"SKILL_LEVEL_UP",skillId:e}))),...n.filter((n=>{const o=t[n],i=e[n];return o.finishedLessons<i.finishedLessons})).map((n=>({afterSnapshot:(0,g.$U)(e[n]),beforeSnapshot:(0,g.$U)(t[n]),id:`SKILL_PROGRESS_${n}`,name:"SKILL_PROGRESS",skillId:n}))),...n.filter((n=>t[n].decayed&&!e[n].decayed)).map((e=>({id:`SKILL_REPAIR_${e}`,name:"SKILL_REPAIR",skillId:e}))),...n.filter((n=>!t[n].accessible&&e[n].accessible)).map((e=>({id:`SKILL_UNLOCK_${e}`,name:"SKILL_UNLOCK",skillId:e})))];i.length>0&&o({animations:i,type:"QUEUE_ANIMATIONS"});break}}},P=e=>{var t;const{currentIndex:n,sessionParams:i,session:{adaptiveChallenges:r,challenges:s}}=e,a=s.slice(0,n+1),l=r?o.jV(r.map((e=>e.id)),a.map((e=>e.id))).length:0,c=null!==(t=null==i?void 0:i.generatorIdentifiersOfRecentMistakes)&&void 0!==t?t:[],u=a.filter((e=>{var t;return null===(t=e.gradingResult)||void 0===t?void 0:t.correct})).filter((e=>e.challengeGeneratorIdentifier)).map((e=>e.challengeGeneratorIdentifier));return{contained_adaptive_challenge:l>0,num_adaptive_challenges:l,num_mistakes_completed:c.filter((e=>(0,p.cY)(u,e))).length,session_is_legendary:i.isFinalLevel,session_subtype:i.isGrammarSkill?"grammar":void 0}},L=e=>{switch(e){case a.FF.AlphabetLesson:return u.Q.AlphabetLesson;case a.FF.Checkpoint:return u.Q.Checkpoint;case a.FF.CheckpointTest:return u.Q.CheckpointTest;case a.FF.GlobalPractice:return u.Q.GlobalPractice;case a.FF.Lesson:return u.Q.Lesson;case a.FF.MistakesReview:return u.Q.MistakesReview;case a.FF.PlacementTest:return u.Q.PlacementTest;case a.FF.ProgressQuiz:return u.Q.ProgressQuiz;case a.FF.SectionPractice:return u.Q.SectionPractice;case a.FF.SkillPractice:return u.Q.SkillPractice;case a.FF.SkillTest:return u.Q.SkillTest;default:return(0,p.RJ)(e),u.Q.Lesson}},A=e=>o.jj(e.filter((e=>!e.skipped&&T().includes(e.type))),!1,(e=>e.id)).length,D=({browserSettings:e,currentCourseHistory:t,player:n,via:o})=>{const{coachDuo:i,numInLessonTipOpens:s,session:{challenges:a,startTime:l},sessionParams:{challengeTypes:c,speakIneligibleReasons:u},slideData:d}=n,{globalPlacementSessionStarts:p}=t,m=a.some((e=>w().includes(e.type))),g=a.some((e=>T().includes(e.type)));(0,v.j)("session_end",Object.assign(Object.assign({},P(n)),{coach_shown:i.allShowReasons.length>0,contained_listen_challenge:m,contained_speak_challenge:g,disabled_listen_challenges:l<e.listenDisabledUntil&&m,disabled_speak_challenges:l<e.speakDisabledUntil&&g,num_challenges_skipped:a.filter((e=>e.skipped)).length,num_characters_shown:a.filter((e=>e.character&&r.yH.includes(e.type))).length,num_end_screens:d.length,num_explanation_opens:s,num_placement_starts:null!=p?p:0,speak_count:A(a),speak_ineligible:!c.some((e=>T().includes(e))),speak_ineligible_reasons:u,via:o}))},x=(e,t)=>{const{currentIndex:n,session:{challenges:o,challengeTimeTakenCutoff:i,trackingProperties:r},sessionParams:{challengeTypes:s,speakIneligibleReasons:a}}=t,{globalPlacementSessionStarts:l}=e,c=o.map((e=>e.timeTaken?Math.min(i,e.timeTaken)/1e3:0)).reduce(((e,t)=>e+t)),u=o.slice(0,n+1);(0,v.j)("session_quit",Object.assign(Object.assign({},P(t)),{num_challenges_at:o.length,num_challenges_ct:t.session.challenges.filter((e=>{var t;return null===(t=e.gradingResult)||void 0===t?void 0:t.correct})).length,num_challenges_skipped:o.filter((e=>e.skipped)).length,num_placement_starts:null!=l?l:0,session_subtype:r.session_subtype,speak_count:A(u),speak_ineligible:!s.some((e=>T().includes(e))),speak_ineligible_reasons:a,sum_time_taken:c}))},M=(e,t)=>{var n;const o=(()=>{if(e.response){switch(e.response.status){case 401:return"authentication_error";case 403:return"forbidden_error";case 404:return"not_found_error";case 410:return"route_gone_error"}return e.response.status>=500&&e.response.status<600?"server_error":"unknown_error"}return"ECONNABORTED"===e.code?"timeout_error":"network_error"})();(0,v.j)("session_end_fail",{http_status_code:null===(n=e.response)||void 0===n?void 0:n.status,request_error_type:o,type:t})},U=({afterCourse:e,afterSkills:t,afterTreeSectionStates:n,beforeSkills:o,beforeTreeSectionStates:i,changedSectionIndices:r,changedSkillIds:s,session:l})=>{l.type!==a.FF.Lesson&&l.type!==a.FF.SkillTest||r.forEach((e=>{const t=i[e],o=n[e];void 0!==t&&void 0!==o&&t.checkpointStatus!==m.jF.UnlockedForCheckpoint&&o.checkpointStatus===m.jF.UnlockedForCheckpoint&&(0,v.j)("section_complete",{section_index:e})})),l.type!==a.FF.Lesson&&l.type!==a.FF.SkillTest||s.forEach((n=>{const i=o[n],r=t[n];i.finishedLevels<r.finishedLevels&&(0,v.j)("skill_leveled_up",{skill_id:n,skill_level:r.finishedLevels,skill_name:r.name,skill_tree_id:l.trackingProperties.skill_tree_id,skill_x_coord:l.trackingProperties.skill_x_coord,total_crowns:e.trackingProperties.total_crowns,tree_level:e.trackingProperties.max_tree_level})}))},F=(e,t)=>{let n=0,o=0;for(let i=0;i<e.session.challenges.length;i++){const r={challenge:e.session.challenges[i],challengeIndex:i,sectionChallengeIndex:o,sectionIndex:n};if(t(r))return r;o<e.challengeIdSections[n].length-1?o++:(n++,o=0)}return{challenge:void 0,challengeIndex:void 0,sectionChallengeIndex:void 0,sectionIndex:void 0}},j=e=>{const{sectionIndex:t,sectionChallengeIndex:n}=F(e,(({challengeIndex:t})=>t===e.currentIndex));return[t,n]},B=(e,t)=>{const n=Math.floor(e.length/t),o=new Array(t),i=e.length%t;let r=t-1,s=0;for(let a=e.length-1;a>=0;a--){const l=e[a];(o[r]=o[r]||[]).unshift(l.id),s++,s>=n+(i>0&&t-r>=i?1:0)&&(r--,s=0)}return o}},51551:(e,t,n)=>{"use strict";n.d(t,{c8:()=>d,N4:()=>h,PR:()=>_,Tz:()=>v,sB:()=>f,r5:()=>y,ws:()=>E,RB:()=>S,sz:()=>w,cy:()=>T});var o=n(51827),i=n(21061),r=n(59273),s=n(81149),a=n(11908),l=n(97106);const c="web_streak_wager_session_end",u="web_weekend_amulet_session_end";var d;!function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"}(d||(d={}));const p=(e,t)=>`duo.experiments.${t}.last_shown_${e}`,m=(e,t)=>{const n=p(e,t),o=(0,a.rV)(n);return"number"==typeof o&&(0,i.zk)(o)},g=(e,t)=>{const n=p(e,t),o=(0,i.Zo)();(0,a.LS)(n,o)},h=e=>{g(e,c)},_=(e,t,n)=>{const o=void 0===e.inventory.rupee_wager,i=e.shop.misc.rupee_wager,r=!!i&&i.price<=t.lingots,{timezoneOffset:s,xpGains:a,xpGoal:u}=t,d=(0,l.ab)(s,a)+n>=u,p=m(t.id,c);return t.streak<7&&o&&!!i&&r&&d&&!p},v=(e,t,n)=>{const o=(0,i.ji)()===d.FRIDAY,r=void 0===e.inventory.weekend_amulet,s=e.shop.misc.weekend_amulet,a=!!s&&s.price<=t.lingots,{timezoneOffset:c,xpGains:p}=t,g=(0,l.ab)(c,p)+n>0,h=m(t.id,u);return o&&r&&!!s&&a&&g&&!h},f=e=>{const t=(0,i.ji)(),n=void 0!==e.shop.misc.weekend_amulet,o=void 0!==e.inventory.weekend_amulet;return t===d.FRIDAY&&n||[d.FRIDAY,d.SATURDAY,d.SUNDAY].includes(t)&&o},y=e=>{g(e,u)},E=(e,t,n,i)=>t&&((0,o.NX)(n,i)||e),b=e=>{const t=e.shop.misc.streak_freeze;return t&&t.id in e.inventory},S=(e,t)=>{const n=t.streak>=2&&"experiment"===(0,s.j6)("retention_web_dg_sf_chest_dr",void 0),o=e.inventory.streak_freeze?e.inventory.streak_freeze.quantity:0;return!(n?2===o:b(e))&&(!!(0,r.gQ)("dailyGoalStreakFreeze")||t.streak>=2&&Math.random()<(n?.75:.2))},w=(e,t)=>!b(e)&&1===t.streak,T=e=>e.shop.misc.final_level_attempt},6986:(e,t,n)=>{"use strict";n.d(t,{ub:()=>s,oV:()=>a,gT:()=>c,MG:()=>u,yI:()=>d});var o=n(89454),i=n(13840),r=n(11908);const s=()=>(0,r.cl)(r.Qt.LastLogin),a=(e,t)=>{const n=l(e,t);(0,r.LS)(r.Qt.LastLogin,n)},l=(e,t)=>t.email?{email:t.email,hasFacebook:"social"===e?!!t.facebookId:void 0,hasGoogle:"social"===e?!!t.googleId:void 0,name:"email"===e&&t.email?t.email:t.name,picture:t.picture,type:e}:null,c=e=>{return t=void 0,n=void 0,r=function*(){var t,n;const i=yield o.Vi.userSearchByEmail(e),r=i&&i.length>0?i[0]:null;return r?{hasFacebook:!!r.hasFacebookId,hasGoogle:!!r.hasGoogleId,name:null!==(n=null!==(t=r.name)&&void 0!==t?t:r.username)&&void 0!==n?n:"",picture:r.picture}:null},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((r=r.apply(t,n||[])).next())}));var t,n,i,r},u=()=>(0,r.rV)(r.Qt.LastLogin),d=(e,t,n)=>n&&!t&&(0,i.k_)(e)},17251:(e,t,n)=>{"use strict";n.d(t,{L0:()=>a,$U:()=>l,sJ:()=>c,Re:()=>u,uL:()=>d,fQ:()=>p,S0:()=>g,up:()=>h,JY:()=>_,vu:()=>v});var o=n(99369),i=n(80254),r=n(68903),s=n(74245);const a=e=>e.row>1,l=e=>(0,o.from)(i.ei(e,"accessible","decayed","finishedLessons","finishedLevels","hasFinalLevel","iconId","id","indicatingNewContent","lessons","levels","shortName"));var c;!function(e){e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED",e[e.GILDED=2]="GILDED",e[e.FINALIZED=3]="FINALIZED"}(c||(c={}));const u=e=>e.finishedLevels===e.levels?e.hasFinalLevel?c.FINALIZED:c.GILDED:e.hasFinalLevel&&e.finishedLevels===e.levels-1?c.GILDED:e.accessible?c.UNLOCKED:c.LOCKED,d=e=>e.hasFinalLevel&&u(e)>=c.GILDED;var p;!function(e){e.Gray="gray",e.Jelly="jelly",e.Blueberry="blueberry",e.Kiwi="kiwi",e.Raspberry="raspberry",e.Pumpkin="pumpkin",e.Gold="gold",e.Starling="starling"}(p||(p={}));const m=[p.Jelly,p.Blueberry,p.Kiwi,p.Raspberry,p.Pumpkin,p.Starling],g=e=>{const t=u(e);switch(t){case c.FINALIZED:return p.Starling;case c.GILDED:return p.Gold;case c.UNLOCKED:return m[e.finishedLevels]||p.Blueberry;case c.LOCKED:return p.Gray;default:throw(0,r.RJ)(t),Error(`Unexpected skillStatus: ${t}`)}},h=e=>({denominator:e.lessons,numerator:e.finishedLessons}),_=(e,t)=>{const n=e.skills.flat().map((e=>t[e])).filter((e=>e.accessible)).sort(((e,t)=>`${e.finishedLevels}_${e.finishedLessons}`.localeCompare(`${t.finishedLevels}_${t.finishedLessons}`)));let o=n.find((e=>e.finishedLevels<e.levels));o||(o=n.slice(-1)[0]);const i=o.finishedLevels===o.levels;return`/skill/${(0,s.D3)(o.learningLanguage)}/${o.urlName}/${i?"practice":o.finishedLessons+1}`},v=(e,t)=>e.flat().map((e=>t[e])).reduce(((e,t)=>e+t.lessons),0)},59096:(e,t,n)=>{"use strict";n.d(t,{fH:()=>u,U:()=>d,r8:()=>m,C8:()=>g,P9:()=>h,qj:()=>_,cz:()=>v,pT:()=>f,u5:()=>b,RZ:()=>S});var o=n(80254),i=n(83719),r=n(21061),s=n(68903),a=n(51158),l=n(785),c=n(11811);const u=2,d=86400,p=[c.Sm.CompleteReverseTranslation,c.Sm.Form,c.Sm.GapFill,c.Sm.Translate],m=e=>f(e.identifier,e.trigger.smart_tip.variables),g=(e,t,n,s,u,d)=>{const{session:{type:g},sessionParams:{levelIndex:h,skillId:_},shownSmartTipIds:v,smartTipResources:E}=s;if(!p.includes(t.type))return;if(!n||0===n.length)return;if(e&&[i.Oj.MissingWord,i.Oj.WrongWord].includes(e))return void(0,l.j)("smart_tips_rules_fired",{blame:e,challenge_type:t.type,did_match_any_rule:!1,fired_rules:"[]",has_content:!0,number_of_matched_rules:0,probably_tap:t.type===c.Sm.Translate&&t.choices.length>0,type:g});const b=n.map((e=>{const t=E[e.smart_tip.id];if(t)return Object.assign(Object.assign({},t),{correctSolution:f(t.correctSolution,e.smart_tip.variables),trigger:e});(0,l.j)("smart_tip_failure",{reason:"no_content_was_fetched",rule_id:e.smart_tip.id})})).filter((e=>void 0!==e)).filter((e=>y(e)));if((0,l.j)("smart_tips_rules_fired",{blame:e,challenge_type:t.type,did_match_any_rule:0===b.length,fired_rules:JSON.stringify(b.map((e=>e.identifier))),has_content:0===b.length,number_of_matched_rules:b.length,probably_tap:t.type===c.Sm.Translate&&t.choices.length>0,type:g}),0===b.length||v.length>3||void 0===h||void 0===_)return;const S=u[_].row,w=b.filter((e=>!v.includes(e.identifier))).filter((e=>{var t,n;return e.policy.allowedSkillLevels.includes(h)&&S>=(null!==(t=e.policy.earliestRow)&&void 0!==t?t:0)&&S<=(null!==(n=e.policy.latestRow)&&void 0!==n?n:Number.MAX_VALUE)})).filter((e=>{var t;const n=m(e);return!(null===(t=d.recentlySeenSmartTips)||void 0===t?void 0:t[n])||d.recentlySeenSmartTips[n]>(0,r.Zo)()}));if(0===w.length)return;const T=w[0],I=T.elements.filter((e=>"challenge"===e.type));if(1!==I.length)return void(0,a.vU)("Smart Tip doesn't have exactly one challenge.",{data:{smartTipId:T.identifier}});const k=I[0].element.options.map((e=>f(e.text,T.trigger.smart_tip.variables)));if(2===k.length)if(k.length===o.jj(k).length){if(T)return(0,l.j)("smart_tip_will_show",{blame:e,challenge_type:t.type,for_rule_with_id:T.identifier,level_index:h,method:"graph_based",num_tips_shown_so_far:v.length,probably_tap:t.type===c.Sm.Translate&&t.choices.length>0,smart_tip_id:T.identifier,smart_tip_name:T.name,tree_level:_?u[_].row:void 0,type:g}),T}else(0,a.vU)("Smart Tip challenge options are not unique.",{data:{challengeId:t.id,smartTipId:T.identifier}});else(0,a.vU)("Smart Tip challenge has incorrect number of options.",{data:{numOptions:k.length,smartTipId:T.identifier}})},h=e=>{const t=e.elements.filter((e=>"challenge"===e.type));if(1!==t.length)return(0,a.vU)("Smart Tip that doesn't have exactly one challenge",{data:{smartTipId:e.identifier}}),0;const n=t[0].element.options.findIndex((e=>e.isCorrect));return-1===n?((0,a.vU)("Smart Tip that doesn't have a correct answer",{data:{smartTipId:e.identifier}}),0):n},_=new RegExp("({{ .*? }})","g"),v=e=>`{{ ${e.name} }}`,f=(e,t)=>{if(void 0===t)return e;let n=e;return t.forEach((e=>{n=n.replace(new RegExp(v(e),"g"),e.value)})),n},y=e=>{const t=e.trigger.smart_tip.variables.map((e=>v(e))),n=[e.correctSolution,...e.elements.map((e=>E(e))).flat()].every((e=>{var n;return(null!==(n=e.match(_))&&void 0!==n?n:[]).every((e=>t.includes(e)))}));return n||(0,l.j)("smart_tip_failure",{reason:"template_filling_failed",rule_id:e.identifier}),n},E=e=>{const t=e=>{var t;return[e.text.styledString.text,...e.subtext?[null===(t=e.subtext)||void 0===t?void 0:t.styledString.text]:[]]};switch(e.type){case"audioSample":return[e.element.sampleText.text,e.element.description.styledString.text];case"captionedImage":return[e.element.text.styledString.text];case"challenge":return e.element.options.map((e=>e.text));case"example":return t(e.element);case"exampleCaptionedImage":return e.element.examples.map(t).flat();case"expandable":return e.element.elements.map(E).flat();case"table":return e.element.cells.map((e=>e.map((e=>e.styledString.text)))).flat();case"text":return[e.element.styledString.text];case"verticalSpace":return[];default:throw(0,s.RJ)(e),Error(`Unexpected explanation item type "${e.type}"`)}},b=(e,t)=>{var n,o;return null===(o=null===(n=e.options.find((({},e)=>t===e)))||void 0===n?void 0:n.smartTips)||void 0===o?void 0:o.map((e=>({smart_tip:e})))},S=(e,t)=>{switch(e){case c.FF.GlobalPractice:case c.FF.Lesson:case c.FF.MistakesReview:case c.FF.SectionPractice:case c.FF.SkillPractice:return!t.isFinalLevel;case c.FF.AlphabetLesson:case c.FF.Checkpoint:case c.FF.CheckpointTest:case c.FF.PlacementTest:case c.FF.ProgressQuiz:case c.FF.SkillTest:return!1;default:return(0,s.RJ)(e),void(0,a.vU)("Received invalid session type",{data:e})}}},419:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var o=n(13840);const i=e=>{const t={followerCount:(0,o.uf)(e,25e5),link:"https://www.tiktok.com/@duolingo"};switch(e){case"fr":return{facebook:{followerCount:(0,o.uf)(e,1014,4),link:"https://www.facebook.com/duolingofrance"},instagram:{followerCount:(0,o.uf)(e,2476,4),link:"https://www.instagram.com/duolingofrance"},tiktok:t,twitter:{followerCount:(0,o.uf)(e,2815,4),link:"https://twitter.com/duolingofrance"}};case"pt":return{facebook:{followerCount:(0,o.uf)(e,19e3),link:"https://www.facebook.com/duolingobrasil"},instagram:{followerCount:(0,o.uf)(e,109e3),link:"https://www.instagram.com/duolingobrasil"},tiktok:t,twitter:{followerCount:(0,o.uf)(e,33e3),link:"https://twitter.com/duolingobrasil"}};default:return{facebook:{followerCount:(0,o.uf)(e,2e6),link:"https://www.facebook.com/duolingo"},instagram:{followerCount:(0,o.uf)(e,54e4),link:"https://www.instagram.com/duolingo"},tiktok:t,twitter:{followerCount:(0,o.uf)(e,441e3),link:"https://twitter.com/duolingo"}}}}},68564:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var o=n(74597);const i=!!window.webkitSpeechRecognition&&o.Z.chrome},11908:(e,t,n)=>{"use strict";var o;n.d(t,{Qt:()=>o,No:()=>r,rV:()=>s,LS:()=>a,cl:()=>l}),function(e){e.AchievementsMigrationTimestamp="duo.achievementsV3Migration.timestamp",e.DebugExperimentOverrides="duo.experimentOverrides",e.DebugFlags="duo.persistentDebugFlags",e.DEPRECATED_Referrals="duo.referrals",e.DisableBigRedButton="duo.disableBrb",e.GradingConfig="duo.clientSideGradingConfig",e.GradingConfigTimestamp="duo.clientSideGradingConfig.timestamp",e.InviteCode="duo.inviteCode",e.LanguageTokens="duo.languageTokens",e.LastLogin="duo.lastLogin",e.LocalStorageTest="duo.localStorageTest",e.LoggedOutExperiments="duo.loggedOutExperiments",e.PlacementTestData="duo.internalAds.plus.placementTestResults",e.ProgressQuizData="duo.internalAds.plus.lastProgressQuiz",e.RollbarThrottling="duo.rollbarThrottling",e.ReportedProfileUserIds="duo.reportedProfileUserIds",e.State="duo.state"}(o||(o={}));const i=window.localStorage||(console.log("localStorage unavailable! Falling back to empty object"),{}),r=e=>e in i,s=e=>r(e)?JSON.parse(i[e]):void 0,a=(e,t)=>{try{return i[e]=JSON.stringify(t),!0}catch(t){return console.log(`Failed to save "${e}" to localStorage`),!1}},l=e=>{try{return delete i[e],!0}catch(t){return console.log(`Failed to delete "${e}" from localStorage`),!1}}},18804:(e,t,n)=>{"use strict";n.d(t,{Dg:()=>u,WI:()=>d,aY:()=>p,y0:()=>m,xC:()=>v});var o=n(45106),i=n(35870),r=n(99369),s=n(80254),a=n(59273),l=n(11908);const c=["achievements","achievementsV3","brb","browserSettings","config","courseHistories","courses","friends","items","leaderboards","notifications","paymentMethods","referralStats","skills","storiesPersisted","student","subscriptions","uiPersisted","user","version"],u=e=>(console.log(`${e}; using new blank state`),(0,l.cl)(l.Qt.State),(0,r.from)({version:25})),d=e=>null==g?void 0:g.dispatch(e),p=e=>{let t=(()=>{const t=(0,l.rV)(l.Qt.State);return t?25!==t.version?u("Local state outdated"):e?e!==t.user.id?u("Found local state belonging to different user"):(console.log("Using locally persisted state"),(0,r.from)(t)):u("No user credentials found"):u("No local state found")})();if(e&&(0,l.No)(l.Qt.DEPRECATED_Referrals)){const n=(0,l.rV)(l.Qt.DEPRECATED_Referrals)[e];n&&(console.log("Loading locally persisted referral stats for logged in user"),delete n.userRegistered,t=(0,r.set)(t,"referralStats",n))}return t},m=()=>null==g?void 0:g.getState();let g,h;const _=s.P2((e=>{(0,l.LS)(l.Qt.State,s.CE(e,"referralStats")),e.user.id&&(0,l.LS)(l.Qt.DEPRECATED_Referrals,Object.assign(Object.assign({},(0,l.rV)(l.Qt.DEPRECATED_Referrals)),{[e.user.id]:e.referralStats})),h=e}),100),v=(e,t)=>{const n=(0,a.Au)()&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.qC,r=(0,o.MT)(e,t,n((0,o.md)(i.Z,(e=>t=>n=>(0,a.sW)()(e)(t)(n)))));return r.subscribe((()=>(e=>{const t=s.ei(e,c);void 0!==h&&s.BD(h,t)||_(t)})(r.getState()))),g=r,r}},1079:(e,t,n)=>{"use strict";n.d(t,{QI:()=>i,dx:()=>r,hl:()=>s,h4:()=>a});var o=n(11908);const i=(e,t)=>{(0,o.LS)(o.Qt.PlacementTestData,Object.assign(Object.assign({},(0,o.rV)(o.Qt.PlacementTestData)),{[e]:{rowsUnlocked:t}}))},r=e=>{var t,n;return null!==(n=null===(t=(0,o.rV)(o.Qt.PlacementTestData))||void 0===t?void 0:t[e])&&void 0!==n?n:{}},s=(e,t)=>{(0,o.LS)(o.Qt.ProgressQuizData,Object.assign(Object.assign({},(0,o.rV)(o.Qt.ProgressQuizData)),{[e]:{prevNumberOfSessionsCompleted:t}}))},a=e=>{var t,n;return null!==(n=null===(t=(0,o.rV)(o.Qt.ProgressQuizData))||void 0===t?void 0:t[e])&&void 0!==n?n:{}}},8718:(e,t,n)=>{"use strict";n.d(t,{SQ:()=>h,AT:()=>_,Yb:()=>f,c6:()=>y,MK:()=>E,Bs:()=>w,gG:()=>T,P3:()=>I,_L:()=>k,z$:()=>R,YL:()=>O,HD:()=>N,sB:()=>P,JW:()=>L,XN:()=>A,rC:()=>D,Au:()=>x,z_:()=>M,PA:()=>U,rc:()=>F,gz:()=>j,ZG:()=>B,gI:()=>H,e:()=>G,yy:()=>V,aJ:()=>Z,C7:()=>W,BT:()=>z,IG:()=>Y});var o=n(80254),i=n(21061),r=n(59273),s=n(68903),a=n(90110),l=n(51158),c=n(51551),u=n(20662),d=n(88675),p=n(785),m=n(20028),g=n(97106);const h=(e,t,n,o)=>1e3*n.creationDate<Date.now()-6048e5&&E(n,o)&&!(0,m.pN)(n)&&e>=20&&t%5==0,_=(e,t,n)=>{const o={firstUnlockedSet:[],isFirstUnlock:!1,numUnlocked:0},r={mostRecentlyUnlocked:void 0,unvisitedStories:[]},{sets:s,crownGating:a}=e;if(void 0!==a){const e=(0,i.Zo)();for(let i=0;i<s.length;i++)if(s[i][0].setLocked){if(t<a[i]&&!n)break;{0===o.numUnlocked&&(o.firstUnlockedSet=s[i],o.isFirstUnlock=0===i,r.mostRecentlyUnlocked=s[i][0].id),o.numUnlocked+=s[i].length;const t=s[i].map((t=>({storyId:t.id,unlockedTimeInEpochSeconds:e})));r.unvisitedStories.push(...t)}}}return{allUnvisitedStories:r,unlockedStories:o}},v=(e,t)=>{const n=[];for(const o of e)for(const e of t)n.push({fromLanguageId:e,learningLanguageId:o});return n},f=[...v(["es","it","pt","fr","de"],["en"]),...v(["en"],["de","es","fr","it","ja","pt","ru","tr","uk","zh"])],y=()=>"en",E=(e,t)=>((e,t,n)=>((e,t)=>t.courses.some((t=>t.fromLanguageId===e.fromLanguageId&&t.learningLanguageId===e.learningLanguageId)))({fromLanguageId:e,learningLanguageId:t},n))(e.fromLanguage,e.learningLanguage,t),b=["ARRANGE","SELECT_PHRASE","TYPE_TEXT","SUBHEADING","HINT_ONBOARDING"],S=["ARRANGE","FREEFORM_WRITING","MATCH","MULTIPLE_CHOICE","POINT_TO_PHRASE","SELECT_PHRASE","TYPE_TEXT"],w=e=>{const t=(0,i.Zo)();return e.filter((e=>t-e.unlockedTimeInEpochSeconds<i.A4))},T=(e,t)=>e.filter((e=>!t.includes(e.storyId))),I=e=>void 0!==e&&S.includes(e.type),k=e=>{if(!I(e))return!1;switch(e.type){case"ARRANGE":case"POINT_TO_PHRASE":case"SELECT_PHRASE":case"TYPE_TEXT":return!0;case"MULTIPLE_CHOICE":return!e.question;case"MATCH":case"FREEFORM_WRITING":return!1;default:return(0,s.RJ)(e),!1}},R=e=>void 0!==e&&b.includes(e.type)||(e=>"MULTIPLE_CHOICE"===(null==e?void 0:e.type)&&void 0===e.question)(e),C=["POINT_TO_PHRASE","MULTIPLE_CHOICE","FREEFORM_WRITING"],O=e=>void 0!==e&&C.includes(e.type),N=e=>{var t,n;let i=1;if(!e.storyElements)return i;const s=null===(t=e.storyElements)||void 0===t?void 0:t.filter((e=>"LINE"===e.type)).length,a=(0,r.gQ)("debugSkipToStoryLine")?parseInt(null!==(n=(0,r.ky)("debugSkipToStoryLine"))&&void 0!==n?n:"",10):void 0;return void 0!==a?a>=1&&a<=s?i=a:console.error(`Cannot skip to lineIndex ${a} because it's out of bounds.`):(0,r.gQ)("debugSkipToLastStoryLine")&&(i=s),((e,t)=>{let n=0;return o.cx(t,(t=>["LINE","HEADER"].includes(t.type)&&++n===e))})(i,e.storyElements)},P=(e,t)=>{var n,i;const r=e.text,s=e.hints,a=o.MR(e.hintMap,(e=>e.rangeFrom)).filter((e=>!t||t.every((t=>e.rangeTo<t.start||e.rangeFrom>t.end)))),l=[];let c=0,u=0;for(;c<r.length;){let e;a[u]&&c>=a[u].rangeFrom?(e=Math.min(a[u].rangeTo,r.length-1),l.push({hint:s[a[u].hintIndex],rangeFrom:c,rangeTo:e,text:r.slice(c,e+1)}),u++):(e=(null!==(i=null===(n=a[u])||void 0===n?void 0:n.rangeFrom)&&void 0!==i?i:r.length)-1,l.push({rangeFrom:c,rangeTo:e,text:r.slice(c,e+1)})),c=e+1}return l},L=e=>((0,r.gQ)("debugSlides")||e.some((e=>"streak-freeze-reward"===e.type))&&(e=e.filter((e=>"lingot-reward"!==e.type))),e),A=(e,t,n)=>{if((0,r.gQ)("debugSlides")){const n=(e.streak||0)+1;return[{bonusXp:0,sessionXp:10,type:"xp",xpOld:0},{reward:{amount:2,consumed:!1,currency:"LINGOTS",id:"123",rewardType:"DIRECT"},type:"lingot-reward"},{items:t,type:"streak-freeze-reward"},{sessionXp:10,streak:n,template:(0,d.l)(n),type:"streak",xpPerDay:(0,g.R7)(e.timezoneOffset,e.xpGains)},{gilding:!0,partsCompleted:1,partsTotal:1,type:"story-complete"}]}return n.map((n=>{switch(n.type){case"XP":return((e,t,n,o)=>{const i=[],r=e.xpGoal,s=(0,g.ab)(e.timezoneOffset,e.xpGains),l=s<r&&s+n>=r,u=s<1&&s+n>=1;if(i.push({bonusXp:o,sessionXp:n,type:"xp",xpOld:s}),l){(0,c.RB)(t,e)&&i.push({items:t,type:"streak-freeze-reward"});const n=(0,a.gW)(e);void 0===n||n.consumed||i.push({reward:n,type:"lingot-reward"})}const p=(e.streak||0)+1;return u&&i.push({sessionXp:n,streak:p,template:(0,d.l)(p),type:"streak",xpPerDay:(0,g.R7)(e.timezoneOffset,e.xpGains)}),i})(e,t,n.amount,n.bonusAmount);case"PART_COMPLETE":{const e=[];return n.subslides.forEach((t=>{switch(t.type){case"part-complete":e.push(Object.assign(Object.assign({},t),{subslide:n.subslides.find((e=>"next-part-unlocked"===e.type))}));break;case"story-complete":e.push(t)}})),e}default:return[]}})).flat()},D=(e,t,n=Date.now()/1e3)=>{let o=0;return e.forEach(((i,r)=>{var a,c;const u=(null!==(c=null===(a=e[r+1])||void 0===a?void 0:a.time)&&void 0!==c?c:n)-i.time;u<0&&(0,l.Kp)("Error computing Stories total time taken: found negative time taken between events");const d=(()=>{switch(i.type){case"line-start":return t.maxTimePerLine;case"challenge-start":return t.maxTimePerChallenge;default:return(0,s.RJ)(i),1/0}})();o+=Math.min(d,Math.max(u,0))})),o},x=e=>({keypoints:[{audioStart:0,rangeEnd:e.content.text.length}],url:e.ttsURL}),M=e=>{switch(e.type){case"HEADER":return e.learningLanguageTitleContent;case"LINE":return e.line.content;case"FREEFORM_WRITING_EXAMPLE_RESPONSE":return Object.assign(Object.assign({},e.content),{audio:x(e)});default:return}},U=(e,t,n)=>{const o=null==e?void 0:e.sets[0].slice(0,2).map((e=>e.id)),i=e.sets.some((e=>e.some((e=>"GILDED"===e.state))));return!(!o.includes(t)&&!i)&&(!(!o.includes(t)||!i)||n)},F=e=>e?e.sets.flat().filter((e=>"GILDED"===e.state)).length:0,j=(e,t,n)=>{const o=(0,i.Zo)();return"READ"===t&&void 0!==n&&n.some((t=>t.storyId===e&&o-t.unlockedTimeInEpochSeconds<i.A4))},B=(e,t,n,o)=>{(0,p.j)("stories_story_start",Object.assign(Object.assign(Object.assign({},t.trackingProperties),W(t.storyElements)),{has_new_label:j(n,t.mode,o),source:e?"stories_carousel":"stories",story_play_mode:(0,u.YE)(t.mode)})),(0,p.j)("session_start",Object.assign(Object.assign({},t.trackingProperties),{type:"story"}))},H=(e,t)=>{var n;if(!(null===(n=e.storySession)||void 0===n?void 0:n.timeline)||!e.trackingConstants)throw Error("No story session or timeline found on story complete");const o=e.storySession.maxScore,i=e.storySession.score,r=e.storySession.hintsUsed.length,s=D(e.storySession.timeline,e.trackingConstants);(0,p.j)("stories_story_complete",Object.assign(Object.assign(Object.assign(Object.assign({},W(e.storyElements)),e.trackingProperties),t.trackingProperties),{disabled_speak_challenges:-1!==e.speakingDisabledLineIndex,max_score:o,num_stories_challenges_at:o,num_stories_challenges_ct:i,score:i,story_play_mode:(0,u.YE)(e.mode),sum_hints_used:r,sum_time_taken:s})),(0,p.j)("session_end",Object.assign(Object.assign({},e.trackingProperties),{num_challenges:o,num_challenges_correct:i,sum_hints_used:r,sum_time_taken:s,type:"story"}))},G=e=>e?"custom":"generic",V=(e,t)=>{const n=e.elementIndex-t;return n>0?{elementIndex:t+1}:n<0?{elementIndex:t-1}:e},Z=(e,t)=>{var n,o;if(e){const i=e.filter((e=>"MATCH"===e.type))[0];if("MATCH"===(null==i?void 0:i.type)){const e=null===(n=i.matches)||void 0===n?void 0:n.map((e=>e.phrase)).filter((e=>t.toLowerCase().includes(e.toLowerCase())));return null!==(o=null==e?void 0:e.length)&&void 0!==o?o:0}}return 0},W=e=>{if(e){const t=e.filter((e=>"FREEFORM_WRITING"===e.type))[0];if("FREEFORM_WRITING"===(null==t?void 0:t.type))return{custom_prompt_option:t.customPromptOption,custom_prompt_type:t.customPromptType,generic_prompt_type:t.genericPromptType,has_freeform_writing_examples:t.hasExamples,prompt_type:G(t.customPrompt)}}return[]},z=(e,t)=>t.findIndex((t=>"LINE"===t.type&&Y(t)===e+1)),Y=e=>{if("LINE"===e.type)return e.trackingProperties.line_index;throw Error(`Tried to get line index for ${e.type} element`)}},77042:(e,t,n)=>{"use strict";n.d(t,{xL:()=>r,FG:()=>s,EU:()=>a});var o=n(13942),i=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const r=(e,t)=>{const n=Date.now(),r=e,s=n;for(const e of r){if(n!==s)return;const r={};for(const a of e.audioInfos){const l=()=>{r[a.url]=!0,e.audioInfos.every((({url:e})=>r[e]))&&n===s&&t(e.elementIndex)};i(void 0,void 0,void 0,(function*(){try{yield(0,o.IZ)(a.url)}catch(e){throw(0,o.N$)(a),e}l()}))}if(n!==s)return}},s=e=>{e.forEach((e=>{if("LINE"===e.type){const t=e.line.content;(0,o.Ms)(t.audio.url),t.audioPrefix&&(0,o.Ms)(t.audioPrefix.url),t.audioSuffix&&(0,o.Ms)(t.audioSuffix.url)}}))},a=e=>t=>({audioSyncModel:e.audioSyncModel,duration:e.duration,fadeDown:e.fadeDown,instructionId:t.instructionId+1,playState:e.playState,seekTo:e.seekTo,speed:e.speed})},18513:(e,t,n)=>{"use strict";n.d(t,{t9:()=>p,PH:()=>y,FE:()=>E,I:()=>b,a3:()=>S,vX:()=>w,Om:()=>T,pg:()=>I,Ag:()=>k,tE:()=>R,WF:()=>C,Bv:()=>O});var o=n(99369),i=n(80254),r=n(83719),s=n(81149),a=n(68903),l=n(13840),c=n(51158),u=n(8718),d=n(785);const p=(e,t)=>{var n,i;return(0,d.j)("stories_challenge_start",Object.assign(Object.assign({},e.trackingProperties),t.trackingProperties)),(0,o.merge)(e,{storySession:(0,o.merge)(e.storySession,{timeline:[...null!==(i=null===(n=e.storySession)||void 0===n?void 0:n.timeline)&&void 0!==i?i:[],{time:Date.now()/1e3,type:"challenge-start"}]})})},m=e=>e.replace(/\([^()]*\)\s*/g,"").trim(),g=e=>m(e).toLowerCase(),h=e=>/^\d+$/.test(e),_=e=>e?13:19,v=(e,t,n)=>(t=i.XP(t).reduce(((e,t)=>(e[g(t)]=!0,e)),{}),e.map((e=>Object.assign(Object.assign({},e),{translation:m(e.translation)}))).filter((e=>{const o=_(n);if(e.phrase.length>o||e.translation.length>o)return!1;const i=g(e.phrase),r=g(e.translation);return!(h(i)||h(r)||t[i]||t[r]||(t[i]=!0,t[r]=!0,0))}))),f=e=>{if("POINT_TO_PHRASE"!==e.type)return-1;let t=-1;return i.cx(e.transcriptParts,(n=>(n.selectable&&t++,t===e.correctAnswerIndex)))},y=(e,t)=>{var n,o;const i=null===(n=e.storySession)||void 0===n?void 0:n.hintsUsed;if("POINT_TO_PHRASE"!==(null==t?void 0:t.type)||!i||0===i.length)return!1;const r=null===(o=t.transcriptParts[f(t)])||void 0===o?void 0:o.text;return!r||i.some((e=>e.phrase===r))},E=(e,t,n,o,r,s)=>{const a={completed:!1,elementIndex:t,mistakeCount:0,trackingProperties:e.trackingProperties};return(()=>{var t;switch(e.type){case"ARRANGE":return Object.assign(Object.assign({},a),{arrangedPhrases:0,phraseOrder:e.phraseOrder,selectedIncorrectIndices:[],shuffledPhrases:e.selectablePhrases,type:"arrange"});case"MATCH":{const l=5;let c=[];const u=_(o),d=null===(t=e.matches)||void 0===t?void 0:t.filter((e=>e.phrase.length<=u&&e.translation.length<=u));if(d&&d.length>=l)c=i.TV([...d]).slice(0,l);else{c=i.TV(v([...n],{},o)).slice(0,l);const t=[...e.fallbackHints];if(c.length<l){const e={};c.forEach((t=>{e[t.phrase]=!0,e[t.translation]=!0}));const n=i.TV(v(t,e,o)).slice(0,l-c.length);c=[...c,...n]}}const p={},m=[];return c.forEach((e=>{p[`from:${e.phrase}`]=e.translation,p[`from:${e.translation}`]=e.phrase,m.push({language:s,status:"initial",text:e.phrase}),m.push({language:r,status:"initial",text:e.translation})})),Object.assign(Object.assign({},a),{dictionary:p,tokens:i.TV(m),type:"match"})}case"MULTIPLE_CHOICE":return Object.assign(Object.assign({},a),{answers:e.answers,correctAnswerIndex:e.correctAnswerIndex,question:e.question,selectedIndices:[],type:"multiple-choice"});case"POINT_TO_PHRASE":{let t=0;const n=e.transcriptParts.map((e=>(t+=e.text.length,Object.assign(Object.assign({},e),{rangeTo:t})))),o=f(e);return Object.assign(Object.assign({},a),{correctAnswerIndex:o,parts:n,question:e.question,selectedIndices:[],type:"point-to-phrase"})}case"SELECT_PHRASE":return Object.assign(Object.assign({},a),{answers:e.answers,correctAnswerIndex:e.correctAnswerIndex,selectedIndices:[],type:"select-phrases"});case"TYPE_TEXT":return Object.assign(Object.assign({},a),{answer:"",grading:e.grading,text:e.text,type:"type-text"});case"FREEFORM_WRITING":return Object.assign(Object.assign({},a),{answer:"",characterMinimum:e.characterCount,customPrompt:e.customPrompt,customPromptType:e.customPromptType,didScroll:!1,genericPromptType:e.genericPromptType,hasExamples:e.hasExamples,numberOfCorrectionsDismissed:0,prompt:e.promptContent.prompt,showPrompt:e.showPrompt,skipped:!1,starterPhrases:e.promptContent.starterPhrases,type:"freeform-writing"});case"LINE":return Object.assign(Object.assign({},a),{skipped:!1,type:"speak"});default:return void console.error("no setup for challenge type: ",e.type)}})()},b=e=>{var t,n,o,i,r,s,a;const l=null===(t=e.storySession)||void 0===t?void 0:t.score;return e=(e=>{var t,n,o;if(null===(n=null===(t=e.storySession)||void 0===t?void 0:t.challengeSession)||void 0===n?void 0:n.completed)throw Error("Challenge already completed");if(!(null===(o=e.storySession)||void 0===o?void 0:o.challengeSession))throw Error("No challenge session found when grading challenge");const i=e.storySession.challengeSession;if(null==i?void 0:i.completed)throw Error("Challenge already completed");const r=0!==i.mistakeCount||("speak"===i.type||"freeform-writing"===i.type)&&i.skipped?0:1;let s=e.storySession.speakCount;"speak"===i.type&&s++;const a="freeform-writing"===i.type?{customPromptType:i.customPromptType,freeformChallengePrompt:i.prompt.text,freeformChallengePromptType:(0,u.e)(i.customPrompt),freeformChallengeSubmittedResponse:i.answer,freeformChallengeSumTimeTaken:(Date.now()-i.startTime)/1e3,genericPromptType:i.genericPromptType,hasExamples:i.hasExamples}:{};return Object.assign(Object.assign({},e),{storySession:Object.assign(Object.assign(Object.assign({},e.storySession),a),{challengeSession:Object.assign(Object.assign({},i),{completed:!0}),completedBonusChallenge:"freeform-writing"===i.type||e.storySession.completedBonusChallenge,maxScore:e.storySession.maxScore+1,score:e.storySession.score+r,speakCount:s})})})(e),(0,d.j)("stories_challenge_complete",Object.assign(Object.assign(Object.assign({},e.trackingProperties),null===(o=null===(n=e.storySession)||void 0===n?void 0:n.challengeSession)||void 0===o?void 0:o.trackingProperties),{challenge_type:null===(r=null===(i=e.storySession)||void 0===i?void 0:i.challengeSession)||void 0===r?void 0:r.type,success:!l||!!(null===(s=e.storySession)||void 0===s?void 0:s.score)&&e.storySession.score>l,used_keyboard:null===(a=e.storySession)||void 0===a?void 0:a.usedKeyboardForMatchChallenge})),e},S=e=>{var t;if(e.completed)switch(e.type){case"freeform-writing":return{correct:!0,sticky:!1,title:r.zD};case"arrange":case"match":return{correct:!0,sticky:!1,title:(0,l.H8)((0,r.ub)())};case"multiple-choice":case"point-to-phrase":case"select-phrases":return 0===e.mistakeCount?{correct:!0,sticky:!1,title:(0,l.H8)((0,r.ub)())}:void 0;case"type-text":{const n=e.gradingResult;if(n){let o,i=null!==(t=n.closestSolution)&&void 0!==t?t:e.text,s=n.correct||!1;const a=n.highlights;if(n.blameType)switch(n.blameType){case"accent":o=18634;break;case"missing_word":s=!1,o=8435;break;case"wrong_word":s=!1,o=576;break;case"missing_space":s=!0,o=18757;break;case"extra_space":s=!0,o=4476;break;case"typo":o=4081;break;default:return}else n.correct?(s=!0,o=(0,r.ub)(),i=void 0):(s=!1,o=23926);return{blame:i,blameHighlight:a,correct:s,sticky:!0,title:(0,l.H8)(o)}}return void(0,c.vU)("Missing Stories type challenge grading information")}case"speak":if(e.skipped)return{blame:(0,l.H8)(15747),correct:void 0,skipped:!0,sticky:!1,title:(0,l.H8)(12946)};if(0===e.mistakeCount)return;return{correct:!1,sticky:!1,title:(0,l.H8)(6840)};default:return void(0,a.RJ)(e)}},w=(e,t)=>{var n,i;const r=null===(n=e.storySession)||void 0===n?void 0:n.challengeSession;if("type-text"!==(null==r?void 0:r.type))throw Error("Unexpected type");if(!(null===(i=r.grading)||void 0===i?void 0:i.automaton))throw Error("No grading automaton found for type text challenge");return e=(0,o.merge)(e,{storySession:(0,o.merge)(e.storySession,{challengeSession:(0,o.merge)(r,{editDistance:t.highlights&&"accent"!==t.blameType?t.highlights.length:0,gradingResult:t,mistakeCount:t.correct?0:1})})}),b(e)},T=e=>{var t;const n=null===(t=e.storySession)||void 0===t?void 0:t.challengeSession;if("freeform-writing"!==(null==n?void 0:n.type))throw Error("Unexpected type");return b(e)},I=300,k=60,R=e=>{switch(e){case 50:case 60:return 10;case 70:case 80:case 90:return 15;default:return 20}},C=e=>e.trim().split(/\s+/).filter((e=>""!==e)).length,O=e=>{const t="experiment"===(0,s.j6)("stories_web_freeform_writing_polish",void 0),n=e.answer,o=C(n),i=e.characterMinimum;return t?o>=R(i)&&o<=k:n.length>=i&&n.length<=I}},20662:(e,t,n)=>{"use strict";n.d(t,{YE:()=>r,Bu:()=>s,gu:()=>a});var o=n(68903),i=n(8718);const r=e=>{switch(e){case"READ":return"normal";case"LISTEN":return"listen";case"CONVERSATION":return"conversation";default:throw(0,o.RJ)(e),Error(`Unexpected line mode "${e}"`)}},s=e=>{switch(e){case"READ":return 0;case"LISTEN":return 1;case"REVIEW":case"CONVERSATION":return 2;default:throw(0,o.RJ)(e),Error(`Unexpected story mode "${e}"`)}},a=({mode:e,listenModeCharacterIds:t,conversationModeSpeakCharacterIds:n,line:o,nextElement:r,lineIndex:s,conversationModeSpeakLineIds:a})=>"READ"===e||"CHARACTER"!==o.type||(0,i._L)(r)?"READ":a.includes(s)&&n.includes(o.characterId)?"SPEAK":(({listenModeCharacterIds:e,line:t,nextElement:n})=>!("CHARACTER"!==t.type||!e.includes(t.characterId)||(0,i._L)(n)))({line:o,listenModeCharacterIds:t,nextElement:r})?"LISTEN":"READ"},36571:(e,t,n)=>{"use strict";n.d(t,{b5:()=>s,cG:()=>a,Eo:()=>l});var o=n(59273);const i=["FREEFORM_WRITING","FREEFORM_WRITING_EXAMPLE_RESPONSE","FREEFORM_WRITING_PROMPT"],r=["ARRANGE","CHALLENGE_PROMPT","DUO_POPUP",...i,"HEADER","HINT_ONBOARDING","LINE","MATCH","MULTIPLE_CHOICE","POINT_TO_PHRASE","SELECT_PHRASE","SUBHEADING","TYPE_TEXT"],s=()=>(0,o.gQ)("debugSkipStoriesFinalMatchChallenge")?r.filter((e=>"MATCH"!==e)):r,a=e=>void 0!==e&&r.includes(e.type),l=e=>void 0!==e&&i.includes(e.type)||"DUO_POPUP"===(null==e?void 0:e.type)&&"BONUS_XP"===e.popupType},43094:(e,t,n)=>{"use strict";n.d(t,{cw:()=>s,tl:()=>a,Nh:()=>l,DG:()=>c,lo:()=>u,D5:()=>d,O$:()=>p,SU:()=>m});var o=n(99369),i=n(80254),r=n(8718);const s=(e,t)=>!e&&!t||!(!e||!t)&&e.elementIndex===t.elementIndex&&e.textIndex===t.textIndex,a=(e,t)=>{const n=e=>void 0===e?-1:e;return!(!e||t&&(e.elementIndex<t.elementIndex||!(e.elementIndex>t.elementIndex||n(e.textIndex)>n(t.textIndex))))},l=(e,t)=>a(t,e),c=(e,t)=>{let n=(0,o.merge)(e.storySession,{selectedPosition:t});return n&&a(t,n.furthestPosition)&&(n=(0,o.set)(n,"furthestPosition",t)),(0,o.set)(e,"storySession",n)},u=(e,t,n)=>{for(let o=t;o>=0;o--){if(["LINE","FREEFORM_WRITING_EXAMPLE_RESPONSE"].includes(e[o].type))return o;if("FREEFORM_WRITING"===e[o].type&&n)return o}return 0},d=(e,t)=>t.filter(((t,n)=>"LINE"===t.type&&n<=e)).length-1,p=(e,t)=>i.cx(e.slice(t),r.P3)+t,m=(e,t)=>{var n;const o=e.keypoints.find((e=>e.rangeEnd>=t));return null!==(n=null==o?void 0:o.audioStart)&&void 0!==n?n:e.keypoints.slice(-1)[0].audioStart}},88675:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s,l:()=>l});var o=n(80254),i=n(13840);const r=e=>{const t=Math.max(1,Math.min(a.length,e))-1,n=a[t];return(0,i.H8)(n.stringId,n.variables)},s=5,a=[{stringId:14029,variables:void 0},{stringId:22012,variables:{days:3}},{stringId:8314,variables:{days:5}},{stringId:22012,variables:{days:5}},{stringId:8314,variables:{days:7}},{stringId:22012,variables:{days:7}},{stringId:13734,variables:void 0}],l=e=>{const t={days:e,streak:e,streak_plus_one:e+1},n={title:(0,i.H8)(17672,t),titleID:"session_end_miltstone_title_lower_no_dash"},s=o.UP([Object.assign(Object.assign({},n),{body:(0,i.H8)(26206),bodyID:"session_end_explain_streak_body_1"}),Object.assign(Object.assign({},n),{body:(0,i.H8)(26205),bodyID:"session_end_explain_streak_body_2"}),Object.assign(Object.assign({},n),{body:(0,i.H8)(26204),bodyID:"session_end_explain_streak_body_3"})]),a=[Object.assign(Object.assign({},n),{body:r(e),bodyID:"session_end_one_day_from_streak"}),Object.assign(Object.assign({},n),{body:r(e),bodyID:"session_end_two_days_from_streak"})][e%2],l=o.UP([Object.assign(Object.assign({},n),{body:(0,i.H8)(20415,t),bodyID:"session_end_streak_body_6"}),Object.assign(Object.assign({},n),{body:(0,i.H8)(21798,t),bodyID:"session_end_streak_body_7"}),Object.assign(Object.assign({},n),{body:(0,i.H8)(296,t),bodyID:"session_end_streak_body_8"}),{body:(0,i.H8)(10404,t),bodyID:"session_end_streak_body_9",title:(0,i.H8)(20343,t),titleID:"session_end_streak_title_2"},{body:(0,i.H8)(19216,t),bodyID:"session_end_streak_body_10",title:(0,i.H8)(23641,t),titleID:"session_end_streak_title_4"}]);return e<=3?s:e<7?a:l}},43006:(e,t,n)=>{"use strict";n.d(t,{qv:()=>o,ls:()=>i,Dg:()=>r,HZ:()=>a});const o="___",i="-\\'!@#$%^&*()_+|\\\\~=`{}\\[\\]:\";<>?,.\\/‐¡¿·«»“”„–▶’。，、､‚｡；：「」『』（）？！─…《》〈〉．～،؟।—‧",r=e=>e.replace(new RegExp(`[${i}]`,"g")," ").replace(/\s+/g," ").trim().toLowerCase(),s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a=e=>s.test(e.toLowerCase())},54448:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,g:()=>r});var o=n(64591);const i=e=>{const t=e.challenges.map((e=>r(e)));return Object.assign(Object.assign({},e),{challenges:t})},r=e=>{var t;const n=(0,o.Xh)(e);null===(t=n.gradingResult)||void 0===t||delete t.blameSubtext,delete n.startTime,!1===n.skipped&&delete n.skipped;const i=n.gradingResult?Object.assign(Object.assign({},n),n.gradingResult):Object.assign(Object.assign({},n),{correct:void 0});return delete i.gradingResult,"grader"in i&&delete i.grader,"smartTipsGraderV2"in i&&delete i.smartTipsGraderV2,i}},785:(e,t,n)=>{"use strict";n.d(t,{qE:()=>T,sF:()=>K,bm:()=>A,d6:()=>M,OD:()=>F,kG:()=>N,zS:()=>q,Cm:()=>U,XZ:()=>O,hK:()=>R,dU:()=>$,j:()=>H,DT:()=>G,Gv:()=>W,mh:()=>Z,Bf:()=>z});var o=n(80254),i=n(70488),r=n(42659),s=n(70220),a=n(89454),l=n(54412),c=n(21061),u=n(41461),d=n(74245);let p,m=!1;const g=new Promise((e=>{p=e}));window._fs_ready=()=>p();var h=n(67899),_=n(39852),v=n(51158),f=n(18804),y=n(74597),E=n(16086),b=n(20028),S=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const w=["DISABLE_PERSONALIZED_ADS","DISABLE_THIRD_PARTY_TRACKING"],T="fs-exclude";let I;const k=new Promise((e=>{I=e})).then((e=>(console.log("Received fresh user model; tracking begins now"),e))),R=()=>{const e="1"===navigator.doNotTrack;a.Vi.registerTrackingStatus(!e,N()),(()=>{const e=(0,f.y0)();return(e&&(0,r.np)(e).privacySettings?(0,r.np)(e).privacySettings:w).some((e=>w.includes(e)))})()||(0,h.dl)();const t=(0,f.y0)();if(!t)throw Error("Store should be initialized set before calling startTracking.");const n=(0,r.Mb)(t),o=(0,r.np)(t);var i,s,l,c,p;(0,r.Lm)(t)&&!(0,b.jq)(o)&&(n.featureFlags.is_fullstory_recording_enabled||(0,b.ms)(o)||(0,b.Sk)(o))?(i=o.id,s=void 0,l=void 0,p=function*(){u.S1({debug:!1,devMode:!1,orgId:"QZHJ3"}),m=!0,u.yV(`${i}`,{ui_language_str:d.h9}),u.ur(),yield g;const e=u.Hr();e&&H("fullstory_record_start",{url:e})},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(p.next(e))}catch(e){t(e)}}function o(e){try{i(p.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,o)}i((p=p.apply(s,l||[])).next())}))):m&&u.IG(),I()},C=o.IH((()=>{i.init(),i.setDebug(!1)})),O=e=>{C(),console.log(`Set distinct user id ${e}`),i.identify(`${e}`),(0,l.d8)(l.Vj.LoggedOutUUID,`${e}`),(0,E.Pc)()&&(0,l.d8)(l.Vj.LoggedIn,"true")},N=()=>(C(),`${i.getDistinctId()}`),P=e=>S(void 0,void 0,void 0,(function*(){if(e)try{(0,E.Jb)(),yield k}catch(e){}return(0,f.y0)()?!B&&!window.location.search.includes("dnt=1")&&(C(),!0):((0,v.vU)("Failed to track event: no store provided"),!1)})),L=(e,t)=>(0,_.bP)(`track "${e}"`,[{data:t,name:"properties"}]),A=e=>S(void 0,void 0,void 0,(function*(){if(yield P(!1)){const t=i.getDistinctId();L("$create_alias",{alias:e,distinct_id:t}),i.alias(`${e}`)}})),D={utm_campaign:"campaign_name",utm_content:"campaign_content",utm_medium:"campaign_medium",utm_source:"campaign_source",utm_term:"campaign_keywords"},x=o.XP(D),M=e=>o.jV(o.XP(e),x).length>0,U=e=>{const t=o.ei(e,...x);(0,l.d8)(l.Vj.UTMParameters,JSON.stringify(t))},F=e=>{const t={},n=(0,l.ej)(l.Vj.UTMParameters);if(void 0!==n){const i=JSON.parse(n);for(const[n,r]of Object.entries(i))t[(o=n,`${e}${D[o]}`)]=r}var o;const i={referrer:/"\$initial_referrer":[ ]*"(.+?)"/,referring_domain:/"\$initial_referring_domain":[ ]*"(.+?)"/};return document.cookie.split(";").forEach((n=>{n=decodeURIComponent(n),/ ?mp_.+?_mixpanel=/.test(n)&&Object.entries(i).forEach((([o,i])=>{const r=i.exec(n);r&&(t[e+o]=r[1])}))})),t},j=["listen_skipped","session_end","session_quit","session_start","speak_skipped","toggle_tap"],B=(()=>{try{if(window.self!==window.top)return!0}catch(e){}return!1})(),H=(e,t,n=!0)=>S(void 0,void 0,void 0,(function*(){const o=yield P(n),a=(0,f.y0)();if(o&&a){const n=Object.assign(Object.assign({},((e,t)=>{const n=(0,c.Zo)(),o={$app_version:window.duo.version.slice(0,7),$current_url:window.location.href,Client:"web",client_utc_datetime:n,cn_extension:!1,from_internet_org:!1,logged_in:(0,E.Pc)(),mobile:!1,mobile_web_view:y.Z.mobile,prefers_reduced_motion:t.browserSettings.prefersReducedMotion||s.H,product:"learning_app",time:n,user_agent:navigator.userAgent};window.location.hash&&(o.location_hash=window.location.hash.slice(1));const i=navigator.connection||navigator.mozConnection||navigator.webkitConnection;"object"==typeof i&&("downlink"in i&&(o.network_downlink=1e3*i.downlink),"effectiveType"in i&&(o.network_quality=i.effectiveType));const a=(0,h.Nf)();void 0!==a&&(o.is_google_tag_manager_enabled=a);const l=(0,r.np)(t);Object.assign(o,l.trackingProperties);const u=(0,r.Oz)(t);if(u&&Object.assign(o,u.trackingProperties),j.includes(e)){const e=(0,r.is)(t);e&&Object.assign(o,e.trackingProperties)}return l.creationDate&&(o.creation_age=Date.now()-1e3*l.creationDate),o.email_opt_out=!l.emailPromotion,o})(e,a)),t);return(0,h.KU)(e,n),L(e,n),new Promise((t=>{i.track(e,n,t)}))}})),G=(e,t,n,o)=>{var i;(0,a.IZ)(n)&&void 0!==(null===(i=n.response)||void 0===i?void 0:i.status)&&v.fZ.includes(n.response.status)?console.warn("Not reporting unactionable server error to Rollbar"):navigator.onLine&&((0,v.Kp)(t,{data:o,ex:n}),H("api_error",{reason:e}))},V=e=>{let t;if(e instanceof URL)t=e;else try{t=new URL(e)}catch(n){t=new URL(e,new URL(window.location.href).origin)}return t},Z=(e,t,n)=>{const o=V(e);o.search="";const i=V(t);return i.search="",H("client_side_redirection",{from_url:o.toString(),redirection_type:n,to_url:i.toString()})},W=()=>{H("show home",{is_dark_mode:window.matchMedia("(prefers-color-scheme: dark)").matches}),H("user_active",{product:"learning_app"}),z({activity_trigger:"home_screen_load"})},z=e=>{const t=(0,E.Pc)(),n=document.hidden,o=window.location.pathname;if(n||!t||"/reset_password"===o)return!1;const i={activity_screen:o,activity_trigger:null,is_foregrounded:!n,logged_in:t,product:"learning_app"},r=Object.assign(Object.assign({},i),e);return H("user_active_2022",r),!0},Y=[["admin",[/^debug\//,/^enroll/,/^o\//,/^logout$/,/^pearson$/,/^partner/,/^settings/,/^welcome/,/^admin_tools$/,/^juicy$/,/^courses/,/^course\//,/^referred$/,/^register_user$/,/^log-in/,/^register/]],["ads",[/^placeholderRegex/]],["game",[/^show_store/,/^shop/]],["learning",[/^checkpoint\//,/^placement\//,/^practice\//,/^preview\//,/^progress-quiz/,/^new-comment$/,/^dictionary/,/^words$/,/^skill\//,/^stories/]],["loading",[/^placeholderRegex/]],["promos",[/^duocon/,/^abc(-privacy)?$/,/^redeem/,/^plus$/,/^getplus$/,/^youtubeplus$/]],["social",[/^profile\//]],["tree",[/^learn/]]],$={admin:0,ads:0,game:0,learning:0,loading:0,promos:0,social:0,tree:0,unknown:0},K=e=>{$[((e=window.location.pathname)=>{const t=Y.find((([{},t])=>t.find((t=>t.test(e.slice(1))))));return t?t[0]:"unknown"})()]+=e},q=()=>{Object.entries($).forEach((([e])=>{$[e]=0}))}},11811:(e,t,n)=>{"use strict";var o,i,r,s,a;n.d(t,{Sm:()=>o,A:()=>i,FF:()=>s,O4:()=>a}),function(e){e.Assist="assist",e.CharacterIntro="characterIntro",e.CharacterMatch="characterMatch",e.CharacterPuzzle="characterPuzzle",e.CharacterSelect="characterSelect",e.CharacterTrace="characterTrace",e.CompleteReverseTranslation="completeReverseTranslation",e.Definition="definition",e.Dialogue="dialogue",e.Form="form",e.FreeResponse="freeResponse",e.GapFill="gapFill",e.Judge="judge",e.Listen="listen",e.ListenComplete="listenComplete",e.ListenComprehension="listenComprehension",e.ListenTap="listenTap",e.Match="match",e.Name="name",e.ReadComprehension="readComprehension",e.Select="select",e.SelectPronunciation="selectPronunciation",e.SelectTranscription="selectTranscription",e.Speak="speak",e.TapCloze="tapCloze",e.TapClozeTable="tapClozeTable",e.TapComplete="tapComplete",e.TapCompleteTable="tapCompleteTable",e.TapDescribe="tapDescribe",e.Translate="translate",e.TypeCloze="typeCloze",e.TypeClozeTable="typeClozeTable",e.TypeCompleteTable="typeCompleteTable"}(o||(o={})),function(e){e.HardChallenge="HARD_CHALLENGE",e.LimitedTts="LIMITED_TTS",e.PastMistake="PAST_MISTAKE",e.ReviewChallenge="REVIEW_CHALLENGE"}(i||(i={})),function(e){e.NewYears2020Percent50="NEW_YEARS_2020_50",e.NewYears2020Percent60="NEW_YEARS_2020_60",e.NewYears2020Percent50Intro="NEW_YEARS_2020_50_INTRO",e.NewYears2020Percent60Intro="NEW_YEARS_2020_60_INTRO",e.NewYears2021Percent60="NEW_YEARS_2021",e.NewYears2021FT90="NEW_YEARS_2021_3MO",e.NewYears2022="NEW_YEARS_2022",e.NewYears2022FT="NEW_YEARS_2022_FT",e.Student="STUDENT_DISCOUNT_50",e.Winback25="WINBACK_25"}(r||(r={})),function(e){e.AlphabetLesson="ALPHABET_LESSON",e.Checkpoint="CHECKPOINT",e.CheckpointTest="CHECKPOINT_TEST",e.GlobalPractice="GLOBAL_PRACTICE",e.Lesson="LESSON",e.MistakesReview="MISTAKES_REVIEW",e.PlacementTest="PLACEMENT_TEST",e.ProgressQuiz="PROGRESS_QUIZ",e.SectionPractice="SECTION_PRACTICE",e.SkillPractice="SKILL_PRACTICE",e.SkillTest="SKILL_TEST"}(s||(s={})),function(e){e[e.Green=1]="Green",e[e.Gold=2]="Gold"}(a||(a={}))},3800:(e,t,n)=>{"use strict";n.d(t,{N:()=>o,h:()=>i});const o={autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1},i=window.location.search.includes("wantsPlainInfo=1")},66195:(e,t,n)=>{"use strict";n.d(t,{tU:()=>l,_B:()=>u,Lf:()=>g,sJ:()=>d,rt:()=>m,Nr:()=>_,z_:()=>c,P_:()=>h,P2:()=>y,eU:()=>E,U7:()=>p,wr:()=>v,nY:()=>b});var o=n(80388),i=n(21061),r=n(81149),s=n(16086),a=n(20028);const l="//s3.amazonaws.com/duolingo-images/avatar/default_2",c=e=>e.includes("default_"),u=(e,t)=>!(0,o.J9)()&&e&&!(t.privacySettings||[]).includes("DISABLE_DISCUSSIONS")&&!("duolingo"!==e.authorId)&&!(0,a.jq)(t),d=e=>!(e.privacySettings||[]).includes("DISABLE_EVENTS")&&!["ar","bn","pa","ta","te","tl"].includes(e.fromLanguage),p=e=>!(0,a.FX)(e)&&"experiment"===(0,r.j6)("events_classes_rename",void 0),m=e=>!(e.privacySettings||[]).includes("DISABLE_STREAM")&&!(0,a.pN)(e),g=e=>!(e.privacySettings||[]).includes("DISABLE_MATURE_WORDS"),h=e=>{var t,n;return"CN"===e.ipCountry&&null!==(n=null===(t=e.featureFlags)||void 0===t?void 0:t.china_compliance_control)&&void 0!==n&&n},_=(e,t)=>{const n=[{streakFreezeUsed:!1}];e[e.length-1]>0&&t--;for(let o=e.length-2;o>=0&&t>0;o--){const i=0===e[o];n.unshift({streakFreezeUsed:i}),i||t--}return n},v=e=>e,f=e=>{var t;return Math.max(...(null!==(t=e.xpGains)&&void 0!==t?t:[]).filter((e=>e.xp>0)).map((e=>e.time)))},y=e=>{const t=f(e),n=(0,i.M)(t,Date.now());return n>=7&&n<30},E=e=>{const t=f(e),n=(0,i.M)(t,Date.now());return e.xpGains&&e.xpGains.length>0&&n>=30},b=(e,t)=>e.sort(((e,n)=>{let o=!1,i=!1;try{const t=(0,s.Jb)();o=t===e.id,i=t===n.id}catch(e){}const r=!!t[e.id]||o,a=!!t[n.id]||i;return r===a?n.totalXp-e.totalXp:(a?0:1)-(r?0:1)}))},74597:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const o=n(23630).getParser(navigator.userAgent),i=void 0!==navigator.brave,r={android:"Android"===o.getOSName(),chrome:"Chrome"===o.getBrowserName()&&!i,desktop:"desktop"===o.getPlatformType(),edge:"Microsoft Edge"===o.getBrowserName(),firefox:"Firefox"===o.getBrowserName(),hasMobileApp:"iOS"===o.getOSName()||"Android"===o.getOSName()&&"Amazon Silk"!==o.getBrowserName(),hasPhysicalKeyboard:"desktop"===o.getPlatformType(),inwechat:navigator.userAgent.toLowerCase().includes("micromessenger"),ios:"iOS"===o.getOSName(),macOS:"macOS"===o.getOSName(),mobile:"mobile"===o.getPlatformType(),safari:"Safari"===o.getBrowserName(),silk:"Amazon Silk"===o.getBrowserName(),windowsPhone:"Windows Phone"===o.getOSName()}},16086:(e,t,n)=>{"use strict";n.d(t,{MJ:()=>s,Jb:()=>a,Pc:()=>l});var o=n(80231),i=n(54412),r=n(51158);const s=e=>{try{return parseInt(JSON.parse(o.DS.decode(e.split(".")[1])).sub,10)}catch(t){return void(0,r.vU)("Failed to parse saved JWT",{data:{jwt:e},once:!0})}},a=()=>{const e=(0,i.ej)(i.Vj.JWT),t=e?s(e):void 0;if(!t)throw Error("JWT missing");return t},l=()=>{try{return a(),!0}catch(e){return!1}}},20028:(e,t,n)=>{"use strict";n.d(t,{GJ:()=>i,jq:()=>r,vb:()=>s,ms:()=>a,Sk:()=>l,hO:()=>c,u:()=>u,Jd:()=>d,FX:()=>p,dE:()=>m,AE:()=>g,d1:()=>h,pN:()=>_,E4:()=>v,B8:()=>f});var o=n(80254);const i=e=>(e.roles||[]).includes("admin"),r=e=>{var t;return(null!==(t=e.privacySettings)&&void 0!==t?t:[]).includes("AGE_RESTRICTED")},s=e=>(e.roles||[]).includes("community-admin"),a=e=>"ENROLLED"===e.betaStatus||u(e),l=e=>(e.roles||[]).some((e=>"admin"===e||"engineering-contractor"===e)),c=e=>(e.roles||[]).includes("explanations-contributor"),u=e=>!o.xb(e.globalAmbassadorStatus),d=e=>(e.roles||[]).includes("moderators"),p=e=>!o.xb(e.globalAmbassadorStatus)&&e.globalAmbassadorStatus.types.includes("EVENT_HOST"),m=e=>!o.xb(e.joinedClassroomIds),g=e=>!o.xb(e.observedClassroomIds),h=e=>m(e)||g(e),_=e=>!e.username,v=e=>!!e.canUseModerationTools,f=e=>i(e)||s(e)},64591:(e,t,n)=>{"use strict";n.d(t,{Xh:()=>r,$f:()=>s,FL:()=>a});var o=n(99369),i=n(80254);const r=e=>JSON.parse(JSON.stringify(e)),s=(e,t,n,r)=>{if(!("asMutable"in e))throw Error("Tried to call mergeIn on mutable object.");if(!t.length)return(0,o.merge)(e,n,r);const s=t.reduce(((e,t)=>e[t]||{}),e);return(0,o.setIn)(e,t,i.xb(s)?n:(0,o.merge)(s,n,r))},a=(e,t,n)=>s(e,t,n,{deep:!0})},97106:(e,t,n)=>{"use strict";n.d(t,{o6:()=>r,cE:()=>a,BX:()=>l,pf:()=>c,ab:()=>u,R7:()=>d,Lu:()=>p,Lb:()=>m,zm:()=>g,xc:()=>h,J:()=>_});var o=n(89454),i=n(21061);const r=(e,t)=>{for(const n of[1,2,5])if(Math.ceil(e/n)<=t)return n;return 10*Math.ceil(e/t/10)},s=(e,t)=>void 0===t?0:Math.ceil(5*t/e);var a;!function(e){e[e.Unmet=1]="Unmet",e[e.Met=2]="Met",e[e.Exceeded=3]="Exceeded"}(a||(a={}));const l=(e,t,n)=>{const{enableBonusPoints:o,maxInLessonStreak:i,session:r}=e,l=r.xpGain,c=n-l;return{bonusXp:o&&e.completedWithHeartsRemaining?s(r.challenges.length,i):0,goalState:n<t?a.Unmet:c<t?a.Met:a.Exceeded,totalXpThisSession:l,totalXpToday:n}},c=(e,t)=>{var n;return 0===(null!==(n=null==t?void 0:t.filter((t=>t.eventType===o.Vi.EventType.PRACTICE&&t.skillId===e.id&&(0,i.zk)(t.time))).length)&&void 0!==n?n:0)},u=(e,t)=>d(e,t)[6],d=(e,t)=>{const n=[0,0,0,0,0,0,0];if(!t)return n;const o=(0,i.Ko)(e),r=(0,i.Zo)();for(const e of t){const t=r-o+86400,i=Math.floor((t-e.time)/86400);i>=0&&i<=6&&(n[6-i]+=e.xp)}return n},p=10,m=40,g=m/2,h=e=>e.sessionParams.isFinalLevel?!e.completedWithHeartsRemaining&&e.partialXpGiven||m+(e.enableBonusPoints?s(e.session.challenges.length,e.maxInLessonStreak):0):void 0,_=(e,t)=>c(e,t)?p:0},2945:(e,t,n)=>{"use strict";n.d(t,{D0:()=>a,z9:()=>l,Gi:()=>c,_L:()=>u});var o=n(80254),i=n(74245),r=n(88868);const s={ar:"ar",cs:"cs",de:"de",el:"el",en:"en-us",es:"es",fr:"fr",hi:"hi",hu:"hu",id:"id",it:"it",ja:"ja",ko:"ko","nl-NL":"nl",pl:"pl",pt:"pt-br",ro:"ro",ru:"ru",th:"th",tr:"tr",uk:"uk",vi:"vi","zh-CN":"zh-cn"},a=()=>{return e=void 0,t=void 0,o=function*(){if(c()){const e=c();yield(0,r.Zs)(`https://support.duolingo.com/hc/${e}`,!0)}},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,n,o},l=e=>{const t=c();return t?`https://support.duolingo.com/hc/${t}/articles/${e}`:"/help"},c=()=>s[window.duo.uiLanguage],u=o.IH(new Function(`// Zendesk Web Widget\nwindow.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(e){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","duolingotest.zendesk.com");\n\n// Hide web widget on load\nzE(function() {\n    zE.hide();\n    zE.setLocale('${i.h9}');\n});`))},55081:(e,t,n)=>{var o={"./ar.duostrings":[99135,9135],"./bn.duostrings":[17464,7464],"./cs.duostrings":[96102,6102],"./de.duostrings":[82867,2867],"./el.duostrings":[49495,9495],"./en.duostrings":[39819,9819],"./es.duostrings":[12579,2579],"./experiments.duostrings":[69295,9295],"./fr.duostrings":[34970,4970],"./hi.duostrings":[40620,620],"./hu.duostrings":[39666,9666],"./id.duostrings":[71062,1062],"./it.duostrings":[87490,7490],"./ja.duostrings":[43162,3162],"./ko.duostrings":[15750,5750],"./language_string_mapping.duostrings":[91307,1307],"./metadata.duostrings":[84309,4309],"./nl-NL.duostrings":[67674,7674],"./pa.duostrings":[94436,4436],"./pl.duostrings":[17716,7716],"./pt.duostrings":[37763,7763],"./ro.duostrings":[37292,7292],"./ru.duostrings":[25529,5529],"./sw.duostrings":[37422,7422],"./ta.duostrings":[73216,3216],"./te.duostrings":[87274,7274],"./th.duostrings":[39943,9943],"./tl.duostrings":[8324,821],"./tr.duostrings":[7396,7396],"./uk.duostrings":[78374,8374],"./vi.duostrings":[89036,9036],"./zh-CN.duostrings":[85189,5189],"./zh-TW.duostrings":[74615,4615]};function i(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return n.e(t[1]).then((()=>n.t(i,19)))}i.keys=()=>Object.keys(o),i.id=55081,e.exports=i},91575:(e,t,n)=>{!function(){var e="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},t="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function o(){o=function(){},t.Symbol||(t.Symbol=r)}var i=0;function r(e){return"jscomp_symbol_"+(e||"")+i++}function s(){o();var n=t.Symbol.iterator;n||(n=t.Symbol.iterator=t.Symbol("iterator")),"function"!=typeof Array.prototype[n]&&e(Array.prototype,n,{configurable:!0,writable:!0,value:function(){return a(this)}}),s=function(){}}function a(e){var n=0;return function(e){return s(),(e={next:e})[t.Symbol.iterator]=function(){return this},e}((function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}}))}function l(e){if(!(e instanceof Array)){s();var t=e[Symbol.iterator];e=t?t.call(e):a(e);for(var n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var c=[];function u(e,t){var n=this;this.context=e,this.h=t,this.f=(this.c=/Task$/.test(t))?e.get(t):e[t],this.a=[],this.b=[],this.g=function(e){for(var t=[],o=0;o<arguments.length;++o)t[o-0]=arguments[o];return n.b[n.b.length-1].apply(null,[].concat(l(t)))},this.c?e.set(t,this.g):e[t]=this.g}function d(e,t){-1<(t=e.a.indexOf(t))&&(e.a.splice(t,1),0<e.a.length?p(e):-1<(t=c.indexOf(e))&&(c.splice(t,1),e.c?e.context.set(e.h,e.f):e.context[e.h]=e.f))}function p(e){e.b=[];for(var t,n=0;t=e.a[n];n++){var o=e.b[n-1]||e.f.bind(e.context);e.b.push(t(o))}}function m(e){var t=history,n=c.filter((function(n){return n.context==t&&n.h==e}))[0];return n||(n=new u(t,e),c.push(n)),n}var g,h,_,v=Object.assign||function(e,t){for(var n=[],o=1;o<arguments.length;++o)n[o-1]=arguments[o];o=0;for(var i=n.length;o<i;o++){var r,s=Object(n[o]);for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},f={l:1,m:2,o:3,u:4,v:5,w:6,A:7,B:8,j:9,s:10},y=Object.keys(f).length;function E(e,t){var n=f.j;e.set("&_av","2.4.1");var o=e.get("&_au");if((o=parseInt(o||"0",16).toString(2)).length<y)for(var i=y-o.length;i;)o="0"+o,i--;n=y-n,o=o.substr(0,n)+1+o.substr(n+1),e.set("&_au",parseInt(o||"0",2).toString(16)),history.pushState&&window.addEventListener&&(this.b=v({shouldTrackUrlChange:this.shouldTrackUrlChange,trackReplaceState:!1,fieldsObj:{},hitFilter:null},t),this.g=e,this.i=location.pathname+location.search,this.c=this.c.bind(this),this.f=this.f.bind(this),this.a=this.a.bind(this),e=this.c,(t=m("pushState")).a.push(e),p(t),e=this.f,(t=m("replaceState")).a.push(e),p(t),window.addEventListener("popstate",this.a))}function b(e,t){setTimeout((function(){var n=e.i,o=location.pathname+location.search;n!=o&&e.b.shouldTrackUrlChange.call(e,o,n)&&(e.i=o,e.g.set({page:o,title:document.title}),(t||e.b.trackReplaceState)&&e.g.send("pageview",function(e,t,n){var o={transport:"beacon"};if("function"==typeof n){var i=t.get("buildHitTask");return{buildHitTask:function(t){t.set(o,null,!0),t.set(e,null,!0),n(t,void 0,void 0),i(t)}}}return v({},o,e)}(e.b.fieldsObj,e.g,e.b.hitFilter)))}),0)}E.prototype.c=function(e){var t=this;return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i-0]=arguments[i];e.apply(null,[].concat(l(o))),b(t,!0)}},E.prototype.f=function(e){var t=this;return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i-0]=arguments[i];e.apply(null,[].concat(l(o))),b(t,!1)}},E.prototype.a=function(){b(this,!0)},E.prototype.shouldTrackUrlChange=function(e,t){return!(!e||!t)},E.prototype.remove=function(){var e=this.c;d(m("pushState"),e),e=this.f,d(m("replaceState"),e),window.removeEventListener("popstate",this.a)},g="urlChangeTracker",h=E,_=window.GoogleAnalyticsObject||"ga",window[_]=window[_]||function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];(window[_].q=window[_].q||[]).push(t)},window.gaDevIds=window.gaDevIds||[],0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo"),window[_]("provide",g,h),window.gaplugins=window.gaplugins||{},window.gaplugins[g.charAt(0).toUpperCase()+g.slice(1)]=h}()},13456:(e,t,n)=>{"use strict";e.exports=n.p+"images/82b226fb035baeb8ce78602d72bf66c4.svg"},43539:(e,t,n)=>{"use strict";e.exports=n.p+"images/28d1f7a89ba7b57d86c6c1b2e40d8f4e.svg"},20042:(e,t,n)=>{"use strict";e.exports=n.p+"images/17db14133432ce4e82a799e760bd3e0e.svg"},52263:(e,t,n)=>{"use strict";e.exports=n.p+"images/4a9f9204e7e5c1d3ed3b79b7b7af8568.svg"},90194:(e,t,n)=>{"use strict";e.exports=n.p+"images/china/a3935ab1e12d2256f79be08e64c11ead.png"},84199:(e,t,n)=>{"use strict";e.exports=n.p+"images/china/8ac5f69a53362c09584230c85b567ef7.png"},95269:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/385a104c7a2d5c483117b157cd0182b7.svg"},39675:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/00ef38a541ef4b6a08f1108991ecfd92.svg"},60097:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/164f95da65d80d5bf9a64c7b0afd0c08.svg"},14349:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/fafe27c9c1efa486f49f87a3d691a66e.svg"},43744:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/ac2e0998c42f5d11a1654859511fcccd.svg"},55193:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/011e64d7938c49ed6d80052f9e9acf57.svg"},28781:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/4fe661b8df4bfad97709417d62b83422.svg"},12378:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/dc4851466463c85bbfcaaaaae18e1925.svg"},86962:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/3b0e3903160a93f33f3688a92e4654a2.svg"},71945:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/bd6138f65619579ad6b5771387734fc8.svg"},7748:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/5cfdfefdfc4796b70bd69be887d05ca3.svg"},14446:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/b3ede3d53c932ee30d981064671c8032.svg"},28717:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/f2e84728e922b45ed79761f3f5002166.svg"},57693:(e,t,n)=>{"use strict";e.exports=n.p+"images/crowns/95b67fdecc0e8415076d199f19c4f8d7.svg"},42158:(e,t,n)=>{"use strict";e.exports=n.p+"images/617c9bcf01673a55c983c7d0a14a6bd4.svg"},67445:(e,t,n)=>{"use strict";e.exports=n.p+"images/7fab398e2ffb906fbe9f6899fbbd5e40.svg"},6191:(e,t,n)=>{"use strict";e.exports=n.p+"images/7ad06f4cefc35f3a30c37b8eacbd32a1.svg"},78390:(e,t,n)=>{"use strict";e.exports=n.p+"images/03db5294241463be5cb3adac8954b94b.svg"},87122:(e,t,n)=>{"use strict";e.exports=n.p+"images/dca3b978d07a7dfc05adb1d5526e9e21.svg"},92947:(e,t,n)=>{"use strict";e.exports=n.p+"images/44f6772c39c57073ce926bb79210d7e1.svg"},64756:(e,t,n)=>{"use strict";e.exports=n.p+"images/9dc5f133240809ea530649bca27c7eca.svg"},85171:(e,t,n)=>{"use strict";e.exports=n.p+"images/793ab95c4a5d4f5a179df0ff71b34805.svg"},96772:(e,t,n)=>{"use strict";e.exports=n.p+"images/d336e25e05ba32139e0f15a268a3664e.svg"},64176:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/57ca28b93d9dd81e021f92f6d9b71580.json"},47754:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/7e5645954e49ca24ffc070376964eb3b.json"},41777:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/5c2991d712436826c60a89a9794a6bb7.json"},89011:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/768e325fe4f97fbb146c66dba00640d5.json"},53961:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/1052c307ba95259af552f9b72cd54ce6.json"},79990:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/2638a12cd9c4b9b14ecec072fff94dd6.json"},83320:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/7db943859beca8a8a82ecf40423bc2f4.json"},59799:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/6111f9288f86bbeb6d4eb452d8348dfe.json"},38354:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/09dc8e18a742fd0601f247b110b2b088.json"},36892:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/dc09d65c37ef56201997982c3d49b6c7.json"},65386:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/cb90151b921102eb8dbfa6f3063d4736.json"},66830:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/66f2c611f0fd980b0e488ce1266d0d79.json"},6112:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/7e08fcd8251b4e3afcedd6671d12d9bc.json"},61343:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/9eb9e9956dd7d3c274f1a01d652b530e.json"},90136:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/0cb2f02a5d3c6856aa7f7a1b3b00019b.json"},96017:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/748d0ec85e7871b43cf5e7bccce456a3.json"},76483:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/e131980683bcf67397448a5b8d6504e4.json"},60125:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/48d17689d8bb7d400b2ec4e7c778b61a.json"},29065:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/e3f377bad058670b145175c99fb2ffd9.json"},50416:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/2f5ffc6ffa1dc13365491081d4e23442.json"},3139:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/181d3d808bdd93842e5d40c97d0a4260.json"},23642:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/e06b4f6ce7e03a974d256b2019612f82.json"},92327:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/da8ba49a04d1a000a345dfeb7123d8a5.json"},33634:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/668e31a436fd7ec75ff508eba5ea6c32.json"},43876:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/3a1503ceea000ee75e411ac12dccb700.json"},81656:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/d0a5573f9e8ec0d37648eb49fcbce1e4.json"},92419:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/997c394593cedd59b218f0d40275697d.json"},25610:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/20f41b6126e97789d1f699e6448c0bea.json"},93884:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/29a3f21373b6fc1849afee4e03673a0e.json"},82423:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/e0eca038421e13d707ea5a3b80f6cfe1.json"},81907:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/a8cac8676a37f57064b8399fa02c2a80.json"},48681:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/261470a3cd0cfa4bb08d46fbd033d06c.json"},54030:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/b29da9ee0a59fe78042360f24e61dca1.json"},18514:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/98ada424fae6183aa0be2d4a70add29b.json"},50674:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/f24269d863da794a82fe80d9df69b15a.json"},69010:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/4baa6616a07824a337b438e8a74eb243.json"},37141:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/66f2c611f0fd980b0e488ce1266d0d79.json"},53998:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/fd8c57ab4ca324f6e3ced9cd4d54602c.json"},13035:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/2926c347885eb9752eecd4c04a1bb2ce.json"},23313:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/768e325fe4f97fbb146c66dba00640d5.json"},25183:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/6111f9288f86bbeb6d4eb452d8348dfe.json"},90299:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/26c5ad8df3bac74b6b098b948393dd7f.json"},27307:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/ad1f46de06318605304e1c0e10ee2e40.json"},40505:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/7d0f1d2eae7daf86442abbc7408090c7.json"},91869:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/04be8821afdcf0c90ef0e4d289b61552.json"},21759:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/997c394593cedd59b218f0d40275697d.json"},32212:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/0f9a2914ea64d1b1fab0a4c2f24e6317.json"},24826:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/3f08fb6f2e4962273df984e20fb86c99.json"},73402:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/0770af2050cc1493f48a3a027eddffcc.json"},62743:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/3fff7b2d42f5f281f968b3c7e72df8f3.json"},9209:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/03eeb81021a66154ed1607842c02e5c8.json"},64885:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/ecd0df252edb0baf77301fba9e63278d.json"},83800:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/2186cd093fb4d13d6d3999eea9f715a0.json"},65462:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/997c394593cedd59b218f0d40275697d.json"},49718:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/e347bc150ffc05d712cb14f8e87b6f1d.json"},7408:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/dc104204f621ee021081962398c91ad3.json"},57075:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/05b24fc9c46e363fc6abb0d1df419420.json"},86148:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/05d90a772a0f3d68104e94c33d707ae0.json"},36599:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/748d0ec85e7871b43cf5e7bccce456a3.json"},82884:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/819a182a05af1f432bc220d944aa1b98.json"},22570:(e,t,n)=>{"use strict";e.exports=n.p+"lottie/skills/6f1daa9240a0756773e0387bfe3c9632.json"},1330:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/7abe057dc8446ad325229edd6d8fd250.mp3"},39158:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/2aae0ea735c8e9ed884107d6f0a09e35.mp3"},81891:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/421d48c53ad6d52618dba715722278e0.mp3"},37939:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/37d8f0b39dcfe63872192c89653a93f6.mp3"},33418:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/0a27c1ee63dd220647e8410a0029aed2.mp3"},21384:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/a28ff0a501ef5f33ca78c0afc45ee53e.mp3"},1563:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/2e4669d8cf839272f0731f8afa488caf.mp3"},62103:(e,t,n)=>{"use strict";e.exports=n.p+"sounds/f0b6ab4396d5891241ef4ca73b4de13a.mp3"},76986:e=>{"use strict";e.exports=JSON.parse('[["[’\\\\\\"´‘`′ʻ́̀´]","\'"],["[\\\\[\\\\]\\\\{\\\\}\\\\<\\\\>\\\\)\\\\(\\\\^\\\\~\\\\_\\\\-\\\\‐\\\\;\\\\!\\\\¡\\\\|\\\\?\\\\¿\\\\/\\\\·\\\\\\"\\\\«\\\\»\\\\“\\\\”\\\\„\\\\–\\\\:\\\\,\\\\.\\\\▶\\\\*\\\\+\\\\’\\\\。\\\\，\\\\、\\\\､\\\\‚\\\\｡\\\\；\\\\：\\\\「\\\\」\\\\『\\\\』\\\\（\\\\）\\\\？\\\\！\\\\─\\\\…\\\\《\\\\》\\\\〈\\\\〉\\\\．\\\\～\\\\،\\\\؟\\\\।\\\\—\\\\‧]",""],["\\\\s+"," "],["^ | $",""]]')}},e=>{e.O(0,[3913],(()=>(7601,e(e.s=7601)))),e.O()}]);